<html><head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=9">
        <title>SOFTWARE DE GESTION ADMINFO   --   SOLUCIONES LATINAS Ltda.</title>

        <link href="https://alianzas.adminfoweb.net/vsmart/imagenes/icon.png?cache=1" rel="icon" type="image/png">
        <link href="https://alianzas.adminfoweb.net/vsmart/css/themes/custom-theme/jquery-ui-1.8.10.custom.css" rel="stylesheet" type="text/css">   
        <link href="https://alianzas.adminfoweb.net/vsmart/css/general.css" rel="stylesheet" type="text/css">
        <link href="https://alianzas.adminfoweb.net/vsmart/css/usuarioempresa.css" rel="stylesheet" type="text/css">
        <link href="https://alianzas.adminfoweb.net/vsmart/css/Gridtable.css" rel="stylesheet" type="text/css">
        <link href="https://alianzas.adminfoweb.net/vsmart/css/formulario/jquery.qtip.min.css" rel="stylesheet" type="text/css">
        <link href="https://alianzas.adminfoweb.net/vsmart/js/cluetip/jquery.cluetip.css" rel="stylesheet" type="text/css">
        <link href="https://alianzas.adminfoweb.net/vsmart/js/select2/select2.css" rel="stylesheet">
        <link href="https://alianzas.adminfoweb.net/vsmart/css/plantillaPrincipal.css" rel="stylesheet" type="text/css">
        <link href="https://alianzas.adminfoweb.net/vsmart/css/menu.css" rel="stylesheet" type="text/css">
        <link rel="gettext" lang="es_CO" href="https://alianzas.adminfoweb.net/vsmart/locale/es_CO/LC_MESSAGES/messages.json">
                <link href="https://alianzas.adminfoweb.net/vsmart/css/criterios.css" rel="stylesheet" type="text/css">
<link href="https://alianzas.adminfoweb.net/vsmart/css/informes.css" rel="stylesheet" type="text/css">
        <script type="text/javascript">
            var strDominio       = 'https://alianzas.adminfoweb.net/vsmart/';
            var intAnchoPantalla = (window.innerWidth  || self.innerWidth)-90;
            var intAltoPantalla  = (window.innerHeight || self.innerHeight)-90;
        </script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/php.min.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/jquery.estable.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/jquery-ui-1.8.10.custom.min.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/jquery.layout.min.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/ajax.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/noty.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/gettextjs/gettext.js"></script>
	    <script type="text/javascript"> $.gt.load('es_CO'); </script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/funciones.js"></script><script type="text/javascript">var Message = {
    options: {
        appendTo: "body",
        autohide: 5,
        interval: 500,
        messageClass: "message",
        messageClassActive: "message-active",
        messageContainerClass: "messageContainer",
        messageWrapperClass: "message-wrapper",
        messageTextClass: "message-text",
        messageTitleClass: "message-title"
    },
    queue: [],
    container: null,
    init: function (a) {
        $.extend(this.options, a || {});
        if (this.options.autohide) {
            this.options.autohide *= 1000
        }
        $(this.options.appendTo).append($('<div id="__messageQueue__container"></div>').addClass(this.options.messageContainerClass));
        this.container = $("div#__messageQueue__container");
        if ("setInterval" in window) {
            window.setInterval(function () {
                Message.check()
            }, this.options.interval)
        } else {
            window.setTimeout(function () {
                Message.check(true)
            }, this.options.interval)
        }
        $("div#__messageQueue__container *").live("selectstart", function () {
            return false
        });
        $("div#__messageQueue__container *").live("mousedown", function () {
            $(this).css("MozUserSelect", "none");
            return false
        })
    },
    check: function (d) {
        var a = new Date().getTime();
        for (var b = 0; b < this.queue.length; b++) {
            var c = this.queue[b];
            if (c.unread) {
                c.unread = false;
                this.show(c.unique)
            } else {
                if (!c.active && !c.sticky && this.options.autohide && ((!c.autohide && c.time < (a - this.options.autohide)) || (c.autohide && c.time < (a - c.autohide)))) {
                    this.hide(c.unique)
                }
            }
        }
        if (d) {
            window.setTimeout(function () {
                Message.check(true)
            }, this.options.interval)
        }
    },
    add: function (d, c, b) {
        if (!c) {
            c = d.substr(0, 20);
            if (d.length > 20) {
                c += "..."
            }
        }
        if (!b) {
            b = {
                style: "",
                callback: false,
                autohide: false
            }
        } else {
            if (typeof b == "string") {
                b = {
                    style: b,
                    callback: false,
                    autohide: false
                }
            } else {
                if (typeof b == "function") {
                    b = {
                        style: "",
                        callback: b,
                        sticky: true,
                        autohide: false
                    }
                } else {
                    if (typeof b == "number") {
                        b = {
                            style: "",
                            callback: false,
                            autohide: b
                        }
                    } else {
                        if (typeof b == "object") {
                            if (b.callback) {
                                b.sticky = true
                            }
                        }
                    }
                }
            }
        }
        var a = new Date().getTime();
        return this.queue.push($.extend(b, {
            time: a,
            unique: a + "_" + (Math.floor(Math.random() * 90000) + 10000),
            text: d,
            title: c,
            unread: true,
            active: false,
            sticky: (b.sticky || b.style.match(/\bsticky\b/i) ? true : false)
        }))
    },
    remove: function (b) {
        for (var a = this.queue.length - 1; a >= 0; a--) {
            if (this.queue[a].unique == b) {
                this.queue.splice(a, 1)
            }
        }
        return true
    },
    get: function (b) {
        for (var a = this.queue.length - 1; a >= 0; a--) {
            if (this.queue[a].unique == b) {
                return this.queue[a]
            }
        }
        return false
    },
    show: function (b) {
        var a = this.get(b);
        $(this.container).append($('<div id="__messageId_' + a.unique + '"></div>').addClass(this.options.messageClass).append($("<div></div>").addClass(this.options.messageWrapperClass).append($("<div></div>").addClass(a.style).append($("<h1></h1>").addClass(this.options.messageTitleClass).html(a.title)).append($("<p></p>").addClass(this.options.messageTextClass).html(a.text))).data("unique", a.unique).click(function () {
            Message.hide($(this).data("unique"))
        }).mouseenter(function () {
            Message.active($(this).data("unique"))
        }).mouseleave(function () {
            Message.inactive($(this).data("unique"))
        })).css({
            opacity: 0
        }).animate({
            opacity: 1
        }, 300));
        $(this.container).hide();
        $(this.container).slideToggle('slow');
    },
    hide: function (b) {
        var a = this.get(b);
        if (a.callback) {
            a.callback()
        }
        this.remove(b);
        $("div#__messageId_" + b).animate({
            height: "0px",
            opacity: "0",
            "margin-bottom": "0px"
        }, 300, "linear", function () {
            $(this).remove()
        })
    },
    active: function (b) {
        var a = this.get(b);
        $("div#__messageId_" + b).addClass(this.options.messageClassActive);
        a.active = true
    },
    inactive: function (b) {
        var a = this.get(b);
        $("div#__messageId_" + b).removeClass(this.options.messageClassActive);
        a.active = false
    }
};</script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/cluetip/jquery.cluetip.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/formulario/jquery.qtip.min.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/jquery.simplemodal.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/plantilla.js"></script>        
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/dialog.extend.js"></script>
        <script type="text/javascript" src="https://alianzas.adminfoweb.net/vsmart/js/overlay.js"></script>
        <script type="text/javascript">
            if (!jQuery().select2) {
                require_once(strDominio + "js/select2/select2.min.js");
                require_once(strDominio + "js/select2/select2_locale_es.js");
            }
        </script><script type="text/javascript">/*
Copyright 2012 Igor Vaynberg

Version: 3.4.5 Timestamp: Mon Nov  4 08:22:42 PST 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

http://www.apache.org/licenses/LICENSE-2.0
http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the Apache License
or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied. See the Apache License and the GPL License for the specific language governing
permissions and limitations under the Apache License and the GPL License.
*/
!function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function n(a){var b,c,d,e;if(!a||a.length<1)return a;for(b="",c=0,d=a.length;d>c;c++)e=a.charAt(c),b+=m[e]||e;return b}function o(a,b){for(var c=0,d=b.length;d>c;c+=1)if(q(a,b[c]))return c;return-1}function p(){var b=a(l);b.appendTo("body");var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function q(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?a+""==c+"":c.constructor===String?c+""==a+"":!1}function r(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function s(a){return a.outerWidth(!1)-a.width()}function t(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function u(c){c.on("mousemove",function(c){var d=i;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function v(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function w(a){var c,b=!1;return function(){return b===!1&&(c=a(),b=!0),c}}function x(a,b){var c=v(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){o(a.target,b.get())>=0&&c(a)})}function y(a){a[0]!==document.activeElement&&window.setTimeout(function(){var d,b=a[0],c=a.val().length;a.focus(),a.is(":visible")&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(c,c):b.createTextRange&&(d=b.createTextRange(),d.collapse(!1),d.select()))},0)}function z(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function A(a){a.preventDefault(),a.stopPropagation()}function B(a){a.preventDefault(),a.stopImmediatePropagation()}function C(b){if(!h){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);h=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),h.attr("class","select2-sizer"),a("body").append(h)}return h.text(b.val()),h.width()}function D(b,c,d){var e,g,f=[];e=b.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0===this.indexOf("select2-")&&f.push(this)})),e=c.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(g=d(this),g&&f.push(g))})),b.attr("class",f.join(" "))}function E(a,b,c,d){var e=n(a.toUpperCase()).indexOf(n(b.toUpperCase())),f=b.length;return 0>e?(c.push(d(a)),void 0):(c.push(d(a.substring(0,e))),c.push("<span class='select2-match'>"),c.push(d(a.substring(e,e+f))),c.push("</span>"),c.push(d(a.substring(e+f,a.length))),void 0)}function F(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function G(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page);i.callback(b)}}),e=j.call(h,l)},f)}}function H(b){var d,e,c=b,f=function(a){return""+a.text};a.isArray(c)&&(e=c,c={results:e}),a.isFunction(c)===!1&&(e=c,c=function(){return e});var g=c();return g.text&&(f=g.text,a.isFunction(f)||(d=g.text,f=function(a){return a[d]})),function(b){var g,d=b.term,e={results:[]};return""===d?(b.callback(c()),void 0):(g=function(c,e){var h,i;if(c=c[0],c.children){h={};for(i in c)c.hasOwnProperty(i)&&(h[i]=c[i]);h.children=[],a(c.children).each2(function(a,b){g(b,h.children)}),(h.children.length||b.matcher(d,f(h),c))&&e.push(h)}else b.matcher(d,f(c),c)&&e.push(c)},a(c().results).each2(function(a,b){g(b,e.results)}),b.callback(e),void 0)}}function I(c){var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]};a(d?c():c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g)}}function J(b,c){if(a.isFunction(b))return!0;if(!b)return!1;throw new Error(c+" must be a function or a falsy value")}function K(b){return a.isFunction(b)?b():b}function L(b){var c=0;return a.each(b,function(a,b){b.children?c+=L(b.children):c++}),c}function M(a,c,d,e){var h,i,j,k,l,f=a,g=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(i=-1,j=0,k=e.tokenSeparators.length;k>j&&(l=e.tokenSeparators[j],i=a.indexOf(l),!(i>=0));j++);if(0>i)break;if(h=a.substring(0,i),a=a.substring(i+l.length),h.length>0&&(h=e.createSearchChoice.call(this,h,c),h!==b&&null!==h&&e.id(h)!==b&&null!==e.id(h))){for(g=!1,j=0,k=c.length;k>j;j++)if(q(e.id(h),e.id(c[j]))){g=!0;break}g||d(h)}}return f!==a?a:void 0}function N(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var c,d,e,f,g,h,j,k,i={x:0,y:0},c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case c.SHIFT:case c.CTRL:case c.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},l="<div class='select2-measure-scrollbar'></div>",m={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};j=a(document),g=function(){var a=1;return function(){return a++}}(),j.on("mousemove",function(a){i.x=a.pageX,i.y=a.pageY}),d=N(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,f=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+g()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=w(function(){return c.element.closest("body")}),D(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(K(c.containerCss)),this.container.addClass(K(c.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",A),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),D(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(K(c.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",A),this.results=d=this.container.find(f),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",A),u(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",f,this.bind(this.highlightUnderEvent)),x(80,this.results),this.dropdown.on("scroll-debounced",f,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),A(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),A(a))}),t(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",f,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()}),a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),k=k||p(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=b},destroy:function(){var a=this.opts.element,c=a.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),c!==b&&(c.container.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:q(a.attr("locked"),"locked")||q(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,g,h=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var g,i=this.opts.id;g=function(d,e,j){var k,l,m,n,o,p,q,r,s,t;for(d=c.sortResults(d,e,f),k=0,l=d.length;l>k;k+=1)m=d[k],o=m.disabled===!0,n=!o&&i(m)!==b,p=m.children&&m.children.length>0,q=a("<li></li>"),q.addClass("select2-results-dept-"+j),q.addClass("select2-result"),q.addClass(n?"select2-result-selectable":"select2-result-unselectable"),o&&q.addClass("select2-disabled"),p&&q.addClass("select2-result-with-children"),q.addClass(h.opts.formatResultCssClass(m)),r=a(document.createElement("div")),r.addClass("select2-result-label"),t=c.formatResult(m,r,f,h.opts.escapeMarkup),t!==b&&r.html(t),q.append(r),p&&(s=a("<ul></ul>"),s.addClass("select2-result-sub"),g(m.children,s,j+1),q.append(s)),q.data("select2-data",m),e.append(q)},g(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var f,g,i,c={results:[],more:!1},e=a.term;i=function(b,c){var d;b.is("option")?a.matcher(e,b.text(),b)&&c.push(h.optionToData(b)):b.is("optgroup")&&(d=h.optionToData(b),b.children().each2(function(a,b){i(b,d.children)}),d.children.length>0&&c.push(d))},f=d.children(),this.getPlaceholder()!==b&&f.length>0&&(g=this.getPlaceholderOption(),g&&(f=f.not(g))),f.each2(function(a,b){i(b,c.results)}),a.callback(c)}),c.id=function(a){return a.id},c.formatResultCssClass=function(a){return a.css}):"query"in c||("ajax"in c?(g=c.element.data("ajax-url"),g&&g.length>0&&(c.ajax.url=g),c.query=G.call(c.element,c.ajax)):"data"in c?c.query=H(c.data):"tags"in c&&(c.query=I(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(r(b.val(),c.separator)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return q(this.id,b.id)?(b=this,!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");return c},monitorSource:function(){var c,d,a=this.opts.element;a.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),c=this.bind(function(){var c=a.prop("disabled");c===b&&(c=!1),this.enable(!c);var d=a.prop("readonly");d===b&&(d=!1),this.readonly(d),D(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(K(this.opts.containerCssClass)),D(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(K(this.opts.dropdownCssClass))}),a.on("propertychange.select2",c),this.mutationCallback===b&&(this.mutationCallback=function(a){a.forEach(c)}),d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,d!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new d(this.mutationCallback),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){return a===b&&(a=!1),this._readonly===a?!1:(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,u,v,w,x,b=this.dropdown,c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),g=a(window),h=g.width(),i=g.height(),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,o=l>=m+f,p=c.top-f>=this.body().scrollTop(),q=b.outerWidth(!1),r=j>=n+q,s=b.hasClass("select2-drop-above");s?(u=!0,!p&&o&&(v=!0,u=!1)):(u=!1,!o&&p&&(v=!0,u=!0)),v&&(b.hide(),c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,q=b.outerWidth(!1),r=j>=n+q,b.show()),this.opts.dropdownAutoWidth?(x=a(".select2-results",b)[0],b.addClass("select2-drop-auto-width"),b.css("width",""),q=b.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:k.width),q>e?e=q:q=e,r=j>=n+q):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),m-=t.top,n-=t.left),r||(n=c.left+e-q),w={left:n,width:e},u?(w.bottom=i-c.top,w.top="auto",this.container.addClass("select2-drop-above"),b.addClass("select2-drop-above")):(w.top=m,w.bottom="auto",this.container.removeClass("select2-drop-above"),b.removeClass("select2-drop-above")),w=a.extend(w,K(this.opts.dropdownCss)),b.css(w)},shouldOpen:function(){var b;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var f,b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),f=a("#select2-drop-mask"),0==f.length&&(f=a(document.createElement("div")),f.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),f.hide(),f.appendTo(this.body()),f.on("mousedown touchstart click",function(b){var d,c=a("#select2-drop");c.length>0&&(d=c.data("select2"),d.opts.selectOnBlur&&d.selectHighlighted({noFocus:!0}),d.close({focus:!0}),b.preventDefault(),b.stopPropagation())})),this.dropdown.prev()[0]!==f[0]&&this.dropdown.before(f),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),f.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){a(this).on(d+" "+c+" "+e,function(){g.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return K(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var c,d,e,f,g,h,i,b=this.results;if(d=this.highlight(),!(0>d)){if(0==d)return b.scrollTop(0),void 0;c=this.findHighlightableChoices().find(".select2-result-label"),e=a(c[d]),f=e.offset().top+e.outerHeight(!0),d===c.length-1&&(i=b.find("li.select2-more-results"),i.length>0&&(f=i.offset().top+i.outerHeight(!0))),g=b.offset().top+b.outerHeight(!0),f>g&&b.scrollTop(b.scrollTop()+(f-g)),h=e.offset().top-b.offset().top,0>h&&"none"!=e.css("display")&&b.scrollTop(b.scrollTop()+h)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var d,e,c=this.findHighlightableChoices();return 0===arguments.length?o(c.filter(".select2-highlighted")[0],c.get()):(b>=c.length&&(b=c.length-1),0>b&&(b=0),this.removeHighlight(),d=a(c[b]),d.addClass("select2-highlighted"),this.ensureHighlightVisible(),e=d.data("select2-data"),e&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var c,a=this.results,b=a.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),c<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(c){e.opened()&&(e.opts.populateResults.call(this,a,c.results,{term:f,page:d,context:g}),e.postprocessResults(c,!1,!1),c.more===!0?(b.detach().appendTo(a).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d,e.context=c.context,this.opts.element.trigger({type:"select2-loaded",items:c}))})})))},tokenize:function(){},updateResults:function(c){function m(){d.removeClass("select2-active"),h.positionDropdown()}function n(a){e.html(a),m()}var g,i,l,d=this.search,e=this.results,f=this.opts,h=this,j=d.val(),k=a.data(this.container,"select2-last-term");if((c===!0||!k||!q(j,k))&&(a.data(this.container,"select2-last-term",j),c===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var o=this.getMaximumSelectionSize();if(o>=1&&(g=this.data(),a.isArray(g)&&g.length>=o&&J(f.formatSelectionTooBig,"formatSelectionTooBig")))return n("<li class='select2-selection-limit'>"+f.formatSelectionTooBig(o)+"</li>"),void 0;if(d.val().length<f.minimumInputLength)return J(f.formatInputTooShort,"formatInputTooShort")?n("<li class='select2-no-results'>"+f.formatInputTooShort(d.val(),f.minimumInputLength)+"</li>"):n(""),c&&this.showSearch&&this.showSearch(!0),void 0;
if(f.maximumInputLength&&d.val().length>f.maximumInputLength)return J(f.formatInputTooLong,"formatInputTooLong")?n("<li class='select2-no-results'>"+f.formatInputTooLong(d.val(),f.maximumInputLength)+"</li>"):n(""),void 0;f.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+f.formatSearching()+"</li>"),d.addClass("select2-active"),this.removeHighlight(),i=this.tokenize(),i!=b&&null!=i&&d.val(i),this.resultsPage=1,f.query({element:f.element,term:d.val(),page:this.resultsPage,context:null,matcher:f.matcher,callback:this.bind(function(g){var i;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==d.val()&&(i=this.opts.createSearchChoice.call(h,d.val(),g.results),i!==b&&null!==i&&h.id(i)!==b&&null!==h.id(i)&&0===a(g.results).filter(function(){return q(h.id(this),h.id(i))}).length&&g.results.unshift(i)),0===g.results.length&&J(f.formatNoMatches,"formatNoMatches"))return n("<li class='select2-no-results'>"+f.formatNoMatches(d.val())+"</li>"),void 0;e.empty(),h.opts.populateResults.call(this,e,g.results,{term:d.val(),page:this.resultsPage,context:null}),g.more===!0&&J(f.formatLoadMore,"formatLoadMore")&&(e.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(f.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(g,c),m(),this.opts.element.trigger({type:"select2-loaded",items:g})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){y(this.search)},selectHighlighted:function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\s/g,""),e=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),e=N(d,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e)),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var b,d=this.container,e=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=d.find(".select2-choice"),this.focusser=d.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+g()),a("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)return A(a),void 0;switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),A(a),void 0;case c.ENTER:return this.selectHighlighted(),A(a),void 0;case c.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case c.ESC:return this.cancel(a),A(a),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.ESC){if(this.opts.openOnEnter===!1&&a.which===c.ENTER)return A(a),void 0;if(a.which==c.DOWN||a.which==c.UP||a.which==c.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),A(a),void 0}return a.which==c.DELETE||a.which==c.BACKSPACE?(this.opts.allowClear&&this.clear(),A(a),void 0):void 0}})),t(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),B(a),this.close(),this.selection.focus())})),b.on("mousedown",this.bind(function(b){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),A(b)})),e.on("mousedown",this.bind(function(){this.search.focus()})),b.on("focus",this.bind(function(a){A(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),b!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val():!1},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var g=q(e,b.id(d));return g&&(f=d),g},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return q(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),c!==!1&&(b===!0&&d>=0?this.highlight(d):this.highlight(0)),b===!0){var g=this.opts.minimumResultsForSearch;g>=0&&this.showSearch(L(a.results)>=g)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||this.focusser.focus(),q(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var d,e,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),c.empty(),null!==a&&(d=this.opts.formatSelection(a,c,this.opts.escapeMarkup)),d!==b&&c.append(d),e=this.opts.formatSelectionCssClass(a,c),e!==b&&c.addClass(e),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return this.clear(c),void 0;if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d),void 0)}}),f=N(d,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=r(c.val(),b.separator),f=[];b.query({matcher:function(c,d,g){var h=a.grep(e,function(a){return q(a,b.id(g))}).length;return h&&f.push(g),h},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var g=e[c],h=0;h<f.length;h++){var i=f[h];if(q(g,b.id(i))){a.push(i),f.splice(h,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var d,b=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=d=this.container.find(b);var e=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){e.search[0].focus(),e.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+g()),a("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var b=d.find(".select2-search-choice-focus"),e=b.prev(".select2-search-choice:not(.select2-locked)"),f=b.next(".select2-search-choice:not(.select2-locked)"),g=z(this.search);if(b.length&&(a.which==c.LEFT||a.which==c.RIGHT||a.which==c.BACKSPACE||a.which==c.DELETE||a.which==c.ENTER)){var h=b;return a.which==c.LEFT&&e.length?h=e:a.which==c.RIGHT?h=f.length?f:null:a.which===c.BACKSPACE?(this.unselect(b.first()),this.search.width(10),h=e.length?e:f):a.which==c.DELETE?(this.unselect(b.first()),this.search.width(10),h=f.length?f:null):a.which==c.ENTER&&(h=null),this.selectChoice(h),A(a),h&&h.length||this.open(),void 0}if((a.which===c.BACKSPACE&&1==this.keydowns||a.which==c.LEFT)&&0==g.offset&&!g.length)return this.selectChoice(d.find(".select2-search-choice:not(.select2-locked)").last()),A(a),void 0;if(this.selectChoice(null),this.opened())switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),A(a),void 0;case c.ENTER:return this.selectHighlighted(),A(a),void 0;case c.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case c.ESC:return this.cancel(a),A(a),void 0}if(a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.BACKSPACE&&a.which!==c.ESC){if(a.which===c.ENTER){if(this.opts.openOnEnter===!1)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)&&A(a),a.which===c.ENTER&&A(a)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",b,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",b,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],e=this;a(b).each(function(){o(e.id(this),c)<0&&(c.push(e.id(this)),d.push(this))}),b=d,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){e.addSelectedChoice(this)}),e.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),b&&b.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){var j,k,d=!c.locked,e=a("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),f=a("<li class='select2-search-choice select2-locked'><div></div></li>"),g=d?e:f,h=this.id(c),i=this.getVal();j=this.opts.formatSelection(c,g.find("div"),this.opts.escapeMarkup),j!=b&&g.find("div").replaceWith("<div>"+j+"</div>"),k=this.opts.formatSelectionCssClass(c,g.find("div")),k!=b&&g.addClass(k),d&&g.find(".select2-search-choice-close").on("mousedown",A).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),A(b))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),g.data("select2-data",c),g.insertBefore(this.searchContainer),i.push(h),this.setVal(i)},unselect:function(b){var d,e,c=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(d=b.data("select2-data")){for(;(e=o(this.id(d),c))>=0;)c.splice(e,1),this.setVal(c),this.select&&this.postprocessResults();var f=a.Event("select2-removing");f.val=this.id(d),f.choice=d,this.opts.element.trigger(f),f.isDefaultPrevented()||(b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(d),choice:d}),this.triggerChange({removed:d}))}},postprocessResults:function(a,b,c){var d=this.getVal(),e=this.results.find(".select2-result"),f=this.results.find(".select2-result-with-children"),g=this;e.each2(function(a,b){var c=g.id(b.data("select2-data"));o(c,d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),f.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&c!==!1&&g.highlight(0),!this.opts.createSearchChoice&&!e.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&J(g.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+g.opts.formatNoMatches(g.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var a,b,c,d,e,f=s(this.search);a=C(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),r(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){o(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)q(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),d&&this.triggerChange({added:this.data(),removed:e}),void 0;if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var e,f,d=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(f=this.data(),b||(b=[]),e=a.map(b,function(a){return d.opts.id(a)}),this.setVal(e),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(f,this.data())),void 0)}}),a.fn.select2=function(){var d,g,h,i,j,c=Array.prototype.slice.call(arguments,0),k=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],m=["val","data"],n={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])d=0===c.length?{}:a.extend({},c[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?j=d.element.prop("multiple"):(j=d.multiple||!1,"tags"in d&&(d.multiple=j=!0)),g=j?new f:new e,g.init(d);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(o(c[0],k)<0)throw"Unknown method: "+c[0];if(i=b,g=a(this).data("select2"),g===b)return;if(h=c[0],"container"===h?i=g.container:"dropdown"===h?i=g.dropdown:(n[h]&&(h=n[h]),i=g[h].apply(g,c.slice(1))),o(c[0],l)>=0||o(c[0],m)&&1==c.length)return!1}}),i===b?this:i},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return E(a.text,c.term,e,d),e.join("")},formatSelection:function(a,c,d){return a?d(a.text):b},sortResults:function(a){return a},formatResultCssClass:function(){return b},formatSelectionCssClass:function(){return b},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return n(""+b).toUpperCase().indexOf(n(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:M,escapeMarkup:F,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return b}},a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:G,local:H,tags:I},util:{debounce:v,markMatch:E,escapeMarkup:F,stripDiacritics:n},"class":{"abstract":d,single:e,multi:f}}}}(jQuery);</script><script type="text/javascript">/**
 * Select2 Spanish translation
 */
(function ($) {
    "use strict";

    $.extend($.fn.select2.defaults, {
        formatNoMatches: function () { return "No se encontraron resultados"; },
        formatInputTooShort: function (input, min) { var n = min - input.length; return "Por favor, introduzca " + n + " car" + (n == 1? "á" : "a") + "cter" + (n == 1? "" : "es"); },
        formatInputTooLong: function (input, max) { var n = input.length - max; return "Por favor, elimine " + n + " car" + (n == 1? "á" : "a") + "cter" + (n == 1? "" : "es"); },
        formatSelectionTooBig: function (limit) { return "Sólo puede seleccionar " + limit + " elemento" + (limit == 1 ? "" : "s"); },
        formatLoadMore: function (pageNumber) { return "Cargando más resultados..."; },
        formatSearching: function () { return "Buscando..."; }
    });
})(jQuery);
</script>
        <script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/jquery-ui-timepicker-addon.js'); </script><script type="text/javascript">/*
 * jQuery timepicker addon
 * By: Trent Richardson [http://trentrichardson.com]
 * Version 0.9.9
 * Last Modified: 02/05/2012
 * 
 * Copyright 2012 Trent Richardson
 * Dual licensed under the MIT and GPL licenses.
 * http://trentrichardson.com/Impromptu/GPL-LICENSE.txt
 * http://trentrichardson.com/Impromptu/MIT-LICENSE.txt
 * 
 * HERES THE CSS:
 * .ui-timepicker-div .ui-widget-header { margin-bottom: 8px; }
 * .ui-timepicker-div dl { text-align: left; }
 * .ui-timepicker-div dl dt { height: 25px; margin-bottom: -25px; }
 * .ui-timepicker-div dl dd { margin: 0 10px 10px 65px; }
 * .ui-timepicker-div td { font-size: 90%; }
 * .ui-tpicker-grid-label { background: none; border: none; margin: 0; padding: 0; }
 */

(function($) {

    $.extend($.ui, {
        timepicker: {
            version: "0.9.9"
        }
    });

    /* Time picker manager.
       Use the singleton instance of this class, $.timepicker, to interact with the time picker.
       Settings for (groups of) time pickers are maintained in an instance object,
       allowing multiple different settings on the same page. */

    function Timepicker() {
        this.regional = []; // Available regional settings, indexed by language code
        this.regional[''] = { // Default regional settings
            currentText: 'Now',
            closeText: 'Done',
            ampm: false,
            amNames: ['AM', 'A'],
            pmNames: ['PM', 'P'],
            timeFormat: 'hh:mm tt',
            timeSuffix: '',
            timeOnlyTitle: 'Seleccione la Hora',
            timeText: 'Hora',
            hourText: 'Horas',
            minuteText: 'Minutos',
            secondText: 'Segundos',
            millisecText: 'Milisegundos',
            timezoneText: 'Zona Horaria'
        };
        this._defaults = { // Global defaults for all the datetime picker instances
            showButtonPanel: true,
            timeOnly: false,
            showHour: true,
            showMinute: true,
            showSecond: false,
            showMillisec: false,
            showTimezone: false,
            showTime: true,
            stepHour: 1,
            stepMinute: 1,
            stepSecond: 1,
            stepMillisec: 1,
            hour: 0,
            minute: 0,
            second: 0,
            millisec: 0,
            timezone: '+0000',
            hourMin: 0,
            minuteMin: 0,
            secondMin: 0,
            millisecMin: 0,
            hourMax: 23,
            minuteMax: 59,
            secondMax: 59,
            millisecMax: 999,
            minDateTime: null,
            maxDateTime: null,
            onSelect: null,
            hourGrid: 0,
            minuteGrid: 0,
            secondGrid: 0,
            millisecGrid: 0,
            alwaysSetTime: true,
            separator: ' ',
            altFieldTimeOnly: true,
            showTimepicker: true,
            timezoneIso8609: false,
            timezoneList: null,
            addSliderAccess: false,
            sliderAccessArgs: null
        };
        $.extend(this._defaults, this.regional['']);
    };

    $.extend(Timepicker.prototype, {
        $input: null,
        $altInput: null,
        $timeObj: null,
        inst: null,
        hour_slider: null,
        minute_slider: null,
        second_slider: null,
        millisec_slider: null,
        timezone_select: null,
        hour: 0,
        minute: 0,
        second: 0,
        millisec: 0,
        timezone: '+0000',
        hourMinOriginal: null,
        minuteMinOriginal: null,
        secondMinOriginal: null,
        millisecMinOriginal: null,
        hourMaxOriginal: null,
        minuteMaxOriginal: null,
        secondMaxOriginal: null,
        millisecMaxOriginal: null,
        ampm: '',
        formattedDate: '',
        formattedTime: '',
        formattedDateTime: '',
        timezoneList: null,

        /* Override the default settings for all instances of the time picker.
           @param  settings  object - the new settings to use as defaults (anonymous object)
           @return the manager object */
        setDefaults: function(settings) {
            extendRemove(this._defaults, settings || {});
            return this;
        },

        //########################################################################
        // Create a new Timepicker instance
        //########################################################################
        _newInst: function($input, o) {
            var tp_inst = new Timepicker(),
                inlineSettings = {};

            for (var attrName in this._defaults) {
                var attrValue = $input.attr('time:' + attrName);
                if (attrValue) {
                    try {
                        inlineSettings[attrName] = eval(attrValue);
                    } catch (err) {
                        inlineSettings[attrName] = attrValue;
                    }
                }
            }
            tp_inst._defaults = $.extend({}, this._defaults, inlineSettings, o, {
                beforeShow: function(input, dp_inst) {
                    if ($.isFunction(o.beforeShow))
                        return o.beforeShow(input, dp_inst, tp_inst);
                },
                onChangeMonthYear: function(year, month, dp_inst) {
                    // Update the time as well : this prevents the time from disappearing from the $input field.
                    tp_inst._updateDateTime(dp_inst);
                    if ($.isFunction(o.onChangeMonthYear))
                        o.onChangeMonthYear.call($input[0], year, month, dp_inst, tp_inst);
                },
                onClose: function(dateText, dp_inst) {
                    if (tp_inst.timeDefined === true && $input.val() != '')
                        tp_inst._updateDateTime(dp_inst);
                    if ($.isFunction(o.onClose))
                        o.onClose.call($input[0], dateText, dp_inst, tp_inst);
                },
                timepicker: tp_inst // add timepicker as a property of datepicker: $.datepicker._get(dp_inst, 'timepicker');
            });
            tp_inst.amNames = $.map(tp_inst._defaults.amNames, function(val) {
                return val.toUpperCase()
            });
            tp_inst.pmNames = $.map(tp_inst._defaults.pmNames, function(val) {
                return val.toUpperCase()
            });

            if (tp_inst._defaults.timezoneList === null) {
                var timezoneList = [];
                for (var i = -11; i <= 12; i++)
                    timezoneList.push((i >= 0 ? '+' : '-') + ('0' + Math.abs(i).toString()).slice(-2) + '00');
                if (tp_inst._defaults.timezoneIso8609)
                    timezoneList = $.map(timezoneList, function(val) {
                        return val == '+0000' ? 'Z' : (val.substring(0, 3) + ':' + val.substring(3));
                    });
                tp_inst._defaults.timezoneList = timezoneList;
            }

            tp_inst.hour = tp_inst._defaults.hour;
            tp_inst.minute = tp_inst._defaults.minute;
            tp_inst.second = tp_inst._defaults.second;
            tp_inst.millisec = tp_inst._defaults.millisec;
            tp_inst.ampm = '';
            tp_inst.$input = $input;

            if (o.altField)
                tp_inst.$altInput = $(o.altField)
                .css({
                    cursor: 'pointer'
                })
                .focus(function() {
                    $input.trigger("focus");
                });

            if (tp_inst._defaults.minDate == 0 || tp_inst._defaults.minDateTime == 0) {
                tp_inst._defaults.minDate = new Date();
            }
            if (tp_inst._defaults.maxDate == 0 || tp_inst._defaults.maxDateTime == 0) {
                tp_inst._defaults.maxDate = new Date();
            }

            // datepicker needs minDate/maxDate, timepicker needs minDateTime/maxDateTime..
            if (tp_inst._defaults.minDate !== undefined && tp_inst._defaults.minDate instanceof Date)
                tp_inst._defaults.minDateTime = new Date(tp_inst._defaults.minDate.getTime());
            if (tp_inst._defaults.minDateTime !== undefined && tp_inst._defaults.minDateTime instanceof Date)
                tp_inst._defaults.minDate = new Date(tp_inst._defaults.minDateTime.getTime());
            if (tp_inst._defaults.maxDate !== undefined && tp_inst._defaults.maxDate instanceof Date)
                tp_inst._defaults.maxDateTime = new Date(tp_inst._defaults.maxDate.getTime());
            if (tp_inst._defaults.maxDateTime !== undefined && tp_inst._defaults.maxDateTime instanceof Date)
                tp_inst._defaults.maxDate = new Date(tp_inst._defaults.maxDateTime.getTime());
            return tp_inst;
        },

        //########################################################################
        // add our sliders to the calendar
        //########################################################################
        _addTimePicker: function(dp_inst) {
            var currDT = (this.$altInput && this._defaults.altFieldTimeOnly) ?
                this.$input.val() + ' ' + this.$altInput.val() :
                this.$input.val();

            this.timeDefined = this._parseTime(currDT);
            this._limitMinMaxDateTime(dp_inst, false);
            this._injectTimePicker();
        },

        //########################################################################
        // parse the time string from input value or _setTime
        //########################################################################
        _parseTime: function(timeString, withDate) {
            var regstr = this._defaults.timeFormat.toString()
                .replace(/h{1,2}/ig, '(\\d?\\d)')
                .replace(/m{1,2}/ig, '(\\d?\\d)')
                .replace(/s{1,2}/ig, '(\\d?\\d)')
                .replace(/l{1}/ig, '(\\d?\\d?\\d)')
                .replace(/t{1,2}/ig, this._getPatternAmpm())
                .replace(/z{1}/ig, '(z|[-+]\\d\\d:?\\d\\d)?')
                .replace(/\s/g, '\\s?') + this._defaults.timeSuffix + '$',
                order = this._getFormatPositions(),
                ampm = '',
                treg;

            if (!this.inst) this.inst = $.datepicker._getInst(this.$input[0]);

            if (withDate || !this._defaults.timeOnly) {
                // the time should come after x number of characters and a space.
                // x = at least the length of text specified by the date format
                var dp_dateFormat = $.datepicker._get(this.inst, 'dateFormat');
                // escape special regex characters in the seperator
                var specials = new RegExp("[.*+?|()\\[\\]{}\\\\]", "g");
                regstr = '^.{' + dp_dateFormat.length + ',}?' + this._defaults.separator.replace(specials, "\\$&") + regstr;
            }

            treg = timeString.match(new RegExp(regstr, 'i'));

            if (treg) {
                if (order.t !== -1) {
                    if (treg[order.t] === undefined || treg[order.t].length === 0) {
                        ampm = '';
                        this.ampm = '';
                    } else {
                        ampm = $.inArray(treg[order.t].toUpperCase(), this.amNames) !== -1 ? 'AM' : 'PM';
                        this.ampm = this._defaults[ampm == 'AM' ? 'amNames' : 'pmNames'][0];
                    }
                }

                if (order.h !== -1) {
                    if (ampm == 'AM' && treg[order.h] == '12')
                        this.hour = 0; // 12am = 0 hour
                    else if (ampm == 'PM' && treg[order.h] != '12')
                        this.hour = (parseFloat(treg[order.h]) + 12).toFixed(0); // 12pm = 12 hour, any other pm = hour + 12
                    else this.hour = Number(treg[order.h]);
                }

                if (order.m !== -1) this.minute = Number(treg[order.m]);
                if (order.s !== -1) this.second = Number(treg[order.s]);
                if (order.l !== -1) this.millisec = Number(treg[order.l]);
                if (order.z !== -1 && treg[order.z] !== undefined) {
                    var tz = treg[order.z].toUpperCase();
                    switch (tz.length) {
                        case 1: // Z
                            tz = this._defaults.timezoneIso8609 ? 'Z' : '+0000';
                            break;
                        case 5: // +hhmm
                            if (this._defaults.timezoneIso8609)
                                tz = tz.substring(1) == '0000' ?
                                'Z' :
                                tz.substring(0, 3) + ':' + tz.substring(3);
                            break;
                        case 6: // +hh:mm
                            if (!this._defaults.timezoneIso8609)
                                tz = tz == 'Z' || tz.substring(1) == '00:00' ?
                                '+0000' :
                                tz.replace(/:/, '');
                            else if (tz.substring(1) == '00:00')
                                tz = 'Z';
                            break;
                    }
                    this.timezone = tz;
                }

                return true;

            }
            return false;
        },

        //########################################################################
        // pattern for standard and localized AM/PM markers
        //########################################################################
        _getPatternAmpm: function() {
            var markers = [];
            o = this._defaults;
            if (o.amNames)
                $.merge(markers, o.amNames);
            if (o.pmNames)
                $.merge(markers, o.pmNames);
            markers = $.map(markers, function(val) {
                return val.replace(/[.*+?|()\[\]{}\\]/g, '\\$&')
            });
            return '(' + markers.join('|') + ')?';
        },

        //########################################################################
        // figure out position of time elements.. cause js cant do named captures
        //########################################################################
        _getFormatPositions: function() {
            var finds = this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),
                orders = {
                    h: -1,
                    m: -1,
                    s: -1,
                    l: -1,
                    t: -1,
                    z: -1
                };

            if (finds)
                for (var i = 0; i < finds.length; i++)
                    if (orders[finds[i].toString().charAt(0)] == -1)
                        orders[finds[i].toString().charAt(0)] = i + 1;

            return orders;
        },

        //########################################################################
        // generate and inject html for timepicker into ui datepicker
        //########################################################################
        _injectTimePicker: function() {
            var $dp = this.inst.dpDiv,
                o = this._defaults,
                tp_inst = this,
                // Added by Peter Medeiros:
                // - Figure out what the hour/minute/second max should be based on the step values.
                // - Example: if stepMinute is 15, then minMax is 45.
                hourMax = parseInt((o.hourMax - ((o.hourMax - o.hourMin) % o.stepHour)), 10),
                minMax = parseInt((o.minuteMax - ((o.minuteMax - o.minuteMin) % o.stepMinute)), 10),
                secMax = parseInt((o.secondMax - ((o.secondMax - o.secondMin) % o.stepSecond)), 10),
                millisecMax = parseInt((o.millisecMax - ((o.millisecMax - o.millisecMin) % o.stepMillisec)), 10),
                dp_id = this.inst.id.toString().replace(/([^A-Za-z0-9_])/g, '');

            // Prevent displaying twice
            //if ($dp.find("div#ui-timepicker-div-"+ dp_id).length === 0) {
            if ($dp.find("div#ui-timepicker-div-" + dp_id).length === 0 && o.showTimepicker) {
                var noDisplay = ' style="display:none;"',
                    html = '<div class="ui-timepicker-div" id="ui-timepicker-div-' + dp_id + '"><dl>' +
                    '<dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_' + dp_id + '"' +
                    ((o.showTime) ? '' : noDisplay) + '>' + o.timeText + '</dt>' +
                    '<dd class="ui_tpicker_time" id="ui_tpicker_time_' + dp_id + '"' +
                    ((o.showTime) ? '' : noDisplay) + '></dd>' +
                    '<dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_' + dp_id + '"' +
                    ((o.showHour) ? '' : noDisplay) + '>' + o.hourText + '</dt>',
                    hourGridSize = 0,
                    minuteGridSize = 0,
                    secondGridSize = 0,
                    millisecGridSize = 0,
                    size;

                // Hours
                html += '<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_' + dp_id + '"' +
                    ((o.showHour) ? '' : noDisplay) + '></div>';
                if (o.showHour && o.hourGrid > 0) {
                    html += '<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';

                    for (var h = o.hourMin; h <= hourMax; h += parseInt(o.hourGrid, 10)) {
                        hourGridSize++;
                        var tmph = (o.ampm && h > 12) ? h - 12 : h;
                        if (tmph < 10) tmph = '0' + tmph;
                        if (o.ampm) {
                            if (h == 0) tmph = 12 + 'a';
                            else if (h < 12) tmph += 'a';
                            else tmph += 'p';
                        }
                        html += '<td>' + tmph + '</td>';
                    }

                    html += '</tr></table></div>';
                }
                html += '</dd>';

                // Minutes
                html += '<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_' + dp_id + '"' +
                    ((o.showMinute) ? '' : noDisplay) + '>' + o.minuteText + '</dt>' +
                    '<dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_' + dp_id + '"' +
                    ((o.showMinute) ? '' : noDisplay) + '></div>';

                if (o.showMinute && o.minuteGrid > 0) {
                    html += '<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';

                    for (var m = o.minuteMin; m <= minMax; m += parseInt(o.minuteGrid, 10)) {
                        minuteGridSize++;
                        html += '<td>' + ((m < 10) ? '0' : '') + m + '</td>';
                    }

                    html += '</tr></table></div>';
                }
                html += '</dd>';

                // Seconds
                html += '<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_' + dp_id + '"' +
                    ((o.showSecond) ? '' : noDisplay) + '>' + o.secondText + '</dt>' +
                    '<dd class="ui_tpicker_second"><div id="ui_tpicker_second_' + dp_id + '"' +
                    ((o.showSecond) ? '' : noDisplay) + '></div>';

                if (o.showSecond && o.secondGrid > 0) {
                    html += '<div style="padding-left: 1px"><table><tr>';

                    for (var s = o.secondMin; s <= secMax; s += parseInt(o.secondGrid, 10)) {
                        secondGridSize++;
                        html += '<td>' + ((s < 10) ? '0' : '') + s + '</td>';
                    }

                    html += '</tr></table></div>';
                }
                html += '</dd>';

                // Milliseconds
                html += '<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_' + dp_id + '"' +
                    ((o.showMillisec) ? '' : noDisplay) + '>' + o.millisecText + '</dt>' +
                    '<dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_' + dp_id + '"' +
                    ((o.showMillisec) ? '' : noDisplay) + '></div>';

                if (o.showMillisec && o.millisecGrid > 0) {
                    html += '<div style="padding-left: 1px"><table><tr>';

                    for (var l = o.millisecMin; l <= millisecMax; l += parseInt(o.millisecGrid, 10)) {
                        millisecGridSize++;
                        html += '<td>' + ((l < 10) ? '0' : '') + l + '</td>';
                    }

                    html += '</tr></table></div>';
                }
                html += '</dd>';

                // Timezone
                html += '<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_' + dp_id + '"' +
                    ((o.showTimezone) ? '' : noDisplay) + '>' + o.timezoneText + '</dt>';
                html += '<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_' + dp_id + '"' +
                    ((o.showTimezone) ? '' : noDisplay) + '></dd>';

                html += '</dl></div>';
                $tp = $(html);

                // if we only want time picker...
                if (o.timeOnly === true) {
                    $tp.prepend(
                        '<div class="ui-widget-header ui-helper-clearfix ui-corner-all">' +
                        '<div class="ui-datepicker-title">' + o.timeOnlyTitle + '</div>' +
                        '</div>');
                    $dp.find('.ui-datepicker-header, .ui-datepicker-calendar').hide();
                }

                this.hour_slider = $tp.find('#ui_tpicker_hour_' + dp_id).slider({
                    orientation: "horizontal",
                    value: this.hour,
                    min: o.hourMin,
                    max: hourMax,
                    step: o.stepHour,
                    slide: function(event, ui) {
                        tp_inst.hour_slider.slider("option", "value", ui.value);
                        tp_inst._onTimeChange();
                    }
                });


                // Updated by Peter Medeiros:
                // - Pass in Event and UI instance into slide function
                this.minute_slider = $tp.find('#ui_tpicker_minute_' + dp_id).slider({
                    orientation: "horizontal",
                    value: this.minute,
                    min: o.minuteMin,
                    max: minMax,
                    step: o.stepMinute,
                    slide: function(event, ui) {
                        tp_inst.minute_slider.slider("option", "value", ui.value);
                        tp_inst._onTimeChange();
                    }
                });

                this.second_slider = $tp.find('#ui_tpicker_second_' + dp_id).slider({
                    orientation: "horizontal",
                    value: this.second,
                    min: o.secondMin,
                    max: secMax,
                    step: o.stepSecond,
                    slide: function(event, ui) {
                        tp_inst.second_slider.slider("option", "value", ui.value);
                        tp_inst._onTimeChange();
                    }
                });

                this.millisec_slider = $tp.find('#ui_tpicker_millisec_' + dp_id).slider({
                    orientation: "horizontal",
                    value: this.millisec,
                    min: o.millisecMin,
                    max: millisecMax,
                    step: o.stepMillisec,
                    slide: function(event, ui) {
                        tp_inst.millisec_slider.slider("option", "value", ui.value);
                        tp_inst._onTimeChange();
                    }
                });

                this.timezone_select = $tp.find('#ui_tpicker_timezone_' + dp_id).append('<select></select>').find("select");
                $.fn.append.apply(this.timezone_select,
                    $.map(o.timezoneList, function(val, idx) {
                        return $("<option />")
                            .val(typeof val == "object" ? val.value : val)
                            .text(typeof val == "object" ? val.label : val);
                    })
                );
                this.timezone_select.val((typeof this.timezone != "undefined" && this.timezone != null && this.timezone != "") ? this.timezone : o.timezone);
                this.timezone_select.change(function() {
                    tp_inst._onTimeChange();
                });

                // Add grid functionality
                if (o.showHour && o.hourGrid > 0) {
                    size = 100 * hourGridSize * o.hourGrid / (hourMax - o.hourMin);

                    $tp.find(".ui_tpicker_hour table").css({
                        width: size + "%",
                        marginLeft: (size / (-2 * hourGridSize)) + "%",
                        borderCollapse: 'collapse'
                    }).find("td").each(function(index) {
                        $(this).click(function() {
                            var h = $(this).html();
                            if (o.ampm) {
                                var ap = h.substring(2).toLowerCase(),
                                    aph = parseInt(h.substring(0, 2), 10);
                                if (ap == 'a') {
                                    if (aph == 12) h = 0;
                                    else h = aph;
                                } else if (aph == 12) h = 12;
                                else h = aph + 12;
                            }
                            tp_inst.hour_slider.slider("option", "value", h);
                            tp_inst._onTimeChange();
                            tp_inst._onSelectHandler();
                        }).css({
                            cursor: 'pointer',
                            width: (100 / hourGridSize) + '%',
                            textAlign: 'center',
                            overflow: 'hidden'
                        });
                    });
                }

                if (o.showMinute && o.minuteGrid > 0) {
                    size = 100 * minuteGridSize * o.minuteGrid / (minMax - o.minuteMin);
                    $tp.find(".ui_tpicker_minute table").css({
                        width: size + "%",
                        marginLeft: (size / (-2 * minuteGridSize)) + "%",
                        borderCollapse: 'collapse'
                    }).find("td").each(function(index) {
                        $(this).click(function() {
                            tp_inst.minute_slider.slider("option", "value", $(this).html());
                            tp_inst._onTimeChange();
                            tp_inst._onSelectHandler();
                        }).css({
                            cursor: 'pointer',
                            width: (100 / minuteGridSize) + '%',
                            textAlign: 'center',
                            overflow: 'hidden'
                        });
                    });
                }

                if (o.showSecond && o.secondGrid > 0) {
                    $tp.find(".ui_tpicker_second table").css({
                        width: size + "%",
                        marginLeft: (size / (-2 * secondGridSize)) + "%",
                        borderCollapse: 'collapse'
                    }).find("td").each(function(index) {
                        $(this).click(function() {
                            tp_inst.second_slider.slider("option", "value", $(this).html());
                            tp_inst._onTimeChange();
                            tp_inst._onSelectHandler();
                        }).css({
                            cursor: 'pointer',
                            width: (100 / secondGridSize) + '%',
                            textAlign: 'center',
                            overflow: 'hidden'
                        });
                    });
                }

                if (o.showMillisec && o.millisecGrid > 0) {
                    $tp.find(".ui_tpicker_millisec table").css({
                        width: size + "%",
                        marginLeft: (size / (-2 * millisecGridSize)) + "%",
                        borderCollapse: 'collapse'
                    }).find("td").each(function(index) {
                        $(this).click(function() {
                            tp_inst.millisec_slider.slider("option", "value", $(this).html());
                            tp_inst._onTimeChange();
                            tp_inst._onSelectHandler();
                        }).css({
                            cursor: 'pointer',
                            width: (100 / millisecGridSize) + '%',
                            textAlign: 'center',
                            overflow: 'hidden'
                        });
                    });
                }

                var $buttonPanel = $dp.find('.ui-datepicker-buttonpane');
                if ($buttonPanel.length) $buttonPanel.before($tp);
                else $dp.append($tp);

                this.$timeObj = $tp.find('#ui_tpicker_time_' + dp_id);

                if (this.inst !== null) {
                    var timeDefined = this.timeDefined;
                    this._onTimeChange();
                    this.timeDefined = timeDefined;
                }

                //Emulate datepicker onSelect behavior. Call on slidestop.
                var onSelectDelegate = function() {
                    tp_inst._onSelectHandler();
                };
                this.hour_slider.bind('slidestop', onSelectDelegate);
                this.minute_slider.bind('slidestop', onSelectDelegate);
                this.second_slider.bind('slidestop', onSelectDelegate);
                this.millisec_slider.bind('slidestop', onSelectDelegate);

                // slideAccess integration: http://trentrichardson.com/2011/11/11/jquery-ui-sliders-and-touch-accessibility/
                if (this._defaults.addSliderAccess) {
                    var sliderAccessArgs = this._defaults.sliderAccessArgs;
                    setTimeout(function() { // fix for inline mode
                        if ($tp.find('.ui-slider-access').length == 0) {
                            $tp.find('.ui-slider:visible').sliderAccess(sliderAccessArgs);

                            // fix any grids since sliders are shorter
                            var sliderAccessWidth = $tp.find('.ui-slider-access:eq(0)').outerWidth(true);
                            if (sliderAccessWidth) {
                                $tp.find('table:visible').each(function() {
                                    var $g = $(this),
                                        oldWidth = $g.outerWidth(),
                                        oldMarginLeft = $g.css('marginLeft').toString().replace('%', ''),
                                        newWidth = oldWidth - sliderAccessWidth,
                                        newMarginLeft = ((oldMarginLeft * newWidth) / oldWidth) + '%';

                                    $g.css({
                                        width: newWidth,
                                        marginLeft: newMarginLeft
                                    });
                                });
                            }
                        }
                    }, 0);
                }
                // end slideAccess integration

            }
        },

        //########################################################################
        // This function tries to limit the ability to go outside the
        // min/max date range
        //########################################################################
        _limitMinMaxDateTime: function(dp_inst, adjustSliders) {
            var o = this._defaults,
                dp_date = new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay);

            if (!this._defaults.showTimepicker) return; // No time so nothing to check here

            if ($.datepicker._get(dp_inst, 'minDateTime') !== null && $.datepicker._get(dp_inst, 'minDateTime') !== undefined && dp_date) {
                var minDateTime = $.datepicker._get(dp_inst, 'minDateTime'),
                    minDateTimeDate = new Date(minDateTime.getFullYear(), minDateTime.getMonth(), minDateTime.getDate(), 0, 0, 0, 0);

                if (this.hourMinOriginal === null || this.minuteMinOriginal === null || this.secondMinOriginal === null || this.millisecMinOriginal === null) {
                    this.hourMinOriginal = o.hourMin;
                    this.minuteMinOriginal = o.minuteMin;
                    this.secondMinOriginal = o.secondMin;
                    this.millisecMinOriginal = o.millisecMin;
                }

                if (dp_inst.settings.timeOnly || minDateTimeDate.getTime() == dp_date.getTime()) {
                    this._defaults.hourMin = minDateTime.getHours();
                    if (this.hour <= this._defaults.hourMin) {
                        this.hour = this._defaults.hourMin;
                        this._defaults.minuteMin = minDateTime.getMinutes();
                        if (this.minute <= this._defaults.minuteMin) {
                            this.minute = this._defaults.minuteMin;
                            this._defaults.secondMin = minDateTime.getSeconds();
                        } else if (this.second <= this._defaults.secondMin) {
                            this.second = this._defaults.secondMin;
                            this._defaults.millisecMin = minDateTime.getMilliseconds();
                        } else {
                            if (this.millisec < this._defaults.millisecMin)
                                this.millisec = this._defaults.millisecMin;
                            this._defaults.millisecMin = this.millisecMinOriginal;
                        }
                    } else {
                        this._defaults.minuteMin = this.minuteMinOriginal;
                        this._defaults.secondMin = this.secondMinOriginal;
                        this._defaults.millisecMin = this.millisecMinOriginal;
                    }
                } else {
                    this._defaults.hourMin = this.hourMinOriginal;
                    this._defaults.minuteMin = this.minuteMinOriginal;
                    this._defaults.secondMin = this.secondMinOriginal;
                    this._defaults.millisecMin = this.millisecMinOriginal;
                }
            }

            if ($.datepicker._get(dp_inst, 'maxDateTime') !== null && $.datepicker._get(dp_inst, 'maxDateTime') !== undefined && dp_date) {
                var maxDateTime = $.datepicker._get(dp_inst, 'maxDateTime'),
                    maxDateTimeDate = new Date(maxDateTime.getFullYear(), maxDateTime.getMonth(), maxDateTime.getDate(), 0, 0, 0, 0);

                if (this.hourMaxOriginal === null || this.minuteMaxOriginal === null || this.secondMaxOriginal === null) {
                    this.hourMaxOriginal = o.hourMax;
                    this.minuteMaxOriginal = o.minuteMax;
                    this.secondMaxOriginal = o.secondMax;
                    this.millisecMaxOriginal = o.millisecMax;
                }

                if (dp_inst.settings.timeOnly || maxDateTimeDate.getTime() == dp_date.getTime()) {
                    this._defaults.hourMax = maxDateTime.getHours();
                    if (this.hour >= this._defaults.hourMax) {
                        this.hour = this._defaults.hourMax;
                        this._defaults.minuteMax = maxDateTime.getMinutes();
                        if (this.minute >= this._defaults.minuteMax) {
                            this.minute = this._defaults.minuteMax;
                            this._defaults.secondMax = maxDateTime.getSeconds();
                        } else if (this.second >= this._defaults.secondMax) {
                            this.second = this._defaults.secondMax;
                            this._defaults.millisecMax = maxDateTime.getMilliseconds();
                        } else {
                            if (this.millisec > this._defaults.millisecMax) this.millisec = this._defaults.millisecMax;
                            this._defaults.millisecMax = this.millisecMaxOriginal;
                        }
                    } else {
                        this._defaults.minuteMax = this.minuteMaxOriginal;
                        this._defaults.secondMax = this.secondMaxOriginal;
                        this._defaults.millisecMax = this.millisecMaxOriginal;
                    }
                } else {
                    this._defaults.hourMax = this.hourMaxOriginal;
                    this._defaults.minuteMax = this.minuteMaxOriginal;
                    this._defaults.secondMax = this.secondMaxOriginal;
                    this._defaults.millisecMax = this.millisecMaxOriginal;
                }
            }

            if (adjustSliders !== undefined && adjustSliders === true) {
                var hourMax = parseInt((this._defaults.hourMax - ((this._defaults.hourMax - this._defaults.hourMin) % this._defaults.stepHour)), 10),
                    minMax = parseInt((this._defaults.minuteMax - ((this._defaults.minuteMax - this._defaults.minuteMin) % this._defaults.stepMinute)), 10),
                    secMax = parseInt((this._defaults.secondMax - ((this._defaults.secondMax - this._defaults.secondMin) % this._defaults.stepSecond)), 10),
                    millisecMax = parseInt((this._defaults.millisecMax - ((this._defaults.millisecMax - this._defaults.millisecMin) % this._defaults.stepMillisec)), 10);

                if (this.hour_slider)
                    this.hour_slider.slider("option", {
                        min: this._defaults.hourMin,
                        max: hourMax
                    }).slider('value', this.hour);
                if (this.minute_slider)
                    this.minute_slider.slider("option", {
                        min: this._defaults.minuteMin,
                        max: minMax
                    }).slider('value', this.minute);
                if (this.second_slider)
                    this.second_slider.slider("option", {
                        min: this._defaults.secondMin,
                        max: secMax
                    }).slider('value', this.second);
                if (this.millisec_slider)
                    this.millisec_slider.slider("option", {
                        min: this._defaults.millisecMin,
                        max: millisecMax
                    }).slider('value', this.millisec);
            }

        },


        //########################################################################
        // when a slider moves, set the internal time...
        // on time change is also called when the time is updated in the text field
        //########################################################################
        _onTimeChange: function() {
            var hour = (this.hour_slider) ? this.hour_slider.slider('value') : false,
                minute = (this.minute_slider) ? this.minute_slider.slider('value') : false,
                second = (this.second_slider) ? this.second_slider.slider('value') : false,
                millisec = (this.millisec_slider) ? this.millisec_slider.slider('value') : false,
                timezone = (this.timezone_select) ? this.timezone_select.val() : false,
                o = this._defaults;

            if (typeof(hour) == 'object') hour = false;
            if (typeof(minute) == 'object') minute = false;
            if (typeof(second) == 'object') second = false;
            if (typeof(millisec) == 'object') millisec = false;
            if (typeof(timezone) == 'object') timezone = false;

            if (hour !== false) hour = parseInt(hour, 10);
            if (minute !== false) minute = parseInt(minute, 10);
            if (second !== false) second = parseInt(second, 10);
            if (millisec !== false) millisec = parseInt(millisec, 10);

            var ampm = o[hour < 12 ? 'amNames' : 'pmNames'][0];

            // If the update was done in the input field, the input field should not be updated.
            // If the update was done using the sliders, update the input field.
            var hasChanged = (hour != this.hour || minute != this.minute ||
                second != this.second || millisec != this.millisec ||
                (this.ampm.length > 0 &&
                    (hour < 12) != ($.inArray(this.ampm.toUpperCase(), this.amNames) !== -1)) ||
                timezone != this.timezone);

            if (hasChanged) {

                if (hour !== false) this.hour = hour;
                if (minute !== false) this.minute = minute;
                if (second !== false) this.second = second;
                if (millisec !== false) this.millisec = millisec;
                if (timezone !== false) this.timezone = timezone;

                if (!this.inst) this.inst = $.datepicker._getInst(this.$input[0]);

                this._limitMinMaxDateTime(this.inst, true);
            }
            if (o.ampm) this.ampm = ampm;

            //this._formatTime();
            this.formattedTime = $.datepicker.formatTime(this._defaults.timeFormat, this, this._defaults);
            if (this.$timeObj) this.$timeObj.text(this.formattedTime + o.timeSuffix);
            this.timeDefined = true;
            if (hasChanged) this._updateDateTime();
        },

        //########################################################################
        // call custom onSelect. 
        // bind to sliders slidestop, and grid click.
        //########################################################################
        _onSelectHandler: function() {
            var onSelect = this._defaults.onSelect;
            var inputEl = this.$input ? this.$input[0] : null;
            if (onSelect && inputEl) {
                onSelect.apply(inputEl, [this.formattedDateTime, this]);
            }
        },

        //########################################################################
        // left for any backwards compatibility
        //########################################################################
        _formatTime: function(time, format) {
            time = time || {
                hour: this.hour,
                minute: this.minute,
                second: this.second,
                millisec: this.millisec,
                ampm: this.ampm,
                timezone: this.timezone
            };
            var tmptime = (format || this._defaults.timeFormat).toString();

            tmptime = $.datepicker.formatTime(tmptime, time, this._defaults);

            if (arguments.length) return tmptime;
            else this.formattedTime = tmptime;
        },

        //########################################################################
        // update our input with the new date time..
        //########################################################################
        _updateDateTime: function(dp_inst) {
            dp_inst = this.inst || dp_inst;
            var dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),
                dateFmt = $.datepicker._get(dp_inst, 'dateFormat'),
                formatCfg = $.datepicker._getFormatConfig(dp_inst),
                timeAvailable = dt !== null && this.timeDefined;
            this.formattedDate = $.datepicker.formatDate(dateFmt, (dt === null ? new Date() : dt), formatCfg);
            var formattedDateTime = this.formattedDate;
            if (dp_inst.lastVal !== undefined && (dp_inst.lastVal.length > 0 && this.$input.val().length === 0))
                return;

            if (this._defaults.timeOnly === true) {
                formattedDateTime = this.formattedTime;
            } else if (this._defaults.timeOnly !== true && (this._defaults.alwaysSetTime || timeAvailable)) {
                formattedDateTime += this._defaults.separator + this.formattedTime + this._defaults.timeSuffix;
            }

            this.formattedDateTime = formattedDateTime;

            if (!this._defaults.showTimepicker) {
                this.$input.val(this.formattedDate);
            } else if (this.$altInput && this._defaults.altFieldTimeOnly === true) {
                this.$altInput.val(this.formattedTime);
                this.$input.val(this.formattedDate);
            } else if (this.$altInput) {
                this.$altInput.val(formattedDateTime);
                this.$input.val(formattedDateTime);
            } else {
                this.$input.val(formattedDateTime);
            }

            this.$input.trigger("change");
        }

    });

    $.fn.extend({
        //########################################################################
        // shorthand just to use timepicker..
        //########################################################################
        timepicker: function(o) {
            o = o || {};
            var tmp_args = arguments;

            if (typeof o == 'object') tmp_args[0] = $.extend(o, {
                timeOnly: true
            });

            return $(this).each(function() {
                $.fn.datetimepicker.apply($(this), tmp_args);
            });
        },

        //########################################################################
        // extend timepicker to datepicker
        //########################################################################
        datetimepicker: function(o) {
            o = o || {};
            var $input = this,
                tmp_args = arguments;

            if (typeof(o) == 'string') {
                if (o == 'getDate')
                    return $.fn.datepicker.apply($(this[0]), tmp_args);
                else
                    return this.each(function() {
                        var $t = $(this);
                        $t.datepicker.apply($t, tmp_args);
                    });
            } else
                return this.each(function() {
                    var $t = $(this);
                    $t.datepicker($.timepicker._newInst($t, o)._defaults);
                });
        }
    });

    //########################################################################
    // format the time all pretty... 
    // format = string format of the time
    // time = a {}, not a Date() for timezones
    // options = essentially the regional[].. amNames, pmNames, ampm
    //########################################################################
    $.datepicker.formatTime = function(format, time, options) {
        options = options || {};
        options = $.extend($.timepicker._defaults, options);
        time = $.extend({
            hour: 0,
            minute: 0,
            second: 0,
            millisec: 0,
            timezone: '+0000'
        }, time);

        var tmptime = format;
        var ampmName = options['amNames'][0];

        var hour = parseInt(time.hour, 10);
        if (options.ampm) {
            if (hour > 11) {
                ampmName = options['pmNames'][0];
                if (hour > 12)
                    hour = hour % 12;
            }
            if (hour === 0)
                hour = 12;
        }
        tmptime = tmptime.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz])/g, function(match) {
            switch (match.toLowerCase()) {
                case 'hh':
                    return ('0' + hour).slice(-2);
                case 'h':
                    return hour;
                case 'mm':
                    return ('0' + time.minute).slice(-2);
                case 'm':
                    return time.minute;
                case 'ss':
                    return ('0' + time.second).slice(-2);
                case 's':
                    return time.second;
                case 'l':
                    return ('00' + time.millisec).slice(-3);
                case 'z':
                    return time.timezone;
                case 't':
                case 'tt':
                    if (options.ampm) {
                        if (match.length == 1)
                            ampmName = ampmName.charAt(0);
                        return match.charAt(0) == 'T' ? ampmName.toUpperCase() : ampmName.toLowerCase();
                    }
                    return '';
            }
        });

        tmptime = $.trim(tmptime);
        return tmptime;
    }

    //########################################################################
    // the bad hack :/ override datepicker so it doesnt close on select
    // inspired: http://stackoverflow.com/questions/1252512/jquery-datepicker-prevent-closing-picker-when-clicking-a-date/1762378#1762378
    //########################################################################
    $.datepicker._base_selectDate = $.datepicker._selectDate;
    $.datepicker._selectDate = function(id, dateStr) {
        var inst = this._getInst($(id)[0]),
            tp_inst = this._get(inst, 'timepicker');

        if (tp_inst) {
            tp_inst._limitMinMaxDateTime(inst, true);
            inst.inline = inst.stay_open = true;
            //This way the onSelect handler called from calendarpicker get the full dateTime
            this._base_selectDate(id, dateStr);
            inst.inline = inst.stay_open = false;
            this._notifyChange(inst);
            this._updateDatepicker(inst);
        } else this._base_selectDate(id, dateStr);
    };

    //#############################################################################################
    // second bad hack :/ override datepicker so it triggers an event when changing the input field
    // and does not redraw the datepicker on every selectDate event
    //#############################################################################################
    $.datepicker._base_updateDatepicker = $.datepicker._updateDatepicker;
    $.datepicker._updateDatepicker = function(inst) {

        // don't popup the datepicker if there is another instance already opened
        var input = inst.input[0];
        if ($.datepicker._curInst &&
            $.datepicker._curInst != inst &&
            $.datepicker._datepickerShowing &&
            $.datepicker._lastInput != input) {
            return;
        }

        if (typeof(inst.stay_open) !== 'boolean' || inst.stay_open === false) {

            this._base_updateDatepicker(inst);

            // Reload the time control when changing something in the input text field.
            var tp_inst = this._get(inst, 'timepicker');
            if (tp_inst) tp_inst._addTimePicker(inst);
        }
    };

    //#######################################################################################
    // third bad hack :/ override datepicker so it allows spaces and colon in the input field
    //#######################################################################################
    $.datepicker._base_doKeyPress = $.datepicker._doKeyPress;
    $.datepicker._doKeyPress = function(event) {
        var inst = $.datepicker._getInst(event.target),
            tp_inst = $.datepicker._get(inst, 'timepicker');

        if (tp_inst) {
            if ($.datepicker._get(inst, 'constrainInput')) {
                var ampm = tp_inst._defaults.ampm,
                    dateChars = $.datepicker._possibleChars($.datepicker._get(inst, 'dateFormat')),
                    datetimeChars = tp_inst._defaults.timeFormat.toString()
                    .replace(/[hms]/g, '')
                    .replace(/TT/g, ampm ? 'APM' : '')
                    .replace(/Tt/g, ampm ? 'AaPpMm' : '')
                    .replace(/tT/g, ampm ? 'AaPpMm' : '')
                    .replace(/T/g, ampm ? 'AP' : '')
                    .replace(/tt/g, ampm ? 'apm' : '')
                    .replace(/t/g, ampm ? 'ap' : '') +
                    " " +
                    tp_inst._defaults.separator +
                    tp_inst._defaults.timeSuffix +
                    (tp_inst._defaults.showTimezone ? tp_inst._defaults.timezoneList.join('') : '') +
                    (tp_inst._defaults.amNames.join('')) +
                    (tp_inst._defaults.pmNames.join('')) +
                    dateChars,
                    chr = String.fromCharCode(event.charCode === undefined ? event.keyCode : event.charCode);
                return event.ctrlKey || (chr < ' ' || !dateChars || datetimeChars.indexOf(chr) > -1);
            }
        }

        return $.datepicker._base_doKeyPress(event);
    };

    //#######################################################################################
    // Override key up event to sync manual input changes.
    //#######################################################################################
    $.datepicker._base_doKeyUp = $.datepicker._doKeyUp;
    $.datepicker._doKeyUp = function(event) {
        var inst = $.datepicker._getInst(event.target),
            tp_inst = $.datepicker._get(inst, 'timepicker');

        if (tp_inst) {
            if (tp_inst._defaults.timeOnly && (inst.input.val() != inst.lastVal)) {
                try {
                    $.datepicker._updateDatepicker(inst);
                } catch (err) {
                    $.datepicker.log(err);
                }
            }
        }

        return $.datepicker._base_doKeyUp(event);
    };

    //#######################################################################################
    // override "Today" button to also grab the time.
    //#######################################################################################
    $.datepicker._base_gotoToday = $.datepicker._gotoToday;
    $.datepicker._gotoToday = function(id) {
        var inst = this._getInst($(id)[0]),
            $dp = inst.dpDiv;
        this._base_gotoToday(id);
        var now = new Date();
        var tp_inst = this._get(inst, 'timepicker');
        if (tp_inst && tp_inst._defaults.showTimezone && tp_inst.timezone_select) {
            var tzoffset = now.getTimezoneOffset(); // If +0100, returns -60
            var tzsign = tzoffset > 0 ? '-' : '+';
            tzoffset = Math.abs(tzoffset);
            var tzmin = tzoffset % 60;
            tzoffset = tzsign + ('0' + (tzoffset - tzmin) / 60).slice(-2) + ('0' + tzmin).slice(-2);
            if (tp_inst._defaults.timezoneIso8609)
                tzoffset = tzoffset.substring(0, 3) + ':' + tzoffset.substring(3);
            tp_inst.timezone_select.val(tzoffset);
        }
        this._setTime(inst, now);
        $('.ui-datepicker-today', $dp).click();
    };

    //#######################################################################################
    // Disable & enable the Time in the datetimepicker
    //#######################################################################################
    $.datepicker._disableTimepickerDatepicker = function(target, date, withDate) {
        var inst = this._getInst(target),
            tp_inst = this._get(inst, 'timepicker');
        $(target).datepicker('getDate'); // Init selected[Year|Month|Day]
        if (tp_inst) {
            tp_inst._defaults.showTimepicker = false;
            tp_inst._updateDateTime(inst);
        }
    };

    $.datepicker._enableTimepickerDatepicker = function(target, date, withDate) {
        var inst = this._getInst(target),
            tp_inst = this._get(inst, 'timepicker');
        $(target).datepicker('getDate'); // Init selected[Year|Month|Day]
        if (tp_inst) {
            tp_inst._defaults.showTimepicker = true;
            tp_inst._addTimePicker(inst); // Could be disabled on page load
            tp_inst._updateDateTime(inst);
        }
    };

    //#######################################################################################
    // Create our own set time function
    //#######################################################################################
    $.datepicker._setTime = function(inst, date) {
        var tp_inst = this._get(inst, 'timepicker');
        if (tp_inst) {
            var defaults = tp_inst._defaults,
                // calling _setTime with no date sets time to defaults
                hour = date ? date.getHours() : defaults.hour,
                minute = date ? date.getMinutes() : defaults.minute,
                second = date ? date.getSeconds() : defaults.second,
                millisec = date ? date.getMilliseconds() : defaults.millisec;

            //check if within min/max times..
            if ((hour < defaults.hourMin || hour > defaults.hourMax) || (minute < defaults.minuteMin || minute > defaults.minuteMax) || (second < defaults.secondMin || second > defaults.secondMax) || (millisec < defaults.millisecMin || millisec > defaults.millisecMax)) {
                hour = defaults.hourMin;
                minute = defaults.minuteMin;
                second = defaults.secondMin;
                millisec = defaults.millisecMin;
            }

            tp_inst.hour = hour;
            tp_inst.minute = minute;
            tp_inst.second = second;
            tp_inst.millisec = millisec;

            if (tp_inst.hour_slider) tp_inst.hour_slider.slider('value', hour);
            if (tp_inst.minute_slider) tp_inst.minute_slider.slider('value', minute);
            if (tp_inst.second_slider) tp_inst.second_slider.slider('value', second);
            if (tp_inst.millisec_slider) tp_inst.millisec_slider.slider('value', millisec);

            tp_inst._onTimeChange();
            tp_inst._updateDateTime(inst);
        }
    };

    //#######################################################################################
    // Create new public method to set only time, callable as $().datepicker('setTime', date)
    //#######################################################################################
    $.datepicker._setTimeDatepicker = function(target, date, withDate) {
        var inst = this._getInst(target),
            tp_inst = this._get(inst, 'timepicker');

        if (tp_inst) {
            this._setDateFromField(inst);
            var tp_date;
            if (date) {
                if (typeof date == "string") {
                    tp_inst._parseTime(date, withDate);
                    tp_date = new Date();
                    tp_date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);
                } else tp_date = new Date(date.getTime());
                if (tp_date.toString() == 'Invalid Date') tp_date = undefined;
                this._setTime(inst, tp_date);
            }
        }

    };

    //#######################################################################################
    // override setDate() to allow setting time too within Date object
    //#######################################################################################
    $.datepicker._base_setDateDatepicker = $.datepicker._setDateDatepicker;
    $.datepicker._setDateDatepicker = function(target, date) {
        var inst = this._getInst(target),
            tp_date = (date instanceof Date) ? new Date(date.getTime()) : date;

        this._updateDatepicker(inst);
        this._base_setDateDatepicker.apply(this, arguments);
        this._setTimeDatepicker(target, tp_date, true);
    };

    //#######################################################################################
    // override getDate() to allow getting time too within Date object
    //#######################################################################################
    $.datepicker._base_getDateDatepicker = $.datepicker._getDateDatepicker;
    $.datepicker._getDateDatepicker = function(target, noDefault) {
        var inst = this._getInst(target),
            tp_inst = this._get(inst, 'timepicker');

        if (tp_inst) {
            this._setDateFromField(inst, noDefault);
            var date = this._getDate(inst);
            if (date && tp_inst._parseTime($(target).val(), tp_inst.timeOnly)) date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);
            return date;
        }
        return this._base_getDateDatepicker(target, noDefault);
    };

    //#######################################################################################
    // override parseDate() because UI 1.8.14 throws an error about "Extra characters"
    // An option in datapicker to ignore extra format characters would be nicer.
    //#######################################################################################
    $.datepicker._base_parseDate = $.datepicker.parseDate;
    $.datepicker.parseDate = function(format, value, settings) {
        var date;
        try {
            date = this._base_parseDate(format, value, settings);
        } catch (err) {
            if (err.indexOf(":") >= 0) {
                // Hack!  The error message ends with a colon, a space, and
                // the "extra" characters.  We rely on that instead of
                // attempting to perfectly reproduce the parsing algorithm.
                date = this._base_parseDate(format, value.substring(0, value.length - (err.length - err.indexOf(':') - 2)), settings);
            } else {
                // The underlying error was not related to the time
                throw err;
            }
        }
        return date;
    };

    //#######################################################################################
    // override formatDate to set date with time to the input
    //#######################################################################################
    $.datepicker._base_formatDate = $.datepicker._formatDate;
    $.datepicker._formatDate = function(inst, day, month, year) {
        var tp_inst = this._get(inst, 'timepicker');
        if (tp_inst) {
            if (day)
                var b = this._base_formatDate(inst, day, month, year);
            tp_inst._updateDateTime(inst);
            return tp_inst.$input.val();
        }
        return this._base_formatDate(inst);
    };

    //#######################################################################################
    // override options setter to add time to maxDate(Time) and minDate(Time). MaxDate
    //#######################################################################################
    $.datepicker._base_optionDatepicker = $.datepicker._optionDatepicker;
    $.datepicker._optionDatepicker = function(target, name, value) {
        var inst = this._getInst(target),
            tp_inst = this._get(inst, 'timepicker');
        if (tp_inst) {
            var min, max, onselect;
            if (typeof name == 'string') { // if min/max was set with the string
                if (name === 'minDate' || name === 'minDateTime')
                    min = value;
                else if (name === 'maxDate' || name === 'maxDateTime')
                    max = value;
                else if (name === 'onSelect')
                    onselect = value;
            } else if (typeof name == 'object') { //if min/max was set with the JSON
                if (name.minDate)
                    min = name.minDate;
                else if (name.minDateTime)
                    min = name.minDateTime;
                else if (name.maxDate)
                    max = name.maxDate;
                else if (name.maxDateTime)
                    max = name.maxDateTime;
            }
            if (min) { //if min was set
                if (min == 0)
                    min = new Date();
                else
                    min = new Date(min);

                tp_inst._defaults.minDate = min;
                tp_inst._defaults.minDateTime = min;
            } else if (max) { //if max was set
                if (max == 0)
                    max = new Date();
                else
                    max = new Date(max);
                tp_inst._defaults.maxDate = max;
                tp_inst._defaults.maxDateTime = max;
            } else if (onselect)
                tp_inst._defaults.onSelect = onselect;
        }
        if (value === undefined)
            return this._base_optionDatepicker(target, name);
        return this._base_optionDatepicker(target, name, value);
    };

    //#######################################################################################
    // jQuery extend now ignores nulls!
    //#######################################################################################
    function extendRemove(target, props) {
        $.extend(target, props);
        for (var name in props)
            if (props[name] === null || props[name] === undefined)
                target[name] = props[name];
        return target;
    };

    $.timepicker = new Timepicker(); // singleton instance
    $.timepicker.version = "0.9.9";

})(jQuery);</script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/ui/i18n/jquery-ui-timepicker-addon-i18n.min.js'); </script><script type="text/javascript">/*! jQuery Timepicker Addon - v1.6.3 - 2016-04-20
* http://trentrichardson.com/examples/timepicker
* Copyright (c) 2016 Trent Richardson; Licensed MIT */
!function(a){a.timepicker.regional.af={timeOnlyTitle:"Kies Tyd",timeText:"Tyd ",hourText:"Ure ",minuteText:"Minute",secondText:"Sekondes",millisecText:"Millisekondes",microsecText:"Mikrosekondes",timezoneText:"Tydsone",currentText:"Huidige Tyd",closeText:"Klaar",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.am={timeOnlyTitle:"Ընտրեք ժամանակը",timeText:"Ժամանակը",hourText:"Ժամ",minuteText:"Րոպե",secondText:"Վարկյան",millisecText:"Միլիվարկյան",microsecText:"Միկրովարկյան",timezoneText:"Ժամային գոտին",currentText:"Այժմ",closeText:"Փակել",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.bg={timeOnlyTitle:"Изберете време",timeText:"Време",hourText:"Час",minuteText:"Минути",secondText:"Секунди",millisecText:"Милисекунди",microsecText:"Микросекунди",timezoneText:"Часови пояс",currentText:"Сега",closeText:"Затвори",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.ca={timeOnlyTitle:"Escollir una hora",timeText:"Hora",hourText:"Hores",minuteText:"Minuts",secondText:"Segons",millisecText:"Milisegons",microsecText:"Microsegons",timezoneText:"Fus horari",currentText:"Ara",closeText:"Tancar",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.cs={timeOnlyTitle:"Vyberte čas",timeText:"Čas",hourText:"Hodiny",minuteText:"Minuty",secondText:"Vteřiny",millisecText:"Milisekundy",microsecText:"Mikrosekundy",timezoneText:"Časové pásmo",currentText:"Nyní",closeText:"Zavřít",timeFormat:"HH:mm",timeSuffix:"",amNames:["dop.","AM","A"],pmNames:["odp.","PM","P"],isRTL:!1},a.timepicker.regional.da={timeOnlyTitle:"Vælg tid",timeText:"Tid",hourText:"Time",minuteText:"Minut",secondText:"Sekund",millisecText:"Millisekund",microsecText:"Mikrosekund",timezoneText:"Tidszone",currentText:"Nu",closeText:"Luk",timeFormat:"HH:mm",timeSuffix:"",amNames:["am","AM","A"],pmNames:["pm","PM","P"],isRTL:!1},a.timepicker.regional.de={timeOnlyTitle:"Zeit wählen",timeText:"Zeit",hourText:"Stunde",minuteText:"Minute",secondText:"Sekunde",millisecText:"Millisekunde",microsecText:"Mikrosekunde",timezoneText:"Zeitzone",currentText:"Jetzt",closeText:"Fertig",timeFormat:"HH:mm",timeSuffix:"",amNames:["vorm.","AM","A"],pmNames:["nachm.","PM","P"],isRTL:!1},a.timepicker.regional.el={timeOnlyTitle:"Επιλογή ώρας",timeText:"Ώρα",hourText:"Ώρες",minuteText:"Λεπτά",secondText:"Δευτερόλεπτα",millisecText:"Χιλιοστοδευτερόλεπτα",microsecText:"Μικροδευτερόλεπτα",timezoneText:"Ζώνη ώρας",currentText:"Τώρα",closeText:"Κλείσιμο",timeFormat:"HH:mm",timeSuffix:"",amNames:["π.μ.","AM","A"],pmNames:["μ.μ.","PM","P"],isRTL:!1},a.timepicker.regional.es={timeOnlyTitle:"Elegir una hora",timeText:"Hora",hourText:"Horas",minuteText:"Minutos",secondText:"Segundos",millisecText:"Milisegundos",microsecText:"Microsegundos",timezoneText:"Uso horario",currentText:"Hoy",closeText:"Cerrar",timeFormat:"HH:mm",timeSuffix:"",amNames:["a.m.","AM","A"],pmNames:["p.m.","PM","P"],isRTL:!1},a.timepicker.regional.et={timeOnlyTitle:"Vali aeg",timeText:"Aeg",hourText:"Tund",minuteText:"Minut",secondText:"Sekund",millisecText:"Millisekundis",microsecText:"Mikrosekundis",timezoneText:"Ajavöönd",currentText:"Praegu",closeText:"Valmis",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.eu={timeOnlyTitle:"Aukeratu ordua",timeText:"Ordua",hourText:"Orduak",minuteText:"Minutuak",secondText:"Segundoak",millisecText:"Milisegundoak",microsecText:"Mikrosegundoak",timezoneText:"Ordu-eremua",currentText:"Orain",closeText:"Itxi",timeFormat:"HH:mm",timeSuffix:"",amNames:["a.m.","AM","A"],pmNames:["p.m.","PM","P"],isRTL:!1},a.timepicker.regional.fa={timeOnlyTitle:"انتخاب زمان",timeText:"زمان",hourText:"ساعت",minuteText:"دقیقه",secondText:"ثانیه",millisecText:"میلی ثانیه",microsecText:"میکرو ثانیه",timezoneText:"منطقه زمانی",currentText:"الان",closeText:"انتخاب",timeFormat:"HH:mm",timeSuffix:"",amNames:["قبل ظهر","AM","A"],pmNames:["بعد ظهر","PM","P"],isRTL:!0},a.timepicker.regional.fi={timeOnlyTitle:"Valitse aika",timeText:"Aika",hourText:"Tunti",minuteText:"Minuutti",secondText:"Sekunti",millisecText:"Millisekunnin",microsecText:"Mikrosekuntia",timezoneText:"Aikavyöhyke",currentText:"Nyt",closeText:"Sulje",timeFormat:"HH:mm",timeSuffix:"",amNames:["ap.","AM","A"],pmNames:["ip.","PM","P"],isRTL:!1},a.timepicker.regional.fr={timeOnlyTitle:"Choisir une heure",timeText:"Heure",hourText:"Heures",minuteText:"Minutes",secondText:"Secondes",millisecText:"Millisecondes",microsecText:"Microsecondes",timezoneText:"Fuseau horaire",currentText:"Maintenant",closeText:"Terminé",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.gl={timeOnlyTitle:"Elixir unha hora",timeText:"Hora",hourText:"Horas",minuteText:"Minutos",secondText:"Segundos",millisecText:"Milisegundos",microsecText:"Microssegundos",timezoneText:"Fuso horario",currentText:"Agora",closeText:"Pechar",timeFormat:"HH:mm",timeSuffix:"",amNames:["a.m.","AM","A"],pmNames:["p.m.","PM","P"],isRTL:!1},a.timepicker.regional.he={timeOnlyTitle:"בחירת זמן",timeText:"שעה",hourText:"שעות",minuteText:"דקות",secondText:"שניות",millisecText:"אלפית השנייה",microsecText:"מיקרו",timezoneText:"אזור זמן",currentText:"עכשיו",closeText:"סגור",timeFormat:"HH:mm",timeSuffix:"",amNames:['לפנה"צ',"AM","A"],pmNames:['אחה"צ',"PM","P"],isRTL:!0},a.timepicker.regional.hr={timeOnlyTitle:"Odaberi vrijeme",timeText:"Vrijeme",hourText:"Sati",minuteText:"Minute",secondText:"Sekunde",millisecText:"Milisekunde",microsecText:"Mikrosekunde",timezoneText:"Vremenska zona",currentText:"Sada",closeText:"Gotovo",timeFormat:"HH:mm",timeSuffix:"",amNames:["a.m.","AM","A"],pmNames:["p.m.","PM","P"],isRTL:!1},a.timepicker.regional.hu={timeOnlyTitle:"Válasszon időpontot",timeText:"Idő",hourText:"Óra",minuteText:"Perc",secondText:"Másodperc",millisecText:"Milliszekundumos",microsecText:"Ezredmásodperc",timezoneText:"Időzóna",currentText:"Most",closeText:"Kész",timeFormat:"HH:mm",timeSuffix:"",amNames:["de.","AM","A"],pmNames:["du.","PM","P"],isRTL:!1},a.timepicker.regional.id={timeOnlyTitle:"Pilih Waktu",timeText:"Waktu",hourText:"Pukul",minuteText:"Menit",secondText:"Detik",millisecText:"Milidetik",microsecText:"Mikrodetik",timezoneText:"Zona Waktu",currentText:"Sekarang",closeText:"OK",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.it={timeOnlyTitle:"Scegli orario",timeText:"Orario",hourText:"Ora",minuteText:"Minuti",secondText:"Secondi",millisecText:"Millisecondi",microsecText:"Microsecondi",timezoneText:"Fuso orario",currentText:"Adesso",closeText:"Chiudi",timeFormat:"HH:mm",timeSuffix:"",amNames:["m.","AM","A"],pmNames:["p.","PM","P"],isRTL:!1},a.timepicker.regional.ja={timeOnlyTitle:"時間を選択",timeText:"時間",hourText:"時",minuteText:"分",secondText:"秒",millisecText:"ミリ秒",microsecText:"マイクロ秒",timezoneText:"タイムゾーン",currentText:"現時刻",closeText:"閉じる",timeFormat:"HH:mm",timeSuffix:"",amNames:["午前","AM","A"],pmNames:["午後","PM","P"],isRTL:!1},a.timepicker.regional.ko={timeOnlyTitle:"시간 선택",timeText:"시간",hourText:"시",minuteText:"분",secondText:"초",millisecText:"밀리초",microsecText:"마이크로",timezoneText:"표준 시간대",currentText:"현재 시각",closeText:"닫기",timeFormat:"tt h:mm",timeSuffix:"",amNames:["오전","AM","A"],pmNames:["오후","PM","P"],isRTL:!1},a.timepicker.regional.lt={timeOnlyTitle:"Pasirinkite laiką",timeText:"Laikas",hourText:"Valandos",minuteText:"Minutės",secondText:"Sekundės",millisecText:"Milisekundės",microsecText:"Mikrosekundės",timezoneText:"Laiko zona",currentText:"Dabar",closeText:"Uždaryti",timeFormat:"HH:mm",timeSuffix:"",amNames:["priešpiet","AM","A"],pmNames:["popiet","PM","P"],isRTL:!1},a.timepicker.regional.lv={timeOnlyTitle:"Ievadiet laiku",timeText:"Laiks",hourText:"Stundas",minuteText:"Minūtes",secondText:"Sekundes",millisecText:"Milisekundes",microsecText:"Mikrosekundes",timezoneText:"Laika josla",currentText:"Tagad",closeText:"Aizvērt",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","AM","A"],pmNames:["PM","PM","P"],isRTL:!1},a.timepicker.regional.mk={timeOnlyTitle:"Одберете време",timeText:"Време",hourText:"Час",minuteText:"Минути",secondText:"Секунди",millisecText:"Милисекунди",microsecText:"Микросекунди",timezoneText:"Временска зона",currentText:"Сега",closeText:"Затвори",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.nl={timeOnlyTitle:"Tijdstip",timeText:"Tijd",hourText:"Uur",minuteText:"Minuut",secondText:"Seconde",millisecText:"Milliseconde",microsecText:"Microseconde",timezoneText:"Tijdzone",currentText:"Vandaag",closeText:"Sluiten",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.no={timeOnlyTitle:"Velg tid",timeText:"Tid",hourText:"Time",minuteText:"Minutt",secondText:"Sekund",millisecText:"Millisekund",microsecText:"mikrosekund",timezoneText:"Tidssone",currentText:"Nå",closeText:"Lukk",timeFormat:"HH:mm",timeSuffix:"",amNames:["am","AM","A"],pmNames:["pm","PM","P"],isRTL:!1},a.timepicker.regional.pl={timeOnlyTitle:"Wybierz godzinę",timeText:"Czas",hourText:"Godzina",minuteText:"Minuta",secondText:"Sekunda",millisecText:"Milisekunda",microsecText:"Mikrosekunda",timezoneText:"Strefa czasowa",currentText:"Teraz",closeText:"Gotowe",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional["pt-BR"]={timeOnlyTitle:"Escolha o horário",timeText:"Horário",hourText:"Hora",minuteText:"Minutos",secondText:"Segundos",millisecText:"Milissegundos",microsecText:"Microssegundos",timezoneText:"Fuso horário",currentText:"Agora",closeText:"Fechar",timeFormat:"HH:mm",timeSuffix:"",amNames:["a.m.","AM","A"],pmNames:["p.m.","PM","P"],isRTL:!1},a.timepicker.regional.pt={timeOnlyTitle:"Escolha uma hora",timeText:"Hora",hourText:"Horas",minuteText:"Minutos",secondText:"Segundos",millisecText:"Milissegundos",microsecText:"Microssegundos",timezoneText:"Fuso horário",currentText:"Agora",closeText:"Fechar",timeFormat:"HH:mm",timeSuffix:"",amNames:["a.m.","AM","A"],pmNames:["p.m.","PM","P"],isRTL:!1},a.timepicker.regional.ro={timeOnlyTitle:"Alegeţi o oră",timeText:"Timp",hourText:"Ore",minuteText:"Minute",secondText:"Secunde",millisecText:"Milisecunde",microsecText:"Microsecunde",timezoneText:"Fus orar",currentText:"Acum",closeText:"Închide",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.ru={timeOnlyTitle:"Выберите время",timeText:"Время",hourText:"Часы",minuteText:"Минуты",secondText:"Секунды",millisecText:"Миллисекунды",microsecText:"Микросекунды",timezoneText:"Часовой пояс",currentText:"Сейчас",closeText:"Закрыть",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.sk={timeOnlyTitle:"Zvoľte čas",timeText:"Čas",hourText:"Hodiny",minuteText:"Minúty",secondText:"Sekundy",millisecText:"Milisekundy",microsecText:"Mikrosekundy",timezoneText:"Časové pásmo",currentText:"Teraz",closeText:"Zavrieť",timeFormat:"H:m",timeSuffix:"",amNames:["dop.","AM","A"],pmNames:["pop.","PM","P"],isRTL:!1},a.timepicker.regional.sl={timeOnlyTitle:"Izberite čas",timeText:"Čas",hourText:"Ura",minuteText:"Minute",secondText:"Sekunde",millisecText:"Milisekunde",microsecText:"Mikrosekunde",timezoneText:"Časovni pas",currentText:"Sedaj",closeText:"Zapri",timeFormat:"HH:mm",timeSuffix:"",amNames:["dop.","AM","A"],pmNames:["pop.","PM","P"],isRTL:!1},a.timepicker.regional.sq={timeOnlyTitle:"Zgjidh orarin",timeText:"Orari",hourText:"Ora",minuteText:"Minuta",secondText:"Sekonda",millisecText:"Minisekonda",microsecText:"Mikrosekonda",timezoneText:"Zona kohore",currentText:"Tani",closeText:"Mbyll",timeFormat:"HH:mm",timeSuffix:"",amNames:["m.","AM","A"],pmNames:["p.","PM","P"],isRTL:!1},a.timepicker.regional["sr-RS"]={timeOnlyTitle:"Одаберите време",timeText:"Време",hourText:"Сати",minuteText:"Минути",secondText:"Секунде",millisecText:"Милисекунде",microsecText:"Микросекунде",timezoneText:"Временска зона",currentText:"Сада",closeText:"Затвори",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional["sr-YU"]={timeOnlyTitle:"Odaberite vreme",timeText:"Vreme",hourText:"Sati",minuteText:"Minuti",secondText:"Sekunde",millisecText:"Milisekunde",microsecText:"Mikrosekunde",timezoneText:"Vremenska zona",currentText:"Sada",closeText:"Zatvori",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.sv={timeOnlyTitle:"Välj en tid",timeText:"Tid",hourText:"Timme",minuteText:"Minut",secondText:"Sekund",millisecText:"Millisekund",microsecText:"Mikrosekund",timezoneText:"Tidszon",currentText:"Nu",closeText:"Stäng",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.th={timeOnlyTitle:"เลือกเวลา",timeText:"เวลา ",hourText:"ชั่วโมง ",minuteText:"นาที",secondText:"วินาที",millisecText:"มิลลิวินาที",microsecText:"ไมโคริวินาที",timezoneText:"เขตเวลา",currentText:"เวลาปัจจุบัน",closeText:"ปิด",timeFormat:"hh:mm tt",timeSuffix:""},a.timepicker.regional.tr={timeOnlyTitle:"Zaman Seçiniz",timeText:"Zaman",hourText:"Saat",minuteText:"Dakika",secondText:"Saniye",millisecText:"Milisaniye",microsecText:"Mikrosaniye",timezoneText:"Zaman Dilimi",currentText:"Şu an",closeText:"Tamam",timeFormat:"HH:mm",timeSuffix:"",amNames:["ÖÖ","Ö"],pmNames:["ÖS","S"],isRTL:!1},a.timepicker.regional.uk={timeOnlyTitle:"Виберіть час",timeText:"Час",hourText:"Години",minuteText:"Хвилини",secondText:"Секунди",millisecText:"Мілісекунди",microsecText:"Мікросекунди",timezoneText:"Часовий пояс",currentText:"Зараз",closeText:"Закрити",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional.vi={timeOnlyTitle:"Chọn giờ",timeText:"Thời gian",hourText:"Giờ",minuteText:"Phút",secondText:"Giây",millisecText:"Mili giây",microsecText:"Micrô giây",timezoneText:"Múi giờ",currentText:"Hiện thời",closeText:"Đóng",timeFormat:"HH:mm",timeSuffix:"",amNames:["SA","S"],pmNames:["CH","C"],isRTL:!1},a.timepicker.regional["zh-CN"]={timeOnlyTitle:"选择时间",timeText:"时间",hourText:"小时",minuteText:"分钟",secondText:"秒钟",millisecText:"毫秒",microsecText:"微秒",timezoneText:"时区",currentText:"现在时间",closeText:"关闭",timeFormat:"HH:mm",timeSuffix:"",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1},a.timepicker.regional["zh-TW"]={timeOnlyTitle:"選擇時分秒",timeText:"時間",hourText:"時",minuteText:"分",secondText:"秒",millisecText:"毫秒",microsecText:"微秒",timezoneText:"時區",currentText:"現在時間",closeText:"確定",timeFormat:"HH:mm",timeSuffix:"",amNames:["上午","AM","A"],pmNames:["下午","PM","P"],isRTL:!1}}(jQuery);</script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/overlay.js'); </script><script type="text/javascript">/*!
 * jQuery blockUI plugin
 * Version 2.57.0-2013.02.17
 * @requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */

;
(function() {
    /*jshint eqeqeq:false curly:false latedef:false */
    "use strict";

    function setup($) {
        $.fn._fadeIn = $.fn.fadeIn;

        var noOp = $.noop || function() {};

        // this bit is to ensure we don't call setExpression when we shouldn't (with extra muscle to handle
        // retarded userAgent strings on Vista)
        var msie = /MSIE/.test(navigator.userAgent);
        var ie6 = /MSIE 6.0/.test(navigator.userAgent) && !/MSIE 8.0/.test(navigator.userAgent);
        var mode = document.documentMode || 0;
        // var setExpr = msie && (($.browser.version < 8 && !mode) || mode < 8);
        var setExpr = $.isFunction(document.createElement('div').style.setExpression);

        // global $ methods for blocking/unblocking the entire page
        $.blockUI = function(opts) {
            install(window, opts);
        };
        $.unblockUI = function(opts) {
            remove(window, opts);
        };

        // convenience method for quick growl-like notifications  (http://www.google.com/search?q=growl)
        $.growlUI = function(title, message, timeout, onClose) {
            var $m = $('<div class="growlUI"></div>');
            if (title) $m.append('<h1>' + title + '</h1>');
            if (message) $m.append('<h2>' + message + '</h2>');
            if (timeout === undefined) timeout = 3000;
            $.blockUI({
                message: $m,
                fadeIn: 700,
                fadeOut: 1000,
                centerY: false,
                timeout: timeout,
                showOverlay: false,
                onUnblock: onClose,
                css: $.blockUI.defaults.growlCSS
            });
        };

        // plugin method for blocking element content
        $.fn.block = function(opts) {
            var fullOpts = $.extend({}, $.blockUI.defaults, opts || {});
            this.each(function() {
                var $el = $(this);
                if (fullOpts.ignoreIfBlocked && $el.data('blockUI.isBlocked'))
                    return;
                $el.unblock({
                    fadeOut: 0
                });
            });

            return this.each(function() {
                if ($.css(this, 'position') == 'static') {
                    this.style.position = 'relative';
                    $(this).data('blockUI.static', true);
                }
                this.style.zoom = 1; // force 'hasLayout' in ie
                install(this, opts);
            });
        };

        // plugin method for unblocking element content
        $.fn.unblock = function(opts) {
            return this.each(function() {
                remove(this, opts);
            });
        };

        $.blockUI.version = 2.57; // 2nd generation blocking at no extra cost!

        // override these in your code to change the default behavior and style
        $.blockUI.defaults = {
            // message displayed when blocking (use null for no message)
            message: '<h1>Please wait...</h1>',

            title: null, // title string; only used when theme == true
            draggable: true, // only used when theme == true (requires jquery-ui.js to be loaded)

            theme: false, // set to true to use with jQuery UI themes

            // styles for the message when blocking; if you wish to disable
            // these and use an external stylesheet then do this in your code:
            // $.blockUI.defaults.css = {};
            css: {
                padding: 0,
                margin: 0,
                width: '30%',
                top: '40%',
                left: '35%',
                textAlign: 'center',
                color: '#000',
                border: '3px solid #aaa',
                backgroundColor: '#fff',
                cursor: 'wait'
            },

            // minimal style set used when themes are used
            themedCSS: {
                width: '30%',
                top: '40%',
                left: '35%'
            },

            // styles for the overlay
            overlayCSS: {
                backgroundColor: '#000',
                opacity: 0.6,
                cursor: 'wait'
            },

            // style to replace wait cursor before unblocking to correct issue
            // of lingering wait cursor
            cursorReset: 'default',

            // styles applied when using $.growlUI
            growlCSS: {
                width: '350px',
                top: '10px',
                left: '',
                right: '10px',
                border: 'none',
                padding: '5px',
                opacity: 0.6,
                cursor: 'default',
                color: '#fff',
                backgroundColor: '#000',
                '-webkit-border-radius': '10px',
                '-moz-border-radius': '10px',
                'border-radius': '10px'
            },

            // IE issues: 'about:blank' fails on HTTPS and javascript:false is s-l-o-w
            // (hat tip to Jorge H. N. de Vasconcelos)
            /*jshint scripturl:true */
            iframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank',

            // force usage of iframe in non-IE browsers (handy for blocking applets)
            forceIframe: false,

            // z-index for the blocking overlay
            baseZ: 1000,

            // set these to true to have the message automatically centered
            centerX: true, // <-- only effects element blocking (page block controlled via css above)
            centerY: true,

            // allow body element to be stetched in ie6; this makes blocking look better
            // on "short" pages.  disable if you wish to prevent changes to the body height
            allowBodyStretch: true,

            // enable if you want key and mouse events to be disabled for content that is blocked
            bindEvents: true,

            // be default blockUI will supress tab navigation from leaving blocking content
            // (if bindEvents is true)
            constrainTabKey: true,

            // fadeIn time in millis; set to 0 to disable fadeIn on block
            fadeIn: 200,

            // fadeOut time in millis; set to 0 to disable fadeOut on unblock
            fadeOut: 400,

            // time in millis to wait before auto-unblocking; set to 0 to disable auto-unblock
            timeout: 0,

            // disable if you don't want to show the overlay
            showOverlay: true,

            // if true, focus will be placed in the first available input field when
            // page blocking
            focusInput: true,

            // suppresses the use of overlay styles on FF/Linux (due to performance issues with opacity)
            // no longer needed in 2012
            // applyPlatformOpacityRules: true,

            // callback method invoked when fadeIn has completed and blocking message is visible
            onBlock: null,

            // callback method invoked when unblocking has completed; the callback is
            // passed the element that has been unblocked (which is the window object for page
            // blocks) and the options that were passed to the unblock call:
            //	onUnblock(element, options)
            onUnblock: null,

            // callback method invoked when the overlay area is clicked.
            // setting this will turn the cursor to a pointer, otherwise cursor defined in overlayCss will be used.
            onOverlayClick: null,

            // don't ask; if you really must know: http://groups.google.com/group/jquery-en/browse_thread/thread/36640a8730503595/2f6a79a77a78e493#2f6a79a77a78e493
            quirksmodeOffsetHack: 4,

            // class name of the message block
            blockMsgClass: 'blockMsg',

            // if it is already blocked, then ignore it (don't unblock and reblock)
            ignoreIfBlocked: false
        };

        // private data and functions follow...

        var pageBlock = null;
        var pageBlockEls = [];

        function install(el, opts) {
            var css, themedCSS;
            var full = (el == window);
            var msg = (opts && opts.message !== undefined ? opts.message : undefined);
            opts = $.extend({}, $.blockUI.defaults, opts || {});

            if (opts.ignoreIfBlocked && $(el).data('blockUI.isBlocked'))
                return;

            opts.overlayCSS = $.extend({}, $.blockUI.defaults.overlayCSS, opts.overlayCSS || {});
            css = $.extend({}, $.blockUI.defaults.css, opts.css || {});
            if (opts.onOverlayClick)
                opts.overlayCSS.cursor = 'pointer';

            themedCSS = $.extend({}, $.blockUI.defaults.themedCSS, opts.themedCSS || {});
            msg = msg === undefined ? opts.message : msg;

            // remove the current block (if there is one)
            if (full && pageBlock)
                remove(window, {
                    fadeOut: 0
                });

            // if an existing element is being used as the blocking content then we capture
            // its current place in the DOM (and current display style) so we can restore
            // it when we unblock
            if (msg && typeof msg != 'string' && (msg.parentNode || msg.jquery)) {
                var node = msg.jquery ? msg[0] : msg;
                var data = {};
                $(el).data('blockUI.history', data);
                data.el = node;
                data.parent = node.parentNode;
                data.display = node.style.display;
                data.position = node.style.position;
                if (data.parent)
                    data.parent.removeChild(node);
            }

            $(el).data('blockUI.onUnblock', opts.onUnblock);
            var z = opts.baseZ;

            // blockUI uses 3 layers for blocking, for simplicity they are all used on every platform;
            // layer1 is the iframe layer which is used to supress bleed through of underlying content
            // layer2 is the overlay layer which has opacity and a wait cursor (by default)
            // layer3 is the message content that is displayed while blocking
            var lyr1, lyr2, lyr3, s;
            if (msie || opts.forceIframe)
                lyr1 = $('<iframe class="blockUI" style="z-index:' + (z++) + ';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="' + opts.iframeSrc + '"></iframe>');
            else
                lyr1 = $('<div class="blockUI" style="display:none"></div>');

            if (opts.theme)
                lyr2 = $('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:' + (z++) + ';display:none"></div>');
            else
                lyr2 = $('<div class="blockUI blockOverlay" style="z-index:' + (z++) + ';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');

            if (opts.theme && full) {
                s = '<div class="blockUI ' + opts.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:' + (z + 10) + ';display:none;position:fixed">';
                if (opts.title) {
                    s += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (opts.title || '&nbsp;') + '</div>';
                }
                s += '<div class="ui-widget-content ui-dialog-content"></div>';
                s += '</div>';
            } else if (opts.theme) {
                s = '<div class="blockUI ' + opts.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:' + (z + 10) + ';display:none;position:absolute">';
                if (opts.title) {
                    s += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (opts.title || '&nbsp;') + '</div>';
                }
                s += '<div class="ui-widget-content ui-dialog-content"></div>';
                s += '</div>';
            } else if (full) {
                s = '<div class="blockUI ' + opts.blockMsgClass + ' blockPage" style="z-index:' + (z + 10) + ';display:none;position:fixed"></div>';
            } else {
                s = '<div class="blockUI ' + opts.blockMsgClass + ' blockElement" style="z-index:' + (z + 10) + ';display:none;position:absolute"></div>';
            }
            lyr3 = $(s);

            // if we have a message, style it
            if (msg) {
                if (opts.theme) {
                    lyr3.css(themedCSS);
                    lyr3.addClass('ui-widget-content');
                } else
                    lyr3.css(css);
            }

            // style the overlay
            if (!opts.theme /*&& (!opts.applyPlatformOpacityRules)*/ )
                lyr2.css(opts.overlayCSS);
            lyr2.css('position', full ? 'fixed' : 'absolute');

            // make iframe layer transparent in IE
            if (msie || opts.forceIframe)
                lyr1.css('opacity', 0.0);

            //$([lyr1[0],lyr2[0],lyr3[0]]).appendTo(full ? 'body' : el);
            var layers = [lyr1, lyr2, lyr3],
                $par = full ? $('body') : $(el);
            $.each(layers, function() {
                this.appendTo($par);
            });

            if (opts.theme && opts.draggable && $.fn.draggable) {
                lyr3.draggable({
                    handle: '.ui-dialog-titlebar',
                    cancel: 'li'
                });
            }

            // ie7 must use absolute positioning in quirks mode and to account for activex issues (when scrolling)
            var expr = setExpr && (!$.support.boxModel || $('object,embed', full ? null : el).length > 0);
            if (ie6 || expr) {
                // give body 100% height
                if (full && opts.allowBodyStretch && $.support.boxModel)
                    $('html,body').css('height', '100%');

                // fix ie6 issue when blocked element has a border width
                if ((ie6 || !$.support.boxModel) && !full) {
                    var t = sz(el, 'borderTopWidth'),
                        l = sz(el, 'borderLeftWidth');
                    var fixT = t ? '(0 - ' + t + ')' : 0;
                    var fixL = l ? '(0 - ' + l + ')' : 0;
                }

                // simulate fixed position
                $.each(layers, function(i, o) {
                    var s = o[0].style;
                    s.position = 'absolute';
                    if (i < 2) {
                        if (full)
                            s.setExpression('height', 'Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:' + opts.quirksmodeOffsetHack + ') + "px"');
                        else
                            s.setExpression('height', 'this.parentNode.offsetHeight + "px"');
                        if (full)
                            s.setExpression('width', 'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');
                        else
                            s.setExpression('width', 'this.parentNode.offsetWidth + "px"');
                        if (fixL) s.setExpression('left', fixL);
                        if (fixT) s.setExpression('top', fixT);
                    } else if (opts.centerY) {
                        if (full) s.setExpression('top', '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');
                        s.marginTop = 0;
                    } else if (!opts.centerY && full) {
                        var top = (opts.css && opts.css.top) ? parseInt(opts.css.top, 10) : 0;
                        var expression = '((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + ' + top + ') + "px"';
                        s.setExpression('top', expression);
                    }
                });
            }

            // show the message
            if (msg) {
                if (opts.theme)
                    lyr3.find('.ui-widget-content').append(msg);
                else
                    lyr3.append(msg);
                if (msg.jquery || msg.nodeType)
                    $(msg).show();
            }

            if ((msie || opts.forceIframe) && opts.showOverlay)
                lyr1.show(); // opacity is zero
            if (opts.fadeIn) {
                var cb = opts.onBlock ? opts.onBlock : noOp;
                var cb1 = (opts.showOverlay && !msg) ? cb : noOp;
                var cb2 = msg ? cb : noOp;
                if (opts.showOverlay)
                    lyr2._fadeIn(opts.fadeIn, cb1);
                if (msg)
                    lyr3._fadeIn(opts.fadeIn, cb2);
            } else {
                if (opts.showOverlay)
                    lyr2.show();
                if (msg)
                    lyr3.show();
                if (opts.onBlock)
                    opts.onBlock();
            }

            // bind key and mouse events
            bind(1, el, opts);

            if (full) {
                pageBlock = lyr3[0];
                pageBlockEls = $(':input:enabled:visible', pageBlock);
                if (opts.focusInput)
                    setTimeout(focus, 20);
            } else
                center(lyr3[0], opts.centerX, opts.centerY);

            if (opts.timeout) {
                // auto-unblock
                var to = setTimeout(function() {
                    if (full)
                        $.unblockUI(opts);
                    else
                        $(el).unblock(opts);
                }, opts.timeout);
                $(el).data('blockUI.timeout', to);
            }
        }

        // remove the block
        function remove(el, opts) {
            var full = (el == window);
            var $el = $(el);
            var data = $el.data('blockUI.history');
            var to = $el.data('blockUI.timeout');
            if (to) {
                clearTimeout(to);
                $el.removeData('blockUI.timeout');
            }
            opts = $.extend({}, $.blockUI.defaults, opts || {});
            bind(0, el, opts); // unbind events

            if (opts.onUnblock === null) {
                opts.onUnblock = $el.data('blockUI.onUnblock');
                $el.removeData('blockUI.onUnblock');
            }

            var els;
            if (full) // crazy selector to handle odd field errors in ie6/7
                els = $('body').children().filter('.blockUI').add('body > .blockUI');
            else
                els = $el.find('>.blockUI');

            // fix cursor issue
            if (opts.cursorReset) {
                if (els.length > 1)
                    els[1].style.cursor = opts.cursorReset;
                if (els.length > 2)
                    els[2].style.cursor = opts.cursorReset;
            }

            if (full)
                pageBlock = pageBlockEls = null;

            if (opts.fadeOut) {
                els.fadeOut(opts.fadeOut);
                setTimeout(function() {
                    reset(els, data, opts, el);
                }, opts.fadeOut);
            } else
                reset(els, data, opts, el);
        }

        // move blocking element back into the DOM where it started
        function reset(els, data, opts, el) {
            var $el = $(el);
            els.each(function(i, o) {
                // remove via DOM calls so we don't lose event handlers
                if (this.parentNode)
                    this.parentNode.removeChild(this);
            });

            if (data && data.el) {
                data.el.style.display = data.display;
                data.el.style.position = data.position;
                if (data.parent)
                    data.parent.appendChild(data.el);
                $el.removeData('blockUI.history');
            }

            if ($el.data('blockUI.static')) {
                $el.css('position', 'static'); // #22
            }

            if (typeof opts.onUnblock == 'function')
                opts.onUnblock(el, opts);

            // fix issue in Safari 6 where block artifacts remain until reflow
            var body = $(document.body),
                w = body.width(),
                cssW = body[0].style.width;
            body.width(w - 1).width(w);
            body[0].style.width = cssW;
        }

        // bind/unbind the handler
        function bind(b, el, opts) {
            var full = el == window,
                $el = $(el);

            // don't bother unbinding if there is nothing to unbind
            if (!b && (full && !pageBlock || !full && !$el.data('blockUI.isBlocked')))
                return;

            $el.data('blockUI.isBlocked', b);

            // don't bind events when overlay is not in use or if bindEvents is false
            if (!opts.bindEvents || (b && !opts.showOverlay))
                return;

            // bind anchors and inputs for mouse and key events
            var events = 'mousedown mouseup keydown keypress keyup touchstart touchend touchmove';
            if (b)
                $(document).bind(events, opts, handler);
            else
                $(document).unbind(events, handler);

            // former impl...
            //		var $e = $('a,:input');
            //		b ? $e.bind(events, opts, handler) : $e.unbind(events, handler);
        }

        // event handler to suppress keyboard/mouse events when blocking
        function handler(e) {
            // allow tab navigation (conditionally)
            if (e.keyCode && e.keyCode == 9) {
                if (pageBlock && e.data.constrainTabKey) {
                    var els = pageBlockEls;
                    var fwd = !e.shiftKey && e.target === els[els.length - 1];
                    var back = e.shiftKey && e.target === els[0];
                    if (fwd || back) {
                        setTimeout(function() {
                            focus(back);
                        }, 10);
                        return false;
                    }
                }
            }
            var opts = e.data;
            var target = $(e.target);
            if (target.hasClass('blockOverlay') && opts.onOverlayClick)
                opts.onOverlayClick();

            // allow events within the message content
            if (target.parents('div.' + opts.blockMsgClass).length > 0)
                return true;

            // allow events for content that is not being blocked
            return target.parents().children().filter('div.blockUI').length === 0;
        }

        function focus(back) {
            if (!pageBlockEls)
                return;
            var e = pageBlockEls[back === true ? pageBlockEls.length - 1 : 0];
            if (e)
                e.focus();
        }

        function center(el, x, y) {
            var p = el.parentNode,
                s = el.style;
            var l = ((p.offsetWidth - el.offsetWidth) / 2) - sz(p, 'borderLeftWidth');
            var t = ((p.offsetHeight - el.offsetHeight) / 2) - sz(p, 'borderTopWidth');
            if (x) s.left = l > 0 ? (l + 'px') : '0';
            if (y) s.top = t > 0 ? (t + 'px') : '0';
        }

        function sz(el, p) {
            return parseInt($.css(el, p), 10) || 0;
        }

    }


    /*global define:true */
    if (typeof define === 'function' && define.amd && define.amd.jQuery) {
        define(['jquery'], setup);
    } else {
        setup(jQuery);
    }

})();</script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/criteriosMultiple.js?5f19e3bd36801'); </script><script type="text/javascript">function limpiar_criterios(nom_programa) {
    if (preguntaConfirmacion('¿Está Seguro Que Desea Borrar Los Criterios Actuales?')) {
        $('#ulCriterios_' + nom_programa).empty();
    }
}

//Funcion que valida y agrega un criterio a la lista de criterios.

function agregarCriterio(nombre_programa) {
    var nom_programa, campo, operador, op_jqGrid, valor, labelCampo, labelOperador, tipoCampo, tabla, condicion, item;
    var validaCaracter;
    nom_programa = (typeof nombre_programa === undefined) ? $("#nom_programa").val() : nombre_programa;
    campo = $('#col_' + nom_programa).val();
    operador = $('#ope_' + nom_programa).val();
    op_jqGrid = $('#ope_' + nom_programa + ' option:selected').attr('data-jqgrid');
    valor = $('#valor_' + nom_programa).val();
    labelCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").text();
    labelOperador = $("#ope_" + nom_programa + " option[value='" + operador + "']").text();
    tipoCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tipo');
    tabla = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tabla');
    condicion = campo + operador + valor + '[' + tipoCampo + ']';
    item = '';

    validaCaracter = isCriterio(valor);

    if (validaCaracter == false) {

        notificacion(
            '',
            'Solo se permiten datos alfanuméricos, por favor verifique el valor que desea buscar',
            'error',
            2,
            'bottomLeft',
            5000
        );
        return;
    }

    if (verificarExisteCriterio(campo, operador, valor, tipoCampo, tabla, nom_programa)) {
        alerta('El criterio : <strong>"' + labelCampo + ' ' + labelOperador + ' ' + valor + '"</strong> ya se encuentra configurado', 3);
        return false;
    }

    /*SELECT de uninon AND/OR*/
    if ($('#ulCriterios_' + nom_programa + ' .sub-query-context').length >= 1) {
        var andOrSwitch = $("<select name=\"andOrSwitch[]\" />");
        $("<option />", {
            value: 'AND',
            text: 'Y'
        }).appendTo(andOrSwitch);
        $("<option />", {
            value: 'OR',
            text: 'O'
        }).appendTo(andOrSwitch);
        item = '<div class="subQuery-element list-condition-element condition-container" data-campo="' + campo + '" data-operador="' + operador + '" data-jqGrid="' + op_jqGrid + '"  data-valor="' + valor + '" data-tipo="' + tipoCampo + '" data-tabla="' + tabla + '" title="' + condicion + '" >';
        item += '<span class="label-condition">' + labelCampo + '&nbsp;<b>' + labelOperador + '</b>&nbsp;' + valor + '</span>';
        item += '<span class="remove-condition eliminar" title="Remover" onclick="removerCriterio(this);"></span>';
        item += '</div>';
        item = $(item).hide().fadeIn(1000);
        $('.sub-query-context').append(item);
        $('.sub-query-context').append($('<div class="conditionDivSelectSQ">').append(andOrSwitch));
    } else {
        var andOrSwitch1 = $("<select name=\"andOrSwitch[]\" disabled />");
        $("<option />", {
            value: 'AND',
            text: 'Y'
        }).appendTo(andOrSwitch1);
        $("<option />", {
            value: 'OR',
            text: 'O'
        }).appendTo(andOrSwitch1);
        item = '<div class="condition-container conditionDivCriteria" data-campo="' + campo + '" data-operador="' + operador + '" data-jqGrid="' + op_jqGrid + '"  data-valor="' + valor + '" data-tipo="' + tipoCampo + '" data-tabla="' + tabla + '" title="' + condicion + '" >';
        item += '<div class="list-condition-element">';
        item += '<span class="label-condition">' + labelCampo + '&nbsp;<b>' + labelOperador + '</b>&nbsp;' + valor + '</span><span onclick="removerCriterio(this);" title="Remover" class="remove-condition eliminar"></span>';
        item += '</div>';
        item += '</div>';
        item = $(item).hide().fadeIn(1000);
        $('#ulCriterios_' + nom_programa).append(item);
        $('#ulCriterios_' + nom_programa).append($('<div class="conditionDivSelect">').append(andOrSwitch1));
    }
    if ($.trim(labelCampo) == '') labelCampo = campo;
    $('#valor_' + nom_programa).val('');
    item.trigger("criterioAgregado", item);
}

/**
 * agrega criterios en formato subquery
 * @param {string} nom_programa id del componente de criterios
 * @returns {void}
 */
function agregarCriterioSQ(nom_programa) {
    var nom_programa, campo, operador, op_jqGrid, valor, labelCampo, labelOperador, tipoCampo, tabla, condicion, item, andOrSwitch;
    //nom_programa  = 'criteriosasignacion';
    campo = $('#col_' + nom_programa).val();
    operador = $('#ope_' + nom_programa).val();
    op_jqGrid = $('#ope_' + nom_programa + ' option:selected').attr('data-jqgrid');
    valor = $('#valor_' + nom_programa).val();
    labelCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").text();
    labelOperador = $("#ope_" + nom_programa + " option[value='" + operador + "']").text();
    tipoCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tipo');
    tabla = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tabla');

    validaCaracter = isCriterio(valor);

    if (validaCaracter == false) {

        notificacion(
            '',
            'Solo se permiten datos alfanuméricos, por favor verifique el valor que desea buscar',
            'error',
            2,
            'bottomLeft',
            5000
        );
        return;
    }
    /*SELECT de uninon AND/OR*/
    andOrSwitch = $("<select name=\"andOrSwitch[]\" />");
    $("<option />", {
        value: 'AND',
        text: 'Y'
    }).appendTo(andOrSwitch);
    $("<option />", {
        value: 'OR',
        text: 'O'
    }).appendTo(andOrSwitch);

    /*SELECT de uninon AND/OR*/
    var andOrSwitch1 = $("<select name=\"andOrSwitch[]\" disabled/>");
    $("<option />", {
        value: 'AND',
        text: 'Y'
    }).appendTo(andOrSwitch1);
    $("<option />", {
        value: 'OR',
        text: 'O'
    }).appendTo(andOrSwitch1);

    condicion = campo + operador + valor + '[' + tipoCampo + ']';
    item = '<div class="subQuery-element list-condition-element condition-container" data-campo="' + campo + '" data-operador="' + operador + '" data-jqGrid="' + op_jqGrid + '"  data-valor="' + valor + '" data-tipo="' + tipoCampo + '" data-tabla="' + tabla + '" title="' + condicion + '" >';
    item += '<span class="label-condition">' + labelCampo + '&nbsp;<b>' + labelOperador + '</b>&nbsp;' + valor + '</span>';
    item += '<span class="remove-condition eliminar" title="Remover" onclick="removerCriterio(this);"></span>';
    item += '</div>';
    item = '<div class="subQueryContainer">' + item + '</div>';
    $('#ulCriterios_' + nom_programa).append(item);
    $('#ulCriterios_' + nom_programa).append($('<div class="conditionDivSelect">').append(andOrSwitch1));
    $('#ulCriterios_' + nom_programa + ' .subQueryContainer:last').append($('<div class="conditionDivSelectSQ">').append(andOrSwitch));
    /**/

    if ($('.subQueryContainer').length > 0) {
        $('div.subQueryContainer').off('click').on("click", function() {
            if ($(this).hasClass('sub-query-context')) {
                $(this).removeClass('sub-query-context');
            } else {
                $('div[class^="subQueryContainer"]').removeClass('sub-query-context');
                $(this).addClass('sub-query-context');
            }
            return false;
        });
    }
}

/**
 * Valida el tipo de campo para mostrar calendario
 * @param {obj} obj
 * @param {string} nom_programa
 * @returns {void}
 */
function validarSeleccionOperador(obj, nom_programa) {
    var operador = $(obj).val();
    var campo = $('#col_' + nom_programa).val();
    $("#valor_" + nom_programa).removeAttr('disabled');
    switch (operador) {
        case 'IS NULL':
            $("#valor_" + nom_programa).val('');
            $("#valor_" + nom_programa).attr('disabled', 'disabled');
            break;
        case '=':
            if (campo.search("fecha") >= 0) {
                $("#valor_" + nom_programa).attr('disabled', 'disabled');
                $("#calendario_" + nom_programa).show();
            }
            break;
    }
}


/**
 * elimina un criterio
 * @param {obj} elm elemento a remover
 * @returns {void}
 */
function removerCriterio(elm) {
    $(elm).parents('div.condition-container').next().fadeOut(500).remove();
    $(elm).parents('div.condition-container').fadeOut(500).remove();
    //Eliminar bloques de subquerys vacios
    $('.subQueryContainer').each(function() {
        if ($(this).html() === '') {
            $(this).next().remove();
            $(this).remove();
        }
    });
}



function verificarExisteCriterio(addCampo, addOperador, addValor, addTipo, addTabla, nom_programa) {
    if (nom_programa != null) {
        var existe = false;
        // $('#ulCriterios_' + nom_programa + ' li').each(function (index) {
        $('#ulCriterios_' + nom_programa + ' div.condition-container').each(function(index) {
            var campo = $(this).data('campo');
            var operador = $(this).data('operador');
            var valor = $(this).data('valor');
            var tipo = $(this).data('tipo');
            var tabla = $(this).data('tabla');
            if (addCampo == campo && addOperador == operador && addValor == valor && addTipo == tipo && addTabla == tabla) {
                existe = true;
            }
        });
        return existe;
    } else {
        var existe = false;
        $('#ulCriterios li').each(function(index) {
            var campo = $(this).data('campo');
            var operador = $(this).data('operador');
            var valor = $(this).data('valor');
            var tipo = $(this).data('tipo');
            var tabla = $(this).data('tabla');
            if (addCampo == campo && addOperador == operador && addValor == valor && addTipo == tipo && addTabla == tabla) {
                existe = true;
            }
        });
        return existe;
    }
}



function verificarExisteCriterioCampo(addCampo, nom_programa) {
    var existe = false;
    $('#ulCriterios_' + nom_programa + ' div.condition-container').each(function(index) {
        var campo = $(this).data('campo');
        var tabla = $(this).data('tabla');
        if (addCampo == campo) {
            existe = true;
        }
    });
    return existe;
}

function crearJson(urlEnvio, div, doAlert, nombre_programa) {
    var campo, operador, valor, tipo, tabla, obj;
    var nom_programa = (typeof nombre_programa === 'undefined') ? $("#nom_programa_" + nombre_programa).val() : nombre_programa;
    var tabla = $("#tabla").val();
    var id = $("#id").val();
    var nombreInforme = $('#nombreInforme').val();
    var compartir = $('#compartir').val();
    var ArrayJson = '{"criterios":[';
    var agrupador = $('#agrupadorCriterios').val();
    var hayDatos = false;
    var ArrayCampos = '';
    var ArrJSONope = '';
    var ArrJSONoSQ = '';
    var ArrJSONsQ = '';
    var arrayfinal = '{"arrayCriterios": [';
    $('#ulCriterios_' + nom_programa + ' div').each(function(index, ele) {
        if ($(ele).hasClass('conditionDivCriteria')) {
            ArrayCampos = '{"criterios": [';
            campo = $(ele).data('campo');
            operador = $(ele).data('operador');
            valor = $(ele).data('valor');
            tipo = $(ele).data('tipo');
            tabla = $(ele).data('tabla');
            ArrayCampos += '{"campo":"' + campo + '","operador":"' + operador + '","valor":"' + valor + '","tabla":"' + tabla + '","tipo":"' + tipo + '"}]}';
            hayDatos = true;
            arrayfinal += ArrayCampos + ',';

        } else if ($(ele).hasClass('conditionDivSelect')) {
            ArrJSONope = '{"operadorLogico": "' + $(this).find("select option:selected").val() + '"}';
            arrayfinal += ArrJSONope + ',';

        } else if ($(ele).hasClass('subQueryContainer')) {
            $(ele).each(function(index) {
                ArrJSONsQ = '{"subquery": [';
                $(this).find('div.subQuery-element').each(function(index) {
                    campo = $(this).data('campo');
                    operador = $(this).data('operador');
                    valor = $(this).data('valor');
                    tipo = $(this).data('tipo');
                    tabla = $(this).data('tabla');
                    ArrJSONsQ += '{"campo":"' + campo + '","operador":"' + operador + '","valor":"' + valor + '","tabla":"' + tabla + '","tipo":"' + tipo + '"},';
                });
                ArrJSONsQ = ArrJSONsQ.slice(0, ArrJSONsQ.length - 1);
                /* Operadores Booleanos SubQuery */
                ArrJSONoSQ += '],"operadoresLogicos": [{';
                $(this).find('div.conditionDivSelectSQ').each(function(index) {
                    ArrJSONoSQ += '"operadorLogico_' + index + '": "' + $(this).find("select option:selected").val() + '",';
                });
                ArrJSONoSQ = ArrJSONoSQ.slice(0, ArrJSONoSQ.length - 1);
                ArrJSONoSQ += '}]},';
                /*FIN Operadores Booleanos SubQuery */
                ArrJSONsQ += ArrJSONoSQ;
                ArrJSONoSQ = '';
            });
            ArrJSONsQ = ArrJSONsQ.slice(0, ArrJSONsQ.length - 2) + '}';
            arrayfinal += ArrJSONsQ + ',';
        }
    });
    arrayfinal = arrayfinal.slice(0, arrayfinal.length - 1) + ']';
    arrayfinal = arrayfinal + ',"agrupador":"' + agrupador + '","tabla":"' + tabla + '","id":"' + id + '","nombreInforme":"' + nombreInforme + '","nom_programa":"' + nom_programa + '","compartir":"' + compartir + '"}';
    if (hayDatos == true) {
        if (urlEnvio != '') {
            obj = jQuery.parseJSON(arrayfinal);
            //setTimeout(function() {enviarDatos(obj,urlEnvio,div);}, 500);
            enviarDatos(obj, urlEnvio, div);
        } else {
            var obj = jQuery.parseJSON(arrayfinal);
            return obj;
        }
    } else {
        if (doAlert == undefined) {
            alert('Por Favor Diligencia al Menos un Criterio');
            mensajeModal('');
            return false;
        } else {
            return undefined;
        }
    }
}



function BuscarCampos(elemento, nom_programa) {
    var nom_programa = (typeof nom_programa !== undefined) ? nom_programa : $("#nom_programa").val();
    var col = (nom_programa != '') ? '#col_' + nom_programa : '#col';
    var ope = (nom_programa != '') ? '#ope_' + nom_programa : '#ope';
    var campo = $(col).val();
    var tabla = $(col + " option[value='" + campo + "']").attr('tabla');
    var operador = $(ope).val();
    tipo = 'S';
    if (operador == 'BETWEEN' || operador == 'IN')
        tipo = 'M';
    buscarCamposGenerico(tabla, campo, elemento, tipo, '20');
}



function enviarDatos(objCampos, urlEnvio, div) {
    $.ajax({
        type: "POST",
        url: urlEnvio,
        data: {
            "objCampos": objCampos
        },
        async: true,
        success: function(msg) {
            $('.send').trigger('success', [msg]);
            if (jQuery.trim(div) == '') {
                notificacion('', msg, 'success', 2, 'bottomLeft', 3000);
            } else
                $('#' + div).html(msg);
        },
        beforeSend: function() { //Funcion que se ejecuta cuando se envian los datos al servidor
        },
        error: function(xhr, textStatus, thrownErro) {
            mensajeModal('');
            alert("Error: " + xhr.status + " " + xhr.responseText + " " + textStatus);
        }
    });
}



function mostrarAyudaCampo(nom_programa) {
    var nom_programa = (typeof nom_programa !== undefined) ? nom_programa : $("#nom_programa").val();
    var ope = $("#ope_" + nom_programa).val();
    if (ope == 'IN' || ope == 'LIKE')
        alerta('<b>Ejemplo de uso: </b> valor1::valor2::valor3', 2);
    else {
        if (ope == 'BETWEEN')
            alerta('<b>Ejemplo de uso: </b> valor1::valor2', 2);
        else
            alerta('<b>Ejemplo de uso: </b> valor', 2);
    }
}

/*$(document).ready(function () {
    var nom_programa = $("#nom_programa").val();

    $('#valor_' + nom_programa).attr('maxLength', '100').keypress(limitMe);

    $('#valor_' + nom_programa).keypress(function (e) {
        if (e.which == 13) {
            e.preventDefault();
            $(this).blur();
            agregarCriterio();
            return false;
        } else return true;
    });

    function limitMe(e) {
        if (e.keyCode == 8) {
            return true;
        }
        return this.value.length < $(this).attr("maxLength");
    }
});*/

function borrarCriterio(id, label, idDiv) {
    if (!preguntaConfirmacion('¿Desea borrar ' + label + '?'))
        return;
    $.ajax({
        type: "POST",
        url: '?rtr=informes&ctr=informesControlador&acc=borrarCriterios',
        data: {
            "id": id
        },
        async: true,
        success: function(msg) {
            if (msg == '1') {
                $("#" + idDiv).fadeOut('normal');
            } else
                alerta("Error borrando el registro", 3);
        },
        beforeSend: function() { //Funcion que se ejecuta cuando se envian los datos al servidor
        },
        error: function(msg) {
            alert(msg);
        }
    });
}


/**
 * Devuelve los criterios guardados en formato humano
 * @param  {string} nom_programa nombre del programa
 * @param  {string} nombre       campo de la tabla criterios_datos
 * @return {string}              criterios guardados
 */
function getCriteriosWhere(id, nom_programa) {
    return $.ajax({
        type: "POST",
        url: 'index.php?rtr=informes&ctr=informesControlador&acc=getCriteriosWhere',
        data: {
            "id": id,
            "nom_programa": nom_programa
        },
        async: true
    });
}

/**
 * Funcino que devulve un operador de criterios en formato humano
 * @param  {string} operador     operador a transformar
 * @return {string} operadorDesc operador en formato humano.
 */
function getOperador(operador) {
    var operadorDesc = '';
    switch (operador) {
        case '<':
            operadorDesc = 'Menor Que';
            break;
        case '>':
            operadorDesc = 'Mayor Que';
            break;
        case 'LIKE2':
            operadorDesc = 'Comience Por';
            break;
        case '<>':
            operadorDesc = 'Distinto De';
            break;
        case 'IS NULL':
            operadorDesc = 'Es Nulo';
            break;
        case 'LIKE1':
            operadorDesc = 'Finalice Por';
            break;
        case '=':
            operadorDesc = 'Igual Que';
            break;
        case 'IN':
            operadorDesc = 'Incluya';
            break;
        case '>=':
            operadorDesc = 'Mayor o Igual Que';
            break;
        case '<=':
            operadorDesc = 'Menor o Igual Que';
            break;
        case 'NOT IN':
            operadorDesc = 'No Icluya';
            break;
        case 'LIKE':
            operadorDesc = 'Parecido A';
            break;
        case 'BETWEEN':
            operadorDesc = 'Se Encuentre Entre';
            break;
        default:
            operadorDesc = false;
            break;
    }
    return operadorDesc;
}


/**
 * Recarga en el componente de criterios, criterios previamente guardados
 * @param  {json}   json        json con los criterios a cargar
 * @param  {string} nomprograma nombre del rograma para identificar el componente de criterios
 * @return {void}
 */

function reloadCriterios(json, nomprograma) {
    var item, campo, operador, op_jqGrid, valor, labelCampo, labelOperador, tipoCampo, tabla, condicion, selectedAND, selectedOR, andOrSwitch;
    item = '';
    if (typeof(json) === 'string') {
        json = jQuery.parseJSON(json);
    }
    if (json === null) {
        return false;
    } else {
        $(json.arrayCriterios).each(function(i, e) {
            $.each(e, function(arrayID, group) {
                if (arrayID == 'criterios') {
                    $("#col_" + nomprograma + " option[value='" + group[0].campo + "']").attr("selected", "selected");
                    $("#ope_" + nomprograma + " option[value='" + group[0].operador + "']").attr("selected", "selected");
                    $("#valor_" + nomprograma).val(group[0].valor);
                    campo = $('#col_' + nom_programa).val();
                    operador = $('#ope_' + nom_programa).val();
                    op_jqGrid = $('#ope_' + nom_programa + ' option:selected').attr('data-jqgrid');
                    valor = $('#valor_' + nom_programa).val();
                    labelCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").text();
                    labelOperador = $("#ope_" + nom_programa + " option[value='" + operador + "']").text();
                    tipoCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tipo');
                    tabla = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tabla');
                    condicion = campo + operador + valor + '[' + tipoCampo + ']';
                    item = '';
                    item = '<div class="condition-container conditionDivCriteria" data-campo="' + campo + '" data-operador="' + operador + '" data-jqGrid="' + op_jqGrid + '"  data-valor="' + valor + '" data-tipo="' + tipoCampo + '" data-tabla="' + tabla + '" title="' + condicion + '" >';
                    item += '<div class="list-condition-element">';
                    item += '<span class="label-condition">' + labelCampo + '&nbsp;<b>' + labelOperador + '</b>&nbsp;' + valor + '</span><span onclick="removerCriterio(this);" title="Remover" class="remove-condition eliminar"></span>';
                    item += '</div>';
                    item += '</div>';
                    item = $(item).hide().fadeIn(1000);
                    $('#ulCriterios_' + nom_programa).append(item);
                    $('#valor_' + nom_programa).val('');
                } else if (arrayID == 'subquery') {
                    item = '<div class="subQueryContainer sub-query-context"></div>';
                    $('#ulCriterios_' + nom_programa).append($(item));
                    $.each(e, function(groupId, subquerys) {
                        if (groupId == 'subquery') {
                            var i = 0;
                            $.each(subquerys, function(subqueryId, subquery) {
                                $("#col_" + nomprograma + " option[value='" + subquery.campo + "']").attr("selected", "selected");
                                $("#ope_" + nomprograma + " option[value='" + subquery.operador + "']").attr("selected", "selected");
                                $("#valor_" + nomprograma).val(subquery.valor);
                                campo = $('#col_' + nom_programa).val();
                                operador = $('#ope_' + nom_programa).val();
                                op_jqGrid = $('#ope_' + nom_programa + ' option:selected').attr('data-jqgrid');
                                valor = $('#valor_' + nom_programa).val();
                                labelCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").text();
                                labelOperador = $("#ope_" + nom_programa + " option[value='" + operador + "']").text();
                                tipoCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tipo');
                                tabla = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tabla');
                                condicion = campo + operador + valor + '[' + tipoCampo + ']';
                                item = '<div class="subQuery-element list-condition-element condition-container" data-campo="' + campo + '" data-operador="' + operador + '" data-jqGrid="' + op_jqGrid + '"  data-valor="' + valor + '" data-tipo="' + tipoCampo + '" data-tabla="' + tabla + '" title="' + condicion + '" >';
                                item += '<span class="label-condition">' + labelCampo + '&nbsp;<b>' + labelOperador + '</b>&nbsp;' + valor + '</span>';
                                item += '<span class="remove-condition eliminar" title="Remover" onclick="removerCriterio(this);"></span>';
                                item += '</div>';
                                item = $(item).hide().fadeIn(1000);
                                andOrSwitch = '<select name="andOrSwitch[]">';
                                if (e.operadoresLogicos[0]['operadorLogico_' + i] == 'AND') {
                                    andOrSwitch += '<option selected="selected" value="AND">Y</option>';
                                    andOrSwitch += '<option value="OR">O</option>';
                                } else {
                                    andOrSwitch += '<option value="AND">Y</option>';
                                    andOrSwitch += '<option selected="selected" value="OR">O</option>';
                                }
                                andOrSwitch += '</select>';
                                $('.sub-query-context').append(item);
                                $('.sub-query-context').append($('<div class="conditionDivSelectSQ">').append(andOrSwitch));
                                i++;
                            });
                            $('#ulCriterios_' + nom_programa + ' div.subQueryContainer').removeClass('sub-query-context');
                        }
                    });
                } else if (arrayID == 'operadorLogico') {
                    selectedAND = (group == 'AND') ? "selected=\"selected\"" : '';
                    selectedOR = (group == 'OR') ? "selected=\"selected\"" : '';
                    andOrSwitch = '<select name="andOrSwitch[]" disabled >';
                    andOrSwitch += '<option ' + selectedAND + ' value="AND">Y</option>';
                    //andOrSwitch += '<option ' + selectedOR + ' value="OR">O</option>';
                    andOrSwitch += '</select>';
                    $('#ulCriterios_' + nom_programa).append($('<div class="conditionDivSelect">').append($(andOrSwitch)));
                }
            });
        });
    }
}</script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/criterios.js?5f19e3bd36801'); </script><script type="text/javascript">//require_once("js/ui/i18n/jquery.ui.datepicker-es.js");
//require_once("js/ui/jquery-ui-timepicker-addon.js");
var arrayResultadosBusqueda = new Array();
$(function() {
    inicializarDatePickerInformes();
    inicializarTimePickerInformes();
});
$(document).ready(function($) {
    $("#col").on('change', function() {
        $("#valor").val('');
    });
    $('#divCriteriosBusquedaOnLineResultados').parent().css('text-transform', 'none');
    // Code using $ as usual goes here.
});

function inicializarDatePickerInformes() {
    /**
     * Se inicializa el selector de fecha se usa
     * imagen y el boton para cerrar
     *
     */
    if ($.browser.msie && $.browser.version == '8.0') {

        jQuery("#inputCalendario").datepicker({
            buttonImage: '',
            dateFormat: 'yy-mm-dd',
            changeMonth: true,
            changeYear: true,
            yearRange: '-100:+1',
            //maxDate: '0',
            onSelect: function(dateText, inst) {
                validarRangosBetweenIn(dateText, inst);
            },
            beforeShow: function() {
                setTimeout(function() {
                    $('.ui-datepicker').css('z-index', 10);
                }, 0);
            },
            //buttonImageOnly: true,
            showOn: 'both',
            closeText: "X",
            showButtonPanel: true
        });

    } else {
        jQuery("#inputCalendario").datepicker({
            buttonImage: '',
            dateFormat: 'yy-mm-dd',
            changeMonth: true,
            changeYear: true,
            yearRange: '-100:+1',
            //maxDate: '0',
            onSelect: function(timeText, inst) {
                validarRangosBetweenIn(timeText, inst);
            },
            beforeShow: function() {
                setTimeout(function() {
                    $('.ui-datepicker').css('z-index', 10);
                }, 0);
            },
            buttonImageOnly: true,
            showOn: 'both',
            closeText: "X",
            showButtonPanel: true
        });
    }
    $("#btnCalendario > .ui-datepicker-trigger").addClass("ui-icon ui-icon-calendar");
    $("#btnCalendario > .ui-datepicker-trigger").attr("title", "Abrir Calendario");
}

function inicializarTimePickerInformes() {
    if (jQuery('#inputHora').length > 0) {
        jQuery('#inputHora').timepicker({
            showSecond: true,
            timeFormat: 'hh:mm:ss',
            timeOnly: true,
            onClose: function(timeText, inst) {
                validartiempos(timeText, inst);
            },
            showOn: 'both'
        });
        jQuery('#inputHora').timepicker("option", $.timepicker.regional['es']);
        $("#btnHora > button").removeClass("ui-icon-calendar");
        $("#btnHora > button").attr("title", "Abrir Hora");
        $("#btnHora > button").addClass("ui-icon ui-icon-clock");
    }
}

function validarRangosBetweenIn(dateText, inst) {
    var operador = $('#ope').val();
    if (operador == 'BETWEEN' || operador == 'NOT IN' || operador == 'IN') {
        valorActual = $("#valor").val();
        if (valorActual != '') {
            if ($('#ope').val() == 'BETWEEN') {
                if (valorActual.indexOf("::") > 0) {
                    $("#valor").val(dateText);
                    verificarRangoEntreFechas(dateText);
                } else {
                    $("#valor").val(valorActual + "::" + dateText);
                    deshabilitarRangoEntreFechas();
                }
            } else {
                $("#valor").val(valorActual + "::" + dateText);
            }
        } else {
            verificarRangoEntreFechas(dateText);
            $("#valor").val(dateText);
        }
    } else {
        deshabilitarRangoEntreFechas();
        $("#valor").val(dateText);
    }
}

function validartiempos(timeText, inst) {
    var operador = $('#ope').val();
    if (operador == 'BETWEEN' || operador == 'NOT IN' || operador == 'IN') {
        valorActual = $("#valor").val();
        if (valorActual != '') {
            if ($('#ope').val() == 'BETWEEN') {
                if (valorActual.indexOf("::") > 0) {
                    $("#valor").val(timeText);
                } else {
                    $("#valor").val(valorActual + "::" + timeText);
                }
            } else {
                $("#valor").val(valorActual + "::" + timeText);
            }
        } else {
            $("#valor").val(timeText);
        }
    } else {
        $("#valor").val(timeText);
    }
}

/**
 * Para el informe de seguimiento habilita el calendario
 * para que solo se pueda
 * seleccionar un rango entre fechas para 30 días
 */
function verificarRangoEntreFechas(fechaInicial) {
    var nomPrograma = jQuery("#nom_programa").val();
    var columna = jQuery("#col").val();
    if (nomPrograma == "informeseguimiento" && columna == "fechasegui") {
        var arrFechaInicial = fechaInicial.split('-');
        var interval = 30;
        var fechaActual = new Date();
        var startDate = new Date(arrFechaInicial[0], arrFechaInicial[1] - 1, arrFechaInicial[2]);
        var expDate = new Date(arrFechaInicial[0], arrFechaInicial[1] - 1, arrFechaInicial[2]);
        expDate.setDate(startDate.getDate() + interval);
        if (expDate > fechaActual) {
            expDate = fechaActual;
        }
        $('#inputCalendario').datepicker(
            'option', {
                minDate: startDate,
                maxDate: expDate
            }
        );
        $("#btnCalendario > .ui-datepicker-trigger").addClass("ui-icon ui-icon-calendar");
        $("#btnCalendario > .ui-datepicker-trigger").attr("title", "Abrir Calendario");
    }
}
/**
 * Para el informe de seguimiento deshabilita la
 * función que  solo permite
 * seleccionar un rango entre fechas para 30 días
 */
function deshabilitarRangoEntreFechas() {
    var nomPrograma = jQuery("#nom_programa").val();
    var columna = jQuery("#col").val();
    if (nomPrograma == "informeseguimiento" && columna == "fechasegui") {
        var startDate = new Date();
        var expDate = new Date();
        startDate.setTime(startDate.valueOf() - 100 * 365 * 24 * 60 * 60 * 1000);
        $('#inputCalendario').datepicker(
            'option', {
                minDate: startDate,
                maxDate: expDate
            }
        );
        $("#btnCalendario > .ui-datepicker-trigger").addClass("ui-icon ui-icon-calendar");
        $("#btnCalendario > .ui-datepicker-trigger").attr("title", "Abrir Calendario");
    }
}


function agregarCriterio() {

    var campo = $('#col').val();
    var operador = $('#ope').val();
    var valor = $('#valor').val();
    var labelCampo = $("#col option[value='" + campo + "']").text();
    var labelOperador = $("#ope option[value='" + operador + "']").text();
    var tipoCampo = $("#col option[value='" + campo + "']").attr('tipo');
    var tabla = $("#col option[value='" + campo + "']").attr('tabla');

    if (criterioSencilloEsCorrecto(campo, operador, valor, tabla) == false) {
        alert('Escriba un valor antes de agregar el criterio...');
        return;
    } else {
        if (operador == 'IS NOT NULL' || operador == 'IS NULL') {
            if (valor != '') {
                alert('El valor no es vacio.');
                return;
            }
        } else if (tipoCampo == 'numeric' || tipoCampo == 'integer' || tipoCampo == 'int' || tipoCampo == 'double' || tipoCampo == 'decimal' || tipoCampo == 'money' || tipoCampo == 'moneda') {
            var filter = '';
            if (operador == 'BETWEEN') {
                filter = /^([0-9.])+(::)([0-9.])+((::)([0-9.])+)*$/;
            } else if (operador == 'IN' || operador == 'LIKE' || operador == 'BETWEEN') {
                if (valor.indexOf('::') != -1) {
                    filter = /^([0-9.])+((::)([0-9.])+)+$/;
                } else {
                    filter = /^([0-9.])+$/;
                }
            } else {
                filter = /^([0-9.])+$/;
            }

            if (!filter.test(valor)) {
                alert('Solo se permiten datos numéricos, espacio y vacio no estan permitidos, o el formato no es ' + 'correcto para el tipo de operador seleccionado. Por favor verifique el valor que desea agregar.');
                return;
            }
        } else if (tipoCampo == 'date' || tipoCampo == 'fecha' || tipoCampo == 'hora' || tipoCampo == 'fechahora') {
            var filter = '';
            if (operador == 'BETWEEN') {
                filter = /^([0-9. ]|(:)|(-))+(::)([0-9. ]|(:)|(-))+((::)([0-9. ]|(:)|(-))+)*$/;
            } else if (operador == 'IN' || operador == 'LIKE' || operador == 'BETWEEN') {
                if (valor.indexOf('::') != -1) {
                    filter = /^([0-9. ]|(:)|(-))+((::)([0-9. ]|(:)|(-))+)+$/;
                } else {
                    filter = /^([0-9. ]|(:)|(-))+$/;
                }
            } else {
                filter = /^([0-9. ]|(:)|(-))+$/;
            }
            if (!filter.test(valor)) {
                alert('Solo se permiten datos numéricos, espacio y vacio no estan permitidos, o el formato no es ' + 'correcto para el tipo de operador seleccionado. Por favor verifique el valor que desea agregar.');
                return;
            }
        } else {
            var filter = '';
            if (operador == 'BETWEEN') {
                filter = /^([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,_/#?¿ ]|(-))+(::)([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,_/#?¿ ]|(-))+((::)([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,_/#?¿ ]|(-)|(\()|(\)))+)*$/;
            } else if (operador == 'IN' || operador == 'NOT IN') {
                if (valor.indexOf('::') != -1) {
                    filter = /^([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,_/#?¿ ]|(-))+((::)([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,_/#?¿ ]|(-)|(\()|(\)))+)+$/;
                } else {
                    filter = /^([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,_/# ]|(-)|(\()|(\)))+$/;
                }
            } else if (operador == 'LIKE') {
                if (valor.indexOf('::') != -1) {
                    filter = /^([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,/#?¿ ]|(-))+((::)([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,/#?¿ ]|(-)|(\()|(\)))+)+$/;
                } else {
                    filter = /^([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,/#?¿ ]|(-)|(\()|(\)))+$/;
                }
            } else if (operador == 'LIKE1' || operador == 'LIKE2') {
                filter = /^([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,/#?¿ ]|(-)|(\()|(\)))+$/;
            } else {
                filter = /^([a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ@.,_/#?¿ ]|(-)|(\()|(\)))+$/;
            }

            if (!filter.test(valor)) {
                alert('Solo se permiten datos alfanuméricos o el formato no es correcto para el tipo ' + 'de operador seleccionado. Por favor verifique el valor que desea agregar.');
                return;
            }
        }
    }

    if (verificarExisteCriterio(campo, operador, valor, tipoCampo, tabla)) {
        alerta('El criterio : <strong>"' + labelCampo + ' ' + labelOperador + ' ' + valor + '"</strong> ya se encuentra configurado', 3);
        return false;
    }
    agregarCriterioAListaSeleccionados(campo, operador, valor);
}
/**
 * Agrega los criterios en el front end en lenguage humano
 * 
 * @param campo
 * @param operador
 * @param valor
 */
function agregarCriterioAListaSeleccionados(campo, operador, valor) {
    var op_jqGrid = $('#ope option:selected').attr('data-jqgrid');
    var labelCampo = $("#col option[value='" + campo + "']").text();
    if ($.trim(labelCampo) == '')
        labelCampo = campo;

    var tabla = $("#col option[value='" + campo + "']").attr('tabla');
    var tipoCampo = $("#col option[value='" + campo + "']").attr('tipo');
    var condicion = campo + operador + valor + '[' + tipoCampo + ']';
    var labelOperador = $("#ope option[value='" + operador + "']").text();

    if (verificarExisteCriterio(campo, operador, valor, tipoCampo, tabla) === false) {
        if (tipoCampo == 'especial' && $('#codcobuser1').length > 0) {
            var parametroCons = $('#codcobuser1').val();
            var item = $('<li class="toolbar" campo="' + campo + '" operador="' + valor + "|" + operador + '" data-jqGrid="' + op_jqGrid + '"  valor="' + parametroCons + '" tipo="' + tipoCampo + '" tabla="' + tabla + '"  parametroCons="' + parametroCons + '" style="" ><table style="width:100%"><tr><td width="100%">' + labelCampo + ' <span>' + valor + ' ' + labelOperador + ' ' + parametroCons + '</span></td><td><button class="eliminar" title="Remover" onclick="removerCriterio(this);"></button></td></tr></table></li>').hide().fadeIn(1000);
        } else {
            if (operador == '=' && tipoCampo == "fechahora") {
                op_jqGrid = "cn";
                operador = "LIKE";
            }

            var item = $('<li class="toolbar" campo="' + campo + '" operador="' + operador + '" data-jqGrid="' + op_jqGrid + '"  valor="' + valor + '" tipo="' + tipoCampo + '" tabla="' + tabla + '" style="" ><table style="width:100%"><tr><td width="100%">' + labelCampo + ' <span>' + labelOperador + ' ' + valor + '</span></td><td><button class="eliminar" title="Remover" onclick="removerCriterio(this);"></button></td></tr></table></li>').hide().fadeIn(1000);
        }

        $("#ulCriterios").append(item);
        $('#valor').val('');
        item.trigger("criterioAgregado", item);
    }
}

function validarSeleccionOperador(obj) {
    var operador = $(obj).val();
    var campo = $('#col').val();

    if (campo !== null) {

        var tipoCampo = $("#col option[value='" + campo + "']").attr('tipo');

        $("#valor").removeAttr('disabled');
        switch (operador) {
            case 'IS NULL':
                $("#valor").val('');
                $("#valor").attr('disabled', 'disabled');
                break;
            case '=':
                if (campo.search("fecha") >= 0) {
                    $("#valor").attr('disabled', 'disabled');
                    $("#btnCalendario").fadeIn(500);
                    var bg = $("#btnCalendario > img.ui-icon-calendar").css('background-image');
                    bg = bg.replace('url(', '').replace(')', '').replace(/\"/gi, "");
                    $("#btnCalendario > img.ui-icon-calendar").attr('src', bg);
                } else if ((campo.search("hora") >= 0 || tipoCampo == 'hora')) {
                    $("#valor").attr('disabled', 'disabled');
                    $("#btnHora").fadeIn(500);
                }
                break;
        }
        // Para mostrar/ocultar boton calendario

        if ((campo.search("fech") >= 0 || tipoCampo == 'date' || tipoCampo == 'fechahora' || tipoCampo == 'fecha') && operador != 'IS NULL') {

            var bg = $("#btnCalendario > img.ui-icon-calendar").css('background-image');
            bg = bg.replace('url(', '').replace(')', '').replace(/\"/gi, "");
            $("#btnCalendario > img.ui-icon-calendar").attr('src', bg);
            $("#btnCalendario").fadeIn(500);
            $("#btnHora").fadeOut(500);
        } else if ((campo.search("hora") >= 0 || tipoCampo == 'hora') && operador != 'IS NULL') {
            $("#valor").attr('disabled', 'disabled');
            $("#btnCalendario").fadeOut(500);
            $("#btnHora").fadeIn(500);
        } else {
            $("#btnCalendario").fadeOut(500);
            $("#btnHora").fadeOut(500);
        }

    }
}

/* Agrega filtros en una ventana de criterios especifica a una grilla*/
function agregarCriterioFiltro(nom_programa) {
    var campo = $('#col_' + nom_programa).val();
    var operador = $('#ope_' + nom_programa).val();
    var op_jqGrid = $('#ope_' + nom_programa + ' option:selected').attr('data-jqgrid');
    var valor = $('#valor_' + nom_programa).val();
    var labelCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").text();
    var labelOperador = $("#ope_" + nom_programa + " option[value='" + operador + "']").text();
    var tipoCampo = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tipo');
    var tabla = $("#col_" + nom_programa + " option[value='" + campo + "']").attr('tabla');
    if (verificarExisteCriterio(campo, operador, valor, tipoCampo, tabla, nom_programa)) {
        alerta('El criterio : <strong>"' + labelCampo + ' ' + labelOperador + ' ' + valor + '"</strong> ya se encuentra configurado', 3);
        return false;
    }
    if ($.trim(labelCampo) == '') labelCampo = campo;
    var condicion = campo + operador + valor + '[' + tipoCampo + ']';
    var item = $('<li class="ui-widget-header" campo="' + campo + '" operador="' + operador + '" data-jqGrid="' + op_jqGrid + '"  valor="' + valor + '" tipo="' + tipoCampo + '" tabla="' + tabla + '" title="' + condicion + '"><button class="eliminar" title="Remover"  onclick="removerCriterio(this);"></button>' + labelCampo + ' <span>' + labelOperador + ' ' + valor + '</span></li>').hide().fadeIn(1000);
    $("#ulCriterios_" + nom_programa).append(item);
    $('#valor').val('');
    return true;
}

function removerCriterio(elm) {
    p = $(elm).parent().parent().parent().parent().parent().parent();
    $(elm).parents("li:first").fadeOut(500);
    $(elm).parents("li:first").remove();
    p.trigger('criterioEliminado', p);
}

function verificarExisteCriterio(addCampo, addOperador, addValor, addTipo, addTabla, nom_programa) {
    if (nom_programa != null) {
        var existe = false;
        $('#ulCriterios_' + nom_programa + ' li').each(function(index) {
            var campo = $(this).attr('campo');
            var operador = $(this).attr('operador');
            var valor = $(this).attr('valor');
            var tipo = $(this).attr('tipo');
            var tabla = $(this).attr('tabla');
            if (addCampo == campo && addOperador == operador && addValor == valor && addTipo == tipo && addTabla == tabla) {
                existe = true;
            }
        });
        return existe;
    } else {

        var existe = false;
        $('#ulCriterios li').each(function(index) {
            var campo = $(this).attr('campo');
            var operador = $(this).attr('operador');
            var valor = $(this).attr('valor');
            var tipo = $(this).attr('tipo');
            var tabla = $(this).attr('tabla');
            if (addCampo == campo && addOperador == operador && addValor == valor && addTipo == tipo && addTabla == tabla) {
                existe = true;
            }
        });
        return existe;
    }
}

function verificarExisteCriterioCampo(addCampo) {
    var existe = false;
    $('#ulCriterios li').each(function(index) {
        var campo = $(this).attr('campo');
        var tabla = $(this).attr('tabla');
        if (addCampo == campo) {
            existe = true;
        }
    });
    return existe;
}

function crearJson(urlEnvio, div, doAlert, mensajeError) {
    mensajeError = mensajeError || (mensajeError = '');
    var tabla = $("#tabla").val();
    var id = $("#id").val();
    var nombreInforme = $('#nombreInforme').val();
    var nom_programa = $('#nom_programa').val();
    var compartir = $('#compartir').val();
    var strNombreAgrupador = $("#agrupadorCriterios").val();
    //se obtienen los datos de los agrupadores para el informe de
    //seguimiento
    var listaAgrupadores = "";
    var ultimoAgrupador = "";
    if (typeof activeTab !== 'undefined' && activeTab != '') {
        if ($("#listaCodigosAgrupador_" + activeTab).length > 0) {
            listaAgrupadores = $("#listaCodigosAgrupador_" + activeTab).val();
        }
        if ($("#ultimoAgrupador_" + activeTab).length > 0) {
            ultimoAgrupador = $("#ultimoAgrupador_" + activeTab).val();
        }
    }
    var ArrayJson = '{"criterios":[';
    var agrupador = "";
    if (strNombreAgrupador === 'detallePantalla' || strNombreAgrupador === '__detalleExcel' || strNombreAgrupador === '__detalleTxt') {
        agrupador = strNombreAgrupador;
    } else {
        var strTabla = "";
        var strCampo = "";
        if (typeof $("#agrupadorCriterios option:selected").attr("tabla") !== "undefined") {
            agrupador = $("#agrupadorCriterios option:selected").attr("tabla") + ".";
        }
        if (typeof strNombreAgrupador !== "undefined") {
            agrupador += strNombreAgrupador;
        }
    }
    var hayDatos = false;
    $('#ulCriterios li').each(function(index) {
        var campo = $(this).attr('campo');
        var operador = $(this).attr('operador');
        var valor = $(this).attr('valor');
        var tipo = $(this).attr('tipo');
        var tabla = $(this).attr('tabla');
        ArrayJson += '{"campo":"' + campo + '","operador":"' + operador + '","valor":"' + valor + '","tabla":"' + tabla + '","tipo":"' + tipo + '"},';
        hayDatos = true;
    });
    var strLen = ArrayJson.length;
    ArrayJson = ArrayJson.slice(0, strLen - 1);
    ArrayJson = ArrayJson + '],';
    ArrayJson = ArrayJson + '"agrupador":"' + agrupador + '","ultimoAgrupador":"' + ultimoAgrupador + '","listaCodigosAgrupador":"' + listaAgrupadores + '","tabla":"' + tabla + '","id":"' + id + '","nombreInforme":"' + nombreInforme + '","nom_programa":"' + nom_programa + '","compartir":"' + compartir + '"}';
    if (hayDatos == true) {
        if (urlEnvio != '') {
            var obj = jQuery.parseJSON(ArrayJson);
            //setTimeout(function() {enviarDatos(obj,urlEnvio,div);}, 500);
            enviarDatos(obj, urlEnvio, div, mensajeError);
        } else {
            var obj = jQuery.parseJSON(ArrayJson);
            return obj;
        }
    } else {
        if (doAlert == undefined) {
            alert(_('por favor diligencie al menos un criterio'));
            mensajeModal('');
            return false;
        } else {
            return undefined;
        }
    }
}

function BuscarCampos(elemento, nom_programa) {
    var nom_programa = typeof nom_programa !== 'undefined' ? nom_programa : '';
    var col = (nom_programa != '') ? '#col_' + nom_programa : '#col';
    var ope = (nom_programa != '') ? '#ope_' + nom_programa : '#ope';
    var campo = $(col).val();
    var tabla = $(col + " option[value='" + campo + "']").attr('tabla');
    var limite = $(col + " option[value='" + campo + "']").attr('limite');
    var programa_asociado = $(col + " option[value='" + campo + "']").attr('programa_asociado');
    var operador = $(ope).val();
    tipo = 'S';
    if (operador == 'BETWEEN' || operador == 'IN')
        tipo = 'M';

    try {
        var nombreCampo = $(col).select2('data').text;
    } catch (ex) {

    }

    // Condición para el modulo de informes para no permitir busqueda de los
    // valores tipo fecha. En la vista se carga el parametro 
    // bPermitirBusquedaTipoFechaInformes en false.
    if (typeof(bPermitirListadoTipoFechaInformes) !== "undefined" &&
        bPermitirListadoTipoFechaInformes === false &&
        nombreCampo.toLowerCase().indexOf("fecha") != -1) {
        return;
    } else {
        buscarCamposSencillo();
    }
}

function enviarDatos(objCampos, urlEnvio, div, mensajeError) {
    mensajeError = mensajeError || (mensajeError = '');
    $.ajax({
        type: "POST",
        url: urlEnvio,
        data: {
            "objCampos": objCampos
        },
        async: true,
        success: function(msg) {
            $('.send').trigger('success', [msg]);
            if (jQuery.trim(div) == '') {
                alert(msg);
            } else
                $('#' + div).html(msg);
        },
        error: function(xhr, textStatus, thrownErro) {
            mensajeModal('');
            if (mensajeError.length === 0) {
                alert("Error: " + xhr.status + " " + xhr.responseText + " " + textStatus);
            } else {
                alert(mensajeError);
            }

        }
    });
}

function mostrarAyudaCampo() {
    var ope = $("#ope").val();
    if (ope == 'IN' || ope == 'LIKE' || ope == 'NOT IN')
        alerta('<b>Ejemplo de uso: </b> valor1::valor2::valor3', 2);
    else if (ope == 'BETWEEN')
        alerta('<b>Ejemplo de uso: </b> valor1::valor2', 2);
    else if (ope == 'IS NULL')
        alerta('<b>Ejemplo de uso:</b> sin valor (vacio)', 2);
    else
        alerta('<b>Ejemplo de uso:</b> valor', 2);
}

$(function() {
    $('#valor').attr('maxLength', '100500').keypress(limitMe);

    function limitMe(e) {
        if (e.keyCode == 8) {
            return true;
        }
        return this.value.length < $(this).attr("maxLength");
    }
});

function cargarCriterioEstadoInicial() {
    var colInicial = $("#col").val();
    var opeInicial = $("#ope").val();

    $("#col option[value='estado']").attr("selected", "selected");
    var strValor = $("#col").val();
    if ((strValor != null && (strValor == 'estado' || strValor.search(/estado/i) >= 0)) && $("#nombreInforme2").val() == '') {
        $("#ope option[value='=']").attr("selected", "selected");
        $("#valor").val('A');
        agregarCriterio();
    }

    $("#col option[value='" + colInicial + "']").attr("selected", "selected");
    $("#ope option[value='" + opeInicial + "']").attr("selected", "selected");
}

function borrarCriterio(id, label, idDiv) {
    if (!preguntaConfirmacion('¿Desea borrar ' + label + '?'))
        return;
    $.ajax({
        type: "POST",
        url: '?rtr=informes&ctr=informesControlador&acc=borrarCriterios',
        data: {
            "id": id,
            "tokencsrf_informes": $("#tokencsrf_informes").val()
        },
        async: true,
        success: function(msg) {
            if (msg == '1') {
                $("#" + idDiv).fadeOut('normal');
                //eliminar las opciones de los selectores
                $("#criteriosGuardados2 option").each(function() {
                    if (this.value === idDiv)
                        $(this).remove();
                });
                var nom_programa = $("#nom_programa").val();
                //recarga los criterios guardados
                cargar_pantalla_load("index.php?rtr=informes&ctr=InformesControlador&acc=reloadToolBar&nom_programa=" + nom_programa, 'toolBarCriterios', true);
            } else
                alerta("Error borrando el registro", 3);
        },
        error: function(msg) {
            alert(msg);
        }
    });
}


function borrarCriterioSeguimiento(id, label, idDiv) {
    if (!preguntaConfirmacion('¿Desea borrar ' + label + '?'))
        return;
    $.ajax({
        type: "POST",
        url: '?rtr=informes&ctr=InformeSeguimiento&acc=borrarCriterios',
        data: {
            "id": id
        },
        async: true,
        success: function(msg) {
            if (msg == '1') {
                $("#" + idDiv).fadeOut('normal');
                //eliminar las opciones de los selectores
                $("#criteriosGuardados2 option").each(function() {
                    if (this.value === idDiv)
                        $(this).remove();
                });
                //recarga los criterios guardados
                cargar_pantalla_load("index.php?rtr=informes&ctr=InformeSeguimiento&acc=reloadToolBar", 'toolBarCriterios', true);
            } else
                alerta("Error borrando el registro", 3);
        },
        error: function(msg) {
            alert(msg);
        }
    });
}
/*al presionar Enter en el valor se agrega el criterio*/
$("#valor").keypress(function(e) {
    if (e.which == 13) {
        e.preventDefault();
        $(this).blur();
        agregarCriterio();
        return false;
    } else return true;
});

/**
 * Valida que la informacion que se va a agregar a un criterio según el operador sea correcta.
 * @param {string} campo
 * @param {string} operador
 * @param {string} valor
 * @param {string} tabla
 * @returns {Boolean}
 */
function criterioSencilloEsCorrecto(campo, operador, valor, tabla) {
    // 1. Se válida si el criterio no posee un valor.
    switch (operador) {
        case 'IS NULL':
            return true;
        case 'IS NOT NULL':
            return true;
        default:
            // El criterio no puede contener un valor vacio.
            if (trim(valor) == '') {
                return false;
            }
            break;
    }
    /*
    if( tabla == '' ){
        return false;
    }*/

    return true;
}

/**
 * Hace una busqueda en la base de datos de la información
 * @param {string} nom_programa Nom programa al que pertenece la busqueda.
 * @returns {void}
 */
function buscarCamposSencillo() {
    var bandera = '';
    var URLactual = '' + window.location + '';

    if (URLactual.indexOf('validaciondata') != -1) {
        bandera = 'si';
    }

    var nom_programa = "";
    var id_nom_programa = "";
    var campo = $("#col").val();
    var tabla = $("#col option[value='" + campo + "']").attr('tabla');
    var limite = $("#col option[value='" + campo + "']").attr('limite');
    var programa_asociado = $("#col option[value='" + campo + "']").attr('programa_asociado');
    var operador = $("#ope").val();
    var valor = $('#valor').val();

    posIzq = $("#valor").position().left;
    posIzq = (posIzq - 202 < 0 ? 0 : posIzq - 202);

    $("#divCriteriosBusquedaOnLine").css({
        "left": posIzq,
        "top": $("#valor").position().top + 25
    });

    $("#divCriteriosBusquedaOnLineStatusBar").html("Buscando coincidencias. Un momento favor...");
    $("#divCriteriosBusquedaOnLineResultados").hide();
    $("#divCriteriosBusquedaOnLineStatusBar").show();
    $("#divCriteriosBusquedaOnLine").show();

    if (operador == 'BETWEEN' || operador == 'IN' || operador == 'NOT IN' || operador == 'LIKE') {
        var result = valor.lastIndexOf("::");

        if (result != -1) {
            valor = valor.substring(result + 2);
        }
    }

    // Si ya existe una busqueda previa consulta para este resultado se usa el objeto
    var iPaginaRealDeConsultaDB = 0;
    var objBusqueda = null;
    var iTotalPaginas = 0;

    if (typeof(arrayResultadosBusqueda) != 'undefined') {
        for (var i = 0; i < arrayResultadosBusqueda.length; i++) {
            if (arrayResultadosBusqueda[i]['nom_programa'] == nom_programa &&
                arrayResultadosBusqueda[i]['id_nom_programa'] == id_nom_programa) {
                iPaginaRealDeConsultaDB = Math.floor((arrayResultadosBusqueda[i].iPaginaActual + 1) / 2);
                objBusqueda = arrayResultadosBusqueda[i];
                iTotalPaginas = objBusqueda.iTotalPaginas;
                break;
            }
        }
    }

    if (objBusqueda != null && objBusqueda.sBusquedaOriginal == valor &&
        objBusqueda.iPaginaActual < Math.floor(objBusqueda.iTotalRegistros / (objBusqueda.iColumnasPorPagina * objBusqueda.iMaxFilasPorColumna)) - 1) {
        construirResultadosDeBusqueda(nom_programa, id_nom_programa, 'next');
        $("#divCriteriosBusquedaOnLineStatusBar").hide();
        $("#divCriteriosBusquedaOnLineResultados").show();
        return;
    } else if (objBusqueda != null && objBusqueda.sBusquedaOriginal != valor) {
        iPaginaRealDeConsultaDB = 0;
        iTotalPaginas = 0;
    } else if (objBusqueda != null && objBusqueda.bBusquedaFinalizada == true) {
        construirResultadosDeBusqueda(nom_programa, id_nom_programa, 'first');
        $("#divCriteriosBusquedaOnLineStatusBar").hide();
        $("#divCriteriosBusquedaOnLineResultados").show();
        return;
    }

    $.ajax({
        type: "POST",
        url: "index.php?rtr=informes" + "&ctr=CriteriosMultipleCtr" + "&acc=getRegitrosProgramaAsociado",
        async: true,
        data: {
            "programa": programa_asociado,
            "nom_programa": $("#nom_programa").val(),
            "tabla": tabla,
            "campo": campo,
            "value": valor,
            "pagina": iPaginaRealDeConsultaDB,
            "totalpaginas": iTotalPaginas,
            "banderaconex": bandera
        },
        success: function(msg) {
            mensajeModal('');
            if (msg == '') {
                $("#divCriteriosBusquedaOnLineResultados").html('<span onclick="$(\'#divCriteriosBusquedaOnLine\').hide();">Resultado inesperado. Intentelo de nuevo por favor...</span>');
                $("#divCriteriosBusquedaOnLineStatusBar").hide();
                $("#divCriteriosBusquedaOnLineResultados").show();
                return;
            }

            var resultJson = JSON.parse(msg);

            if (resultJson.resultados.length > 0) {
                var objBusqueda = null;

                // Si ya existe una busqueda previa consulta para este resultado se usa el objeto
                for (var i = 0; i < arrayResultadosBusqueda.length; i++) {
                    if (arrayResultadosBusqueda[i]['nom_programa'] == nom_programa &&
                        arrayResultadosBusqueda[i]['id_nom_programa'] == id_nom_programa) {
                        objBusqueda = arrayResultadosBusqueda[i];
                        break;
                    }
                }

                if (objBusqueda == null || objBusqueda.sBusquedaOriginal != valor) {
                    arrayResultadosBusqueda = new array({
                        "sBusquedaOriginal": valor,
                        "sBusquedaActual": valor,
                        "arrayResultados": resultJson.resultados,
                        "nom_programa": nom_programa,
                        "id_nom_programa": id_nom_programa,
                        "iPaginaActual": 0,
                        "iColumnasPorPagina": 3,
                        "iMaxFilasPorColumna": 20,
                        "iTotalRegistros": resultJson.resultados.length,
                        "iTotalPaginas": resultJson.totalpaginas,
                        "bBusquedaFinalizada": (resultJson.resultados.length > 0 && resultJson.resultados.length % 120 === 0 ? false : true),
                        "sCalcularTotalEnBusqueda": resultJson.calculartotalenbusqueda
                    });
                    construirResultadosDeBusqueda(nom_programa, id_nom_programa, 'first');
                } else {
                    iTotalRegistros = resultJson.resultados.length;
                    for (var i = 0; i < iTotalRegistros; i++) {
                        objBusqueda.arrayResultados.push(resultJson.resultados[i]);
                    }

                    objBusqueda.iTotalRegistros = objBusqueda.arrayResultados.length;
                    objBusqueda.bBusquedaFinalizada = (resultJson.resultados.length > 0 && resultJson.resultados.length % 120 === 0 ? false : true);
                    construirResultadosDeBusqueda(nom_programa, id_nom_programa, 'next');
                }
            } else {
                if (objBusqueda != null && objBusqueda.arrayResultados.length > 0) {
                    objBusqueda.bBusquedaFinalizada = true;
                    construirResultadosDeBusqueda(nom_programa, id_nom_programa, 'last');
                } else {
                    $("#divCriteriosBusquedaOnLineResultados").html("No existen coincidencias para " + valor + "...");
                }
            }

            $("#divCriteriosBusquedaOnLineStatusBar").hide();
            $("#divCriteriosBusquedaOnLineResultados").show();

            $("#idPagBusquedaCriteriosSup").html(resultJson.textopaginacion);
            $("#idPagBusquedaCriteriosInf").html(resultJson.textopaginacion);
        },
        beforeSend: function() {
            mensajeModal('Cargando Registros...');
        },
        error: function() {
            mensajeModal('');
            notificacion('', '¡Ha ocurrido un error inesperado al realizar la busqueda del criterio o tiempo límite agotado!', 'error', 2, 'top', 10000);
        }
    });
}

function construirResultadosDeBusqueda(nom_programa, id_nom_programa, posicionamientoInicial) {
    var sHtml = '';
    var objBusqueda = null;

    for (var i = 0; i < arrayResultadosBusqueda.length; i++) {
        if (arrayResultadosBusqueda[i]['nom_programa'] == nom_programa &&
            arrayResultadosBusqueda[i]['id_nom_programa'] == id_nom_programa) {
            objBusqueda = arrayResultadosBusqueda[i];
            break;
        }
    }

    if (objBusqueda == null) {
        $("#divCriteriosBusquedaOnLineResultados").html("<b>No existen coincidencias...</b>");
        return;
    }

    var iMaxFilasPorColumna = 20;
    var iCantidadArrayBusqueda = objBusqueda.arrayResultados.length;

    if (posicionamientoInicial == 'next') {
        if (!objBusqueda.bBusquedaFinalizada && objBusqueda.iPaginaActual == Math.floor(objBusqueda.iTotalRegistros / (objBusqueda.iColumnasPorPagina * objBusqueda.iMaxFilasPorColumna)) - 1) {
            buscarCamposSencillo();
            return;
        }

        objBusqueda.iPaginaActual++;
    } else if (posicionamientoInicial == 'prev') {
        objBusqueda.iPaginaActual--;
    }

    if (objBusqueda.iPaginaActual < 0) {
        objBusqueda.iPaginaActual = 0;
        return;
    } else if (objBusqueda.iPaginaActual >= Math.ceil(objBusqueda.iTotalRegistros / (objBusqueda.iColumnasPorPagina * objBusqueda.iMaxFilasPorColumna)) &&
        objBusqueda.iPaginaActual > 0) {
        objBusqueda.iPaginaActual = Math.floor(objBusqueda.iTotalRegistros / (objBusqueda.iColumnasPorPagina * objBusqueda.iMaxFilasPorColumna)) - 1;
        return;
    }

    if (posicionamientoInicial == 'last') {
        if (!objBusqueda.bBusquedaFinalizada && objBusqueda.iPaginaActual == Math.floor(objBusqueda.iTotalRegistros / (objBusqueda.iColumnasPorPagina * objBusqueda.iMaxFilasPorColumna)) - 1) {
            buscarCamposSencillo();
            return;
        }

        if (!objBusqueda.bBusquedaFinalizada) {
            objBusqueda.iPaginaActual = Math.floor(objBusqueda.iTotalRegistros / (objBusqueda.iColumnasPorPagina * objBusqueda.iMaxFilasPorColumna)) - 1;
        } else {
            objBusqueda.iPaginaActual = Math.floor(objBusqueda.iTotalRegistros / (objBusqueda.iColumnasPorPagina * objBusqueda.iMaxFilasPorColumna));
        }
    } else if (posicionamientoInicial == 'first') {
        objBusqueda.iPaginaActual = 0;
    }

    var sTotalPaginas = '';
    if (objBusqueda.sCalcularTotalEnBusqueda == 'S') {
        sTotalPaginas = ' de ' + objBusqueda.iTotalPaginas;
    }

    $("#idPagBusquedaCriteriosSup").html('PÁGINA ' + (objBusqueda.iPaginaActual + 1) + sTotalPaginas);
    $("#idPagBusquedaCriteriosInf").html('PÁGINA ' + (objBusqueda.iPaginaActual + 1) + sTotalPaginas);

    var indice = 0;
    for (i = 0; i < objBusqueda.iColumnasPorPagina; i++) {
        sHtml += '<div id="busquedaColumna_' + i + '" class="columnaResultado">';

        for (j = 0; j < objBusqueda.iMaxFilasPorColumna; j++) {
            indice = (objBusqueda.iPaginaActual * objBusqueda.iColumnasPorPagina * objBusqueda.iMaxFilasPorColumna) + (i * objBusqueda.iMaxFilasPorColumna + j);
            if (indice >= objBusqueda.iTotalRegistros) {
                sHtml += '</div>';
                $("#divCriteriosBusquedaOnLineResultados").html(sHtml);
                return;
            }

            objLinea = objBusqueda.arrayResultados[indice];

            if (objLinea.texto != null && objLinea.valor != null && (i * iMaxFilasPorColumna + j) < iCantidadArrayBusqueda) {
                sHtml += '<div id="busquedaFila_' + j + '"' +
                    ' class="opcionResultado"' +
                    ' onclick="cerrarYSetearSencillo(\'' + nom_programa + '\',\'' + id_nom_programa + '\',\'' + objLinea.valor + '\');">' +
                    (existeProgramaAsociadoSencillo() ? '<div class="critMulpBusqValor">' + objLinea.valor + '</div> ' : "") +
                    objLinea.texto.replace(new RegExp('(' + objBusqueda.sBusquedaActual + ')', 'gi'), '<span class="critMulpBusqTexto">' + objBusqueda.sBusquedaActual + '</span>') +
                    '</div>';
            }
        }
        sHtml += '</div>';
    }

    $("#divCriteriosBusquedaOnLineResultados").html(sHtml);
}

function existeProgramaAsociadoSencillo() {
    var col = '#col';
    var campo = $(col).val();
    var programa_asociado = $(col + " option[value='" + campo + "']").attr('programa_asociado');

    if (typeof(programa_asociado) == 'undefined' || programa_asociado == '') {
        return false;
    } else {
        return true;
    }
}

function cerrarYSetearSencillo(nom_programa, id_nom_programa, valorNuevo) {
    var operador = $("#ope").val();
    var valor = $("#valor").val();

    $("#divCriteriosBusquedaOnLine").hide();

    if (operador == 'BETWEEN' || operador == 'IN' || operador == 'NOT IN' || operador == 'LIKE') {
        var result = valor.lastIndexOf("::");

        if (result != -1) {
            valor = valor.substring(0, result) + "::" + valorNuevo;
        } else {
            valor = valorNuevo;
        }
    } else {
        valor = valorNuevo;
    }

    $("#valor").val(valor);
    $("#valor").focus();
    $("#valor").scrollTop(valor.length);
}

function firstCriteriosMult2(nom_programa, id_nom_programa) {
    construirResultadosDeBusqueda("", id_nom_programa, 'first');
}

function lastCriteriosMult2(nom_programa, id_nom_programa) {
    construirResultadosDeBusqueda("", id_nom_programa, 'last');
}

function prevCriteriosMult2(nom_programa, id_nom_programa) {
    construirResultadosDeBusqueda("", id_nom_programa, 'prev');
}

function nextCriteriosMult2(nom_programa, id_nom_programa) {
    construirResultadosDeBusqueda("", id_nom_programa, 'next');
}

function limpiarArrayDeResultadosDeBusqueda() {
    arrayResultadosBusqueda = new array();
}

function guardarCriteriosSencillo(programa) {
    var nombreInforme = $("#box-criteriosSencillo #nombreInforme").val();

    if ($("#nombreInforme").length > 0) {
        $("#nombreInforme").val(nombreInforme);
    }

    var objCriterios = crearJson('');
    cerrarVentanaModal('box-criteriosSencillo');

    if (objCriterios === false || typeof(objCriterios) === 'undefined') {
        return;
    }
    $.ajax({
        type: "POST",
        async: true,
        url: 'index.php?rtr=informes&ctr=InformesControlador&acc=guardarCriteriosSencillo',
        data: {
            "tokencsrf_criterios_sencillo": $("#tokencsrf_criterios_sencillo").val(),
            "objCampos": objCriterios
        },
        success: function(msg) {
            $.unblockUI();

            var respuesta = JSON.parse(msg);

            if (respuesta.result) {
                notificacion('', respuesta.msg, 'success', 2, 'top', 10000);
                consultarCriteriosSencillo(programa);
            } else {
                notificacion('', respuesta.msg, 'error', 2, 'top', 15000);
            }
        },
        beforeSend: function() {
            $.blockUI({
                message: "Guardando criterio..."
            });
        },
        error: function() {
            $.unblockUI();
            notificacion('', '¡Ha ocurrido un error inesperado al guardar el criterio o tiempo límite agotado!', 'error', 2, 'top', 10000);
        }
    });
}

function borrarCriterioSencilloGuardado(id, label, programa) {
    confirmacionNoty('¿Está seguro que desea borrar el criterio "' + label + '"?', 'warning', 'center', true).then(function(answer) {
        if (answer === 'yes') {
            cerrarVentanaModal('criteriosSencilloGuardadosDiv');

            $.ajax({
                type: "POST",
                url: '?rtr=informes&ctr=InformesControlador&acc=borrarCriterioSencilloGuardado',
                async: true,
                data: {
                    "id": id,
                    "programa": programa,
                    "tokencsrf_criterios_sencillo": $("#tokencsrf_criterios_sencillo").val()
                },
                success: function(msg) {
                    $.unblockUI();
                    var respuesta = JSON.parse(msg);

                    if (respuesta.result) {
                        notificacion('', respuesta.msg, 'success', 2, 'top', 10000);
                        consultarCriteriosSencillo(programa);
                    } else {
                        notificacion('', respuesta.msg, 'error', 2, 'top', 15000);
                    }
                },
                beforeSend: function() {
                    $.blockUI({
                        message: "Eliminando criterio..."
                    });
                },
                error: function() {
                    $.unblockUI();
                    notificacion('', '¡Ha ocurrido un error inesperado al eliminar el criterio o tiempo límite agotado!', 'error', 2, 'top', 10000);
                }
            });
        }
    });
}

function consultarCriteriosSencillo(programa) {
    $.ajax({
        type: "POST",
        async: true,
        url: 'index.php?rtr=informes&ctr=InformesControlador&acc=consultarCriteriosSencilloGuardados',
        data: {
            "programa": programa
        },
        success: function(msg) {
            var objJson = JSON.parse(msg);

            $("#criteriosSencilloGuardadosDiv").remove();
            $("#criteriosSencilloGuardadosDiv").remove();
            $.unblockUI();

            $("#selectCriteriosSencilloGuardados").html(objJson.select2);
            $("#contenedorCriteriosSencilloGuardadosDiv").html(
                '<div id="criteriosSencilloGuardadosDiv" class="criteriosSencilloGuardadosDiv" style="background:#ddd">' +
                '<ul id="ulCriteriosSencilloGuardadosDiv">' +
                objJson.ulCriterios +
                '</ul>' +
                '</div>');
            arrayCriteriosSencilloGuardados = new Array();

            var iCantidad = objJson.arrayCriterios.length;
            for (i = 0; i < iCantidad; i++) {
                criterioEnBd = objJson.arrayCriterios[i];

                arrayCriteriosSencilloGuardados.push(
                    new CriterioDto(
                        criterioEnBd[0],
                        criterioEnBd[1],
                        criterioEnBd[2],
                        criterioEnBd[3],
                        criterioEnBd[4],
                        criterioEnBd[5],
                        criterioEnBd[6],
                        criterioEnBd[7],
                        criterioEnBd[8]));
            }
        },
        beforeSend: function() {
            $.blockUI({
                message: "Consultando criterios guardados..."
            });
        },
        error: function() {
            $.unblockUI();
            notificacion('', '¡Ha ocurrido un error inesperado en consulta de criterio guardados o tiempo límite agotado!', 'error', 2, 'top', 10000);
        }
    });
}

function agregarCriterioSencilloGuardado() {
    var hayDatos = false;
    $('#ulCriterios li').each(function() {
        hayDatos = true;
    });

    var strCriterioSeleccionado = jQuery("#selectCriteriosSencilloGuardados").val();
    if (strCriterioSeleccionado == '0') {
        return;
    }

    if (!hayDatos || sReemplazarOAgregarCriterioSencillo == 'reemplazar') {
        $('#ulCriterios li').fadeOut(200).remove();
    } else if (sReemplazarOAgregarCriterioSencillo == 'preguntar') {
        confirmacionNoty('¿Desea agregar o reemplazar los criterios actuales?', 'warning', 'center', true, 'Agregar', 'Reemplazar').then(function(answer) {
            if (answer === 'no') {
                $('#ulCriterios li').fadeOut(200).remove();
            }

            agregarCriterioSencilloGuardadoEnVista();
        });
        return;
    }

    agregarCriterioSencilloGuardadoEnVista();
}

function agregarCriterioSencilloGuardadoEnVista() {
    var strCriterioSeleccionado = jQuery("#selectCriteriosSencilloGuardados").val();
    var key;

    if (strCriterioSeleccionado.length > 0) {
        for (key in arrayCriteriosSencilloGuardados) {
            objDatosCriterio = arrayCriteriosSencilloGuardados[key];

            if (objDatosCriterio.intCodigo === strCriterioSeleccionado) {
                var op_jqGrid = jQuery("#ope option[value='" + objDatosCriterio.strOperador + "']").attr('data-jqgrid');
                var strOperador = jQuery("#ope option[value='" + objDatosCriterio.strOperador + "']").text();
                var strTitulo = objDatosCriterio.strLabel + ' ' + strOperador + ' ' + objDatosCriterio.strValor;

                if (verificarExisteCriterio(objDatosCriterio.strCampo, objDatosCriterio.strOperador, objDatosCriterio.strValor, objDatosCriterio.strTipo, objDatosCriterio.strTabla)) {
                    alerta('El criterio : <strong>"' + strTitulo + '"</strong> ya se encuentra configurado', 3);
                } else {
                    var item = $('<li class="toolbar" campo="' + objDatosCriterio.strCampo + '" operador="' + objDatosCriterio.strOperador + '" data-jqGrid="' + op_jqGrid + '"  valor="' + objDatosCriterio.strValor + '" tipo="' + objDatosCriterio.strTipo + '" tabla="' + objDatosCriterio.strTabla + '" title="' + strTitulo + '" style="" ><table style="width:100%"><tr><td width="100%">' + objDatosCriterio.strLabel + ' <span>' + strOperador + ' ' + objDatosCriterio.strValor + '</span></td><td><button class="eliminar" title="Remover" onclick="removerCriterio(this);"></button></td></tr></table></li>').hide().fadeIn(1000);
                    $("#ulCriterios").append(item);
                    item.trigger("criterioAgregado", item);
                }
            }
        }
    }
}

function vistaBorrarCriterioSencillo() {
    AbrirVentanaModal('', 300, 400, false, _('lista criterios guardados'), 'criteriosSencilloGuardadosDiv', true);
}

function vistaGuardarCriterioSencillo(programa) {
    while ($("#box-criteriosSencillo").length > 0) {
        $("#box-criteriosSencillo").remove();
    }

    $("#contenedorbox-criteriosSencillo").html('<div id="box-criteriosSencillo" style="display:none">' +
        '<div>' +
        '<div style="float:left;margin-top:5px;margin-right:27px">NOMBRE CRITERIO</div>' +
        '<div style="float:left;width:60%">' +
        '<input style="width:95%" type="text" maxlength="30" id="nombreInforme" value="">' +
        '</div>' +
        '<div style="clear:both"></div>' +
        '</div>' +
        '<br>' +
        '<div>' +
        '<div style="float:left;margin-top:5px;margin-right:20px">COMPARTIR CRITERIO</div>' +
        '<div style="float:left;width:60%">' +
        '<select style="width:100%" id="compartir">' +
        '<option value="S">S</option>' +
        '<option value="N">N</option>' +
        '</select>' +
        '</div>' +
        '<div style="clear:both"></div>' +
        '</div>' +
        '<div style="margin-top:20px; text-align:left;">' +
        '<a href="#" class="botonGuardar" onclick="guardarCriteriosSencillo(\'' + programa + '\');">Guardar Criterio</a>' +
        '</div>' +
        '</div>');
    AbrirVentanaModal('', 180, 400, false, _('informacion de criterio'), 'box-criteriosSencillo', true);

    $('#compartir').select2();
}</script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/criterioDto.js'); </script><script type="text/javascript">/**
 * Objeto de tipo Criterio Dto
 * 
 * @param intCodigo
 * @param strLabel
 * @param strTabla
 * @param strCampo
 * @param strValor
 * @param strOperador
 * @param strUsuario
 * @param strEsGlobal
 * @returns
 */
function CriterioDto(intCodigo,strLabel,strTabla,strCampo,strValor,strOperador,strUsuario, strEsGlobal, strTipo){
		this.intCodigo = intCodigo;
	    this.strCampo = strCampo;
	    this.strLabel = strLabel;
	    this.strTabla = strTabla;
	    this.strOperador = strOperador;
	    this.strUsuario = strUsuario;
	    this.strValor = strValor;
	    this.strEsGlobal = strEsGlobal;
	    this.strTipo = strTipo;
    }</script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/informes.js?5f19e3bd36801'); </script><script type="text/javascript">//Tab activa
var activeTab = 0;
//numero de tabs
var intNumeroTabs = 1;
//contador de tabs
var intContadorTabs = 1;
//lista de criterios guardados

if (criteriosGuardados == undefined) {
    var criteriosGuardados = new Array();
}

//contiene el objeto que administra los tabs
var _tabs;
//template para los tabs
var tabTemplate = "<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close' role='presentation'>Remove Tab</span></li>";
// Id del tab seleccionado
var currentActiveTabId;
// Variable para definir si existe doble agrupador
var dobleAgrupador = false;

//eventos que se cargan con el DOM
$(document).ready(function() {
    convertirSelect2();
    // Desabilita selects
    deshabilitaOpcion();
    // Tab Activo
    tabActivo();
    /**
     * Evento que se lanza cuando se presiona en el boton
     * generar informe
     */
    var nom_programa = $("#nom_programa").val();

    $('.send').on('success', function(e) {
        cerrarVentanaModal('box-criterios');
        //recarga los criterios guardados
        if (nom_programa !== "informeseguimiento") {
            cargar_pantalla_load("index.php?rtr=informes&ctr=InformesControlador&acc=reloadToolBar&nom_programa=" + nom_programa, 'toolBarCriterios', true);
        }
    });
    // Incidencia #18278
    $(".generarInforme").live('click', function(e) {
        e.preventDefault();
        tabActual = 0;
        //se agrega la clase disabled al boton
        jQuery("#clean_tab").addClass('disabled');

        if ($.isFunction(window.crearJson)) {

            activeTab++;
            var idTabContent = "tabs-" + activeTab;
            var agrupadoresSeleccionados =
                $("#" + idTabContent + " input:checkbox:checked").map(function() {
                    return $(this).val();
                }).get();
            //guarda la lista de agrupadores seleccionados en los checkbox

            jQuery("#listaCodigosAgrupador_" + activeTab).val(agrupadoresSeleccionados.toString());
            intNumeroTabs++;
            intContadorTabs++;
            var objParametros = crearObjetoParametros();
            //si hay un error en los parametros
            if (objParametros == '0') {
                $(this).removeClass('disabled');
                jQuery("#clean_tab").removeClass('disabled');
                return;
            }
            //crea el nombre del tab
            // Valida Si no existe seleccion  en ningun agrupador
            if ($("#agrupador").val() == "" && $("#agrupador2").val() == "") {
                var mensaje = _('debe seleccionar al menos un agrupador');
                alert(mensaje);
                $(this).removeClass('disabled');
                $("#clean_tab").removeClass('disabled');
                return false;
            }
            if ($("#agrupador2").length > 0) {
                var valorSelect2 = $("select[id=agrupador2] option:selected").text();
                valorSelect2 = valorSelect2.trim();
            } else {
                valorSelect2 = "Selecione Agrupador";
            }

            if (nom_programa == "inconsistencias_traslados") {

                strNombreAgrupador = "Traslados";
            } else {

                if ($("#agrupador").length > 0 && $("#agrupador")[0].disabled == false && valorSelect2 == "Selecione Agrupador") {
                    strNombreAgrupador = jQuery("select[id=agrupador] option:selected").text();
                } else {
                    if ($("#agrupador").length > 0 && ($("#agrupador")[0].disabled == false || $("#agrupador")[0].disabled == true) && $("#agrupador2")[0].disabled == false) {
                        var temp = jQuery("select[id=agrupador] option:selected").text();
                        if (temp == "Selecione Agrupador" || ($("#agrupador")[0].disabled == true && $("#agrupador2").val() == "detallePantalla"))
                            temp = '';
                        else
                            temp = jQuery("select[id=agrupador] option:selected").text() + '-';
                        strNombreAgrupador = temp + jQuery("select[id=agrupador2] option:selected").text();
                    } else {
                        strNombreAgrupador = jQuery("select[id=agrupador2] option:selected").text();
                    }
                }
            }
            var strTabName = "Informe ";

            if (strNombreAgrupador !== "") {
                strTabName += " (" + strNombreAgrupador + ")";
            }

            var strTabNumber = "#tabs-" + intNumeroTabs;
            boolTabNameExists = false;

            $('#tabs ul li a').each(function(i) {
                if (this.href.indexOf(strTabNumber) >= 0) {
                    boolTabNameExists = true;
                }
            });

            var idTab = "tabs-" + intContadorTabs;
            _tabs.tabs("add", "#" + idTab, strTabName);

            if (urlInforme.length > 0) {
                generarInforme(idTab, objParametros, urlInforme, $(this));
            } else {
                alert("Se debe configurar la Url del reporte", 3);
            }
            _tabs.tabs('select', $('#tabs ul:first li').size() - 1);
            $(".elementos-agrupadores:eq(2)").css('visibility', 'hidden');
        }
    });

    /* Informe  Comite Riesgo */
    $(".generarInformeCobro").live('click', function(e) {
        e.preventDefault();
        tabActual = 0;
        $(this).addClass('disabled');
        jQuery("#clean_tab").addClass('disabled');
        if ($.isFunction(window.crearJson)) {

            activeTab++;

            var idTabContent = "tabs-" + activeTab;

            var agrupadoresSeleccionados =
                $("#" + idTabContent + " input:checkbox:checked").map(function() {
                    return $(this).val();
                }).get();
            //guarda la lista de agrupadores seleccionados en los checkbox

            jQuery("#listaCodigosAgrupador_" + activeTab).val(agrupadoresSeleccionados.toString());
            intNumeroTabs++;
            intContadorTabs++;
            var objParametros = crearObjetoParametrosCobro();
            //si hay un error en los parametros

            if (objParametros == '0') {
                $(this).removeClass('disabled');
                jQuery("#clean_tab").removeClass('disabled');
                return;
            }
            //crea el nombre del tab

            // Valida Si no existe seleccion  en ningun agrupador
            var nombreInforme = $("#nom_informe option:selected").text();
            var anoInforme = $("#informe_ano option:selected").text();
            var mesInforme = $("#informe_mes option:selected").text();
            if (nombreInforme == "" || anoInforme == "" || mesInforme == "") {
                var mensaje = _('debe seleccionar los parametros del informe');
                alert(mensaje);
                $(this).removeClass('disabled');
                $("#clean_tab").removeClass('disabled');
                return false;
            }

            var strTabName = "Informe ";

            if (nombreInforme !== "") {
                strTabName += " (" + nombreInforme + "-" + anoInforme + "-" + mesInforme + ")";
            }

            var strTabNumber = "#tabs-" + intNumeroTabs;
            boolTabNameExists = false;

            $('#tabs ul li a').each(function(i) {
                if (this.href.indexOf(strTabNumber) >= 0) {
                    boolTabNameExists = true;
                }
            });

            var idTab = "tabs-" + intContadorTabs;
            _tabs.tabs("add", "#" + idTab, strTabName);

            if (urlInforme.length > 0) {
                generarInforme(idTab, objParametros, urlInforme, $(this), 1);
            } else {
                alert("Se debe configurar la Url del reporte", 3);
            }
            _tabs.tabs('select', $('#tabs ul:first li').size() - 1);
            $(".elementos-agrupadores:eq(2)").css('visibility', 'hidden');
        }

    });

    /*Informe inconsistencias Traslados*/
    $(".generarInformeInconsistenciasTraslados").live('click', function(e) {
        e.preventDefault();
        tabActual = 0;
        //se agrega la clase disabled al boton
        $(this).addClass('disabled');
        jQuery("#clean_tab").addClass('disabled');

        if ($.isFunction(window.crearJson)) {

            activeTab++;
            var idTabContent = "tabs-" + activeTab;
            var agrupadoresSeleccionados =
                $("#" + idTabContent + " input:checkbox:checked").map(function() {
                    return $(this).val();
                }).get();
            //guarda la lista de agrupadores seleccionados en los checkbox

            jQuery("#listaCodigosAgrupador_" + activeTab).val(agrupadoresSeleccionados.toString());
            intNumeroTabs++;
            intContadorTabs++;
            var objParametros = crearObjetoParametros();
            //si hay un error en los parametros

            if (objParametros == '0') {
                $(this).removeClass('disabled');
                jQuery("#clean_tab").removeClass('disabled');
                return;
            }
            //crea el nombre del tab
            // Valida Si no existe seleccion  en ningun agrupador
            if ($("#agrupador").val() == "" && $("#agrupador2").val() == "") {
                var mensaje = _('Debe seleccionar al menos un agrupador');
                alert(mensaje);
                $(this).removeClass('disabled');
                $("#clean_tab").removeClass('disabled');
                return false;
            }

            if ($("#agrupador2").length > 0) {
                var valorSelect2 = $("select[id=agrupador2] option:selected").text();
                valorSelect2 = valorSelect2.trim();
            } else {
                valorSelect2 = "Selecione Agrupador";
            }

            strNombreAgrupador = "Traslados";

            var strTabName = "Informe ";

            if (strNombreAgrupador !== "") {
                strTabName += " (" + strNombreAgrupador + ")";
            }

            var strTabNumber = "#tabs-" + intNumeroTabs;
            boolTabNameExists = false;

            $('#tabs ul li a').each(function(i) {
                if (this.href.indexOf(strTabNumber) >= 0) {
                    boolTabNameExists = true;
                }
            });

            var idTab = "tabs-" + intContadorTabs;
            _tabs.tabs("add", "#" + idTab, strTabName);

            if (urlInforme.length > 0) {
                generarInforme(idTab, objParametros, urlInforme, $(this));
            } else {
                alert("Se debe configurar la Url del reporte", 3);
            }
            _tabs.tabs('select', $('#tabs ul:first li').size() - 1);
            $(".elementos-agrupadores:eq(2)").css('visibility', 'hidden');
        }
    });

    $("#nom_informe").live('change', function(e) {
        var valor = $(this).val();
        if (valor == "fna_inf_comrie_carcos") {
            $("#informe_ano").hide();
            $("#informe_mes").hide();
            $("#s2id_informe_ano").hide();
            $("#s2id_informe_mes").hide();
        } else {
            $("#informe_ano").show();
            $("#informe_mes").show();
            $("#s2id_informe_ano").show();
            $("#s2id_informe_mes").show();
        }

    });
    $("#exportarl_XLS").live('click', function(e) {
        centrarDivInmovil('printerXLS_consolidado');
        $('#printerXLS_consolidado').show();
        $('#printer_consolidado').hide();
    });
    $("#exportar_PDF").live('click', function(e) {
        centrarDivInmovil('printer_consolidado');
        $('#printer_consolidado').show();
        $('#printerXLS_consolidado').hide();
    });
    /* Informe  Comite Riesgo */

    /**
     * Evento que borra los tabs
     */
    $("#clean_tab")
        .click(function() {
            borrartabs();
        });

    /**
     * Evento que permite editar los criterios guardados
     * activa la ventana modal
     */
    $(".editarCriteriosGuardados").live('click', function() {
        //$("#criteriosGuardadosDiv").slideToggle('normal');
        AbrirVentanaModal('', 300, 400, false, 'Lista criterios guardados', 'criteriosGuardadosDiv', true);
    });

    /**
     * Evento que permite guardar criterios, activa la ventana modal
     * que contiene el formulario
     */
    $(".abrirGuardarCriterios").live('click', function() {
        jQuery("#nombreInforme").val('');
        AbrirVentanaModal('', 180, 400, false, 'Información de criterio', 'box-criterios', true);

    });

    /**
     * Inicializa los tabs
     */
    _tabs = $("#tabs").tabs({
        disabled: [1]
    });

    //agrega evento cuando se selecciona un tab
    //y se agrega un template para cuando se crean nuevos tabs

    _tabs.tabs({
        select: function(event, ui) {
            activeTab = ui.index;
            currentActiveTabId = jQuery(ui.panel).attr('id');
        },
        show: function(event, ui) {
            tabActual = ui.index;
        },
        tabTemplate: tabTemplate
    });

    // se agrega un boton para cerrar el tab
    _tabs.delegate("span.ui-icon-close", "click", function() {

        var panelId = $(this).closest("li").remove().children('a').attr('href');
        $(panelId).remove();
        //verifica si estaba activo el detalle en pantalla
        if (jQuery('#toolBarCriterios > a[id^="botonGenerarInformeDetalle_"]').length >= 0) {
            jQuery('#toolBarCriterios > a[id^="botonGenerarInformeDetalle_"]').remove();
            jQuery("#add_tab").show();
        }
        //activa el panel anterior
        --intNumeroTabs;
        if (intNumeroTabs === 0) {
            intNumeroTabs++;
        }
        if (intNumeroTabs == 1) {



            $("ul.ui-tabs-nav li a:eq(0)").click();
            $("#agrupador").attr('disabled', false)
        }
        _tabs.tabs('select', intNumeroTabs - 1);
        //_tabs.tabs( "refresh" );
    });

});


/**
 * FunciÃ³n que borrra los tabs que actualmente existen en la pantalla
 *
 * @returns
 */
function borrartabs() {
    var num_tabsn = $("#tabs ul li.ui-state-default").length;
    if (!preguntaConfirmacion('¿Desea Limpiar la lista de ' + (num_tabsn - 1) + ' Informes Generados?'))
        return;
    _tabs.tabs("option", "disabled", false);
    for (i = intNumeroTabs - 1; i > 0; i--) {
        _tabs.tabs("remove", i);
        intNumeroTabs--;
    }
    _tabs.tabs('select', 0);
    $("#add_tab").show();
    activarSelect();
}

/**
 * FunciÃ³n que agrega un criterio guardado a la
 * lista de criterios seleccionados
 *
 * @returns
 */
function agregarCriterioGuardado() {
    _tabs.tabs('select', 0);
    var op_jqGrid = $('#ope option:selected').attr('data-jqgrid');
    strCriterioSeleccionado = jQuery("#criteriosGuardados2").val();
    var key;

    if (strCriterioSeleccionado.length > 0) {
        for (key in criteriosGuardados) {

            objDatosCriterio = criteriosGuardados[key];
            if (objDatosCriterio.intCodigo === strCriterioSeleccionado) {
                var strOperador = jQuery("#ope option[value='" + objDatosCriterio.strOperador + "']").text();
                var strTitulo = objDatosCriterio.strLabel + ' ' + strOperador + ' ' + objDatosCriterio.strValor;
                if (verificarExisteCriterio(objDatosCriterio.strCampo, objDatosCriterio.strOperador, objDatosCriterio.strValor, objDatosCriterio.strTipo, objDatosCriterio.strTabla)) {
                    alerta('El criterio : <strong>"' + strTitulo + '"</strong> ya se encuentra configurado', 3);
                } else {
                    var item = $('<li class="toolbar" campo="' + objDatosCriterio.strCampo + '" operador="' + objDatosCriterio.strOperador + '" data-jqGrid="' + op_jqGrid + '"  valor="' + objDatosCriterio.strValor + '" tipo="' + objDatosCriterio.strTipo + '" tabla="' + objDatosCriterio.strTabla + '" title="' + strTitulo + '" style="" ><table style="width:100%"><tr><td width="100%">' + objDatosCriterio.strLabel + ' <span>' + strOperador + ' ' + objDatosCriterio.strValor + '</span></td><td><button class="eliminar" title="Remover" onclick="removerCriterio(this);"></button></td></tr></table></li>').hide().fadeIn(1000);
                    $("#ulCriterios").append(item);
                    item.trigger("criterioAgregado", item);
                }
            }
        }


    }
}
/**
 * FunciÃ³n que valida los operadores seleccionados
 * y si cumple con condiciones especiales
 * realiza algunas acciones
 *
 * @param obj
 * @returns
 */
function validarSeleccionOperadorConCalendario(obj) {
    $("#inputCalendario").datepicker("hide");
    var operador = $(obj).val();
    var campo = $('#col').val();
    $("#valor").removeAttr('disabled'); //
    switch (operador) {
        case 'IS NULL':
            $("#valor").val('');
            $("#valor").attr('disabled', 'disabled');
            break;
        case '=':
            if (campo.search("fecha") >= 0) {
                //$("#valor").attr('disabled','disabled');
                //$("#inputCalendario").datepicker( "show" );
            }
            break;
    }
    // Para mostrar/ocultar boton calendario
    if (campo.search("fech") >= 0 && operador != 'IS NULL')
        $("#btnCalendario").fadeIn(500);
    else
        $("#btnCalendario").fadeOut(500);

}

function generarInforme(idSalida, objParametros, url, objBoton, posicion) {


    if (posicion == null || posicion == "")
        posicion = 2;
    if (url == "") {
        url = 'index.php?rtr=informes&ctr=informesControlador&acc=generarInforme';
    }

    $.ajax({
        type: "POST",
        url: url,
        data: {
            "objParametros": objParametros
        },
        async: true,
        success: function(msg) {
            tabActivo();

            $("#" + idSalida).html(msg);

            if (dobleAgrupador)
                mergeFilas(idSalida, posicion);
            var numeroActivo = $("#tabs ul.ui-tabs-nav > li.ui-state-active").index();
            if (numeroActivo > 0 && $("#agrupador2").length > 0) {
                $("#agrupador").attr('disabled', true);
                $("#agrupador2 option").attr('disabled', false);
            }

            $(".informeV").height($(window).height() - 250);
            if (objBoton) {
                objBoton.removeClass('disabled');
                jQuery("#clean_tab").removeClass('disabled');
            }

            //Lógica para esconder el agrupador y los botones en datelle en pantalla
            $('#tabs ul li a').click(function() {
                if (this.text.toLowerCase().indexOf("detalle") >= 0) {
                    $('.elementos-agrupadores').hide();
                } else {
                    $('.elementos-agrupadores').show();
                }
            });

            //Lógica para mostrar los agrupadores cuando se cierra una pestaña de detalle en pantalla y la tab anterior
            //es un informe diferente a un detalle en pantalla
            $('#tabs ul li .ui-icon-close').click(function() {
                var detalle = /detalle/;
                var elementoAnterior = $('#tabs ul li').prev().text().toLowerCase();
                var anteriorEsDetallePantalla = detalle.test(elementoAnterior);
                if (($('#tabs ul li').text().toLowerCase().indexOf("detalle") >= 0) && anteriorEsDetallePantalla == true) {
                    $('.elementos-agrupadores').hide();
                } else {
                    $('.elementos-agrupadores').show();
                }
                $('#tabs ul li').prev().click();
            });

            /******* Transformar GridTable en Data Table para que las cabeceras queden fijas en los informes *******/

            var idPestana = $('#tabs > ul > li:last-child a').attr('href').substring(1);
            var idTabla = $('#' + idPestana + ' > .contenedorTabla_ > .tablaordenada').attr('id');
            var i;
            var tabla;
            var numeroColumnasHeader = $("#" + idTabla + " thead tr th").length;
            var numeroColumnasFooter = $("#" + idTabla + " tfoot tr:nth-child(1) td").length;
            var diferenciaColumnas = numeroColumnasFooter - numeroColumnasHeader;

            if (diferenciaColumnas >= 1) {
                for (i = 1; i <= diferenciaColumnas; i++) {
                    $("#" + idTabla + " tfoot tr:nth-child(1) td:last-child").remove();
                }
            }


            tabla = $('#' + idTabla).DataTable({
                scrollResize: true,
                scrollY: 400,
                scrollCollapse: true,
                paging: false,
                "lengthMenu": [
                    [10, 25, 50, 100, 200, 500, 1000, 2000, 5000, -1],
                    [10, 25, 50, 100, 200, 500, 1000, 2000, 5000, "Todos"]
                ],
                "searching": true,
                "scrollX": true,
                "bInfo": false,
                "pagingType": "full_numbers",
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }
            });


            //Se dehabilita el sort del datatable para el informe de cartera con doble agrupador

            var numeroAgrupadores = $(".elementos-agrupadores").length;

            if (numeroAgrupadores == 4) {
                $('th').unbind('click.DT');
            }

            /*
             * Se le da el mismo id a la tabla de la cabecera y a la tabla del contenido en los informes
             * para que al exportarlo no ocurran problemas con la cabecera (incidencia 44352)
             */
            var idTablaContenido = $('#' + idPestana + ' > .contenedorTabla_ > .dataTables_wrapper > .dataTables_scroll > .dataTables_scrollBody table.tablaordenada').attr('id');
            var idTablaCabecera = $('#' + idPestana + ' > .contenedorTabla_ > .dataTables_wrapper  > .dataTables_scroll > .dataTables_scrollHead > .dataTables_scrollHeadInner > table.tablaordenada');

            idTablaCabecera.attr('id', idTablaContenido);

        },
        beforeSend: function() { //Funcion que se ejecuta cuando se envian los datos al servidor
            $("#" + idSalida).html('<center><h2>Generando Informe, por favor espere...</h2><img src="imagenes/gif/loading3.gif"></center>');
        },
        error: function(xhr, textStatus, thrownErro) {
            mensajeModal('');
            alert("Error: " + xhr.status + " " + xhr.responseText + " " + textStatus);
            $("#" + idSalida).html("Error: " + xhr.status + " " + xhr.responseText + " " + textStatus);

            if (objBoton) {
                objBoton.removeClass('disabled');
                jQuery("#clean_tab").removeClass('disabled');
            }
        }
    });
}

function generarChart(idSalida, inputs, titulo) {
    post = {};
    for (i = 0; i < inputs.length; i++) {
        post[$(inputs[i]).attr('name')] = $(inputs[i]).val();
    }
    post['tituloChart'] = titulo;

    $.ajax({
        type: "POST",
        url: 'index.php?rtr=informes&ctr=informesControlador&acc=generarChart',
        data: post,
        async: true,
        success: function(msg) {
            $("#" + idSalida).html(msg);
            $(".informeV").height($(window).height() - 250);
        },
        beforeSend: function() { //Funcion que se ejecuta cuando se envian los datos al servidor
            $("#" + idSalida).html('<center><h2>Generando Grafico, por favor espere...</h2><img src="imagenes/gif/loading3.gif"></center>');
        },
        error: function(xhr, textStatus, thrownErro) {
            mensajeModal('');
            alert("Error: " + xhr.status + " " + xhr.responseText + " " + textStatus);
            $("#" + idSalida).html("Error: " + xhr.status + " " + xhr.responseText + " " + textStatus);
        }
    });
}
/*
 * Otras funciones
 * */
function filtrar_abogado(cod) {

    if ($('#codAsignado').length > 0) {
        $('#codAsignado').remove();
    }

    var campo = 'cod_abogado';
    var operador = '=';
    var valor = cod;
    var labelCampo = 'abogado';
    var labelOperador = 'igual';
    var tipoCampo = 'text';
    var tabla = 'traslados';
    var condicion = campo + operador + valor + '[' + tipoCampo + ']';
    var item = $('<li id="codAsignado" class="ui-widget-header" campo="' + campo + '" operador="' + operador + '" valor="' + valor + '" tipo="' + tipoCampo + '" tabla="' + tabla + '" title="' + condicion + '"><button class="eliminar" onclick="removerCriterio(this);"></button>' + labelCampo + ' <span>' + labelOperador + ' ' + valor + '</span></li>').hide().fadeIn(1000);
    $("#ulCriterios").append(item);
    var _body = $('body');
    $('#valor').val('');

    if (!$("#info_detalle_" + cod).length) {
        _body.append("<span class='ventanasm'  style='display:none' id='info_detalle_" + cod + "'></span>");
    }

    if (!$("#info_detalle_" + cod).length) {
        _body.append("<div id='info_detalle_" + cod + ")' ></div>");
    }

    mensajeModal('Generando Informe');
    crearJson('index.php?rtr=informes&ctr=informesControlador&acc=informeIndicadoresAbogado&cod=' + cod, "info_detalle_" + cod, true);
    showModal();

    require_once(strDominio + "js/ui/minified/jquery.ui.core.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.widget.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.mouse.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.draggable.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.resizable.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.position.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.dialog.min.js");

    $("#info_detalle_" + cod).dialog({
        height: 'auto',
        width: $(window).width() - 50,
        title: "Detalle " + cod,
        resizable: false,
        position: ['center', 150],
        close: function(event, ui) {
            $(this).dialog('destroy').remove();
            hideModal();
        }
    });

    mensajeModal('');
}

function showModal() {

    if (!$("#modal_ok").length) {
        var _body = $('body');
        _body.append("<div id='modal_ok' class='modal_ok' style='display:none;color:#000000;position: fixed;top: 0;left: 0; width: " + $(window).width() + "px;  height: " + $(window).height() + "px; background-color: #000000; filter:alpha(opacity=80); -moz-opacity:0.8;-khtml-opacity: 0.8; opacity: 0.8;z-index:900'></div>");
    }

    $("#modal_ok").fadeIn(500);
}

function hideModal() {
    var e = 1;
    var obj = $(".ventanasm");

    jQuery.each(obj, function(i, val) {
        switch ($(this).dialogExtend("state")) {
            case "maximized":
                break;
            case "minimized":
                break;
            case "collapsed":
                break;
            default:
                e = 0;
        }
    });

    if (e == 1)
        $("#modal_ok").fadeOut(500);
}

function generarChart(idSalida, inputs, titulo) {
    post = {};

    for (var i = 0; i < inputs.length; i++) {
        post[$(inputs[i]).attr('name')] = $(inputs[i]).val();
    }
    post['tituloChart'] = titulo;

    $.ajax({
        type: "POST",
        url: 'index.php?rtr=informes&ctr=informesControlador&acc=generarChart',
        data: post,
        async: true,
        success: function(msg) {
            $("#" + idSalida).html(msg);
            $(".informeV").height($(window).height() - 250);
        },
        beforeSend: function() { //Funcion que se ejecuta cuando se envian los datos al servidor
            $("#" + idSalida).html('<center><h2>Generando Grafico, por favor espere...</h2><img src="imagenes/gif/loading3.gif"></center>');
        },
        error: function(xhr, textStatus, thrownErro) {
            mensajeModal('');
            alert("Error: " + xhr.status + " " + xhr.responseText + " " + textStatus);
            $("#" + idSalida).html("Error: " + xhr.status + " " + xhr.responseText + " " + textStatus);
        }
    });
}

function crearObjetoParametros() {
    var tabla = $("#tabla").val();
    var id = $("#id").val();
    var nom_programa = $("#nom_programa").val();
    var filtroAux = $("#filtroAux").val();
    var strNombreAgrupador = $("#agrupador").val();
    var strNombreAgrupador2 = $("#agrupador2").val();
    var agrupado = $("#agrupado").val();
    var strOrder = "";
    var agrupador = "";
    var agrupadorAsig = "";
    var permitirCriterioNull = JSON.parse($("#criterioNull").val() || false);

    if (nom_programa == "inconsistencias_traslados") {
        strNombreAgrupador = "consconditras";
    }

    if (nom_programa == "inf_trasladoscontrapagos" || nom_programa == "inf_trasladoscontrapagos_para") {
        var fecha_inicial = $("#fecha_inicial").val();
        var cadenafecha_incial = ',"fecha_inicial":"' + fecha_inicial + '"';
        var fecha_final = $("#fecha_final").val();
        cadenafecha_incial = cadenafecha_incial + ',"fecha_final":"' + fecha_final + '"';
    } else
        var cadenafecha_incial = '';

    if ($("#ordenador").length > 0) {
        strOrder = $("#ordenador").val();
    }
    if (strNombreAgrupador === 'detallePantalla' || strNombreAgrupador === '__detalleExcel' || strNombreAgrupador === '__detalleTxt' ||
        strNombreAgrupador2 === 'detallePantalla' || strNombreAgrupador2 === '__detalleExcel' || strNombreAgrupador2 === '__detalleTxt') {
        agrupador = strNombreAgrupador;
        if (agrupador == "") {
            agrupador = strNombreAgrupador2;
        } else if (agrupador != "" && $("#agrupador")[0].disabled === true) {
            agrupador = strNombreAgrupador2;
        }
    } else {
        agrupador = asignacionAgrupador();


    }

    if (strNombreAgrupador == '' && $("#agrupador2").length == 0) {
        var mensaje = _('por favor seleccione un agrupador');
        alert(mensaje);
        return false;
    }
    if (strNombreAgrupador2 == '' && $("#agrupador")[0].disabled == true) {
        var mensaje = _('por favor seleccione un agrupador');
        alert(mensaje);
        return false;
    }

    var ArrayJson = '{"criterios":[';
    var hayDatos = false;
    var Elementos = '';
    var SQL = '';

    if (typeof currentActiveTabId === "undefined") {
        intTabActual = $("#tabs").tabs('option', 'selected') + 1;
    } else {
        var idInfo = currentActiveTabId.split("-");
        intTabActual = idInfo[1];
    }

    if (intTabActual > 1) {
        Elementos = $("#tabs-" + intTabActual + " .inputGenerico").val();
        SQL = $('#tabs-' + intTabActual + " .inputGenericoSql").val();
    }

    if (SQL == undefined || SQL == 'undefined') {
        //alerta("Desde un detalle en pantalla no se puede reagrupar", 1);
        //intTabActual =    intTabActual -1;
        return '0';
    }

    $('#ulCriterios li').each(function(index) {
        var campo = $(this).attr('campo');
        var operador = $(this).attr('operador');
        var valor = $(this).attr('valor');
        var tipo = $(this).attr('tipo');
        var tabla = $(this).attr('tabla');
        ArrayJson += '{"campo":"' + campo + '","operador":"' + operador + '","valor":"' + valor + '","tabla":"' + tabla + '","tipo":"' + tipo + '"},';
        hayDatos = true;
    });
    var strLen = ArrayJson.length;
    ArrayJson = ArrayJson.slice(0, strLen - 1);
    ArrayJson = ArrayJson + '],';

    ArrayJson = ArrayJson + '"tabla":"' + tabla + '","id":"' + id + '","agrupador":"' + agrupador + '","nom_programa":"' + nom_programa + '","extras":"' + Elementos + '","SQL":"' + SQL + '","filtroAux":"' + filtroAux + '","order":"' + strOrder + '"' + cadenafecha_incial + ' }';
    if (hayDatos == true) {
        var obj = jQuery.parseJSON(ArrayJson);
        return obj;
    } else if (hayDatos == false && permitirCriterioNull == true) {
        ArrayJson = '{"criterios":[{}]}';
        return jQuery.parseJSON(ArrayJson);
    } else {
        alerta('Debe Crear un Filtro', 3);
        intTabActual = intTabActual - 1;
        return '0';
    }
}

function crearObjetoParametrosCobro() {
    var nomInforme = $("#nom_informe").val();
    var informeAno = $("#informe_ano").val();
    var informeMes = $("#informe_mes").val();
    var tabla = $("#nom_informe option:selected").attr("data-tabla");
    var agrupador = $("#nom_informe option:selected").attr("data-group");
    var merge = agrupador.indexOf(",");
    if (merge > 0)
        dobleAgrupador = true;
    if (nomInforme == "" || informeAno == "" || informeMes == "") {
        var mensaje = _('debe seleccionar los parametros del informe');
        alert(mensaje);
        $(this).removeClass('disabled');
        $("#clean_tab").removeClass('disabled');
        return false;
    } else {
        var ArrayJson = '{';
        ArrayJson += '"nom_programa":"' + nomInforme + '","ano":"' + informeAno + '","mes":"' + informeMes + '","tabla":"' + tabla + '" ,"agrupador":"' + agrupador + '"}';
        var obj = jQuery.parseJSON(ArrayJson);
        return obj;
    }

}

$(".informeV").height($(window).height() - 250);
$(window).bind('resize', function() {
    $(".informeV").height($(window).height() - 250);

});


/*
 * Otras funciones
 * */
function filtrar_abogado(cod) {
    if ($('#codAsignado').length > 0) {
        $('#codAsignado').remove();
    }

    var campo = 'cod_abogado';
    var operador = '=';
    var valor = cod;
    var labelCampo = 'abogado';
    var labelOperador = 'igual';
    var tipoCampo = 'text';
    var tabla = 'traslados';
    var condicion = campo + operador + valor + '[' + tipoCampo + ']';
    var item = $('<li id="codAsignado" class="ui-widget-header" campo="' + campo + '" operador="' + operador + '" valor="' + valor + '" tipo="' + tipoCampo + '" tabla="' + tabla + '" title="' + condicion + '"><button class="eliminar" onclick="removerCriterio(this);"></button>' + labelCampo + ' <span>' + labelOperador + ' ' + valor + '</span></li>').hide().fadeIn(1000);

    $("#ulCriterios").append(item);
    var _body = $('body');
    $('#valor').val('');

    if (!$("#info_detalle_" + cod).length) {
        _body.append("<span class='ventanasm'  style='display:none' id='info_detalle_" + cod + "'></span>");
    }

    if (!$("#info_detalle_" + cod).length) {
        _body.append("<div id='info_detalle_" + cod + ")' ></div>");
    }

    mensajeModal('Generando Informe');
    crearJson('index.php?rtr=informes&ctr=informesControlador&acc=informeIndicadoresAbogado&cod=' + cod, "info_detalle_" + cod, true);
    showModal();

    require_once(strDominio + "js/ui/minified/jquery.ui.core.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.widget.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.mouse.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.draggable.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.resizable.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.position.min.js");
    require_once(strDominio + "js/ui/minified/jquery.ui.dialog.min.js");


    $("#info_detalle_" + cod).dialog({
        height: 'auto',
        width: $(window).width() - 50,
        title: "Detalle " + cod,
        resizable: false,
        position: ['center', 150],
        close: function(event, ui) {
            $(this).dialog('destroy').remove();
            hideModal();
        }
    });

    mensajeModal('');
}

function showModal() {
    if (!$("#modal_ok").length) {
        var _body = $('body');
        _body.append("<div id='modal_ok' class='modal_ok' style='display:none;color:#000000;position: fixed;top: 0;left: 0; width: " + $(window).width() + "px;  height: " + $(window).height() + "px; background-color: #000000; filter:alpha(opacity=80); -moz-opacity:0.8;-khtml-opacity: 0.8; opacity: 0.8;z-index:900'></div>");
    }
    $("#modal_ok").fadeIn(500);
}

function hideModal() {
    var e = 1;
    var obj = $(".ventanasm");

    jQuery.each(obj, function(i, val) {
        switch ($(this).dialogExtend("state")) {
            case "maximized":
                break;
            case "minimized":
                break;
            case "collapsed":
                break;
            default:
                e = 0;
        }
    });

    if (e == 1)
        $("#modal_ok").fadeOut(500);
}

/**
 * Funcion que define que datos son asignados al agrupador
 * @returns {undefined}
 */
function asignacionAgrupador() {
    var strNombreAgrupador = $("#agrupador").val();
    var strNombreAgrupador2 = $("#agrupador2").val();
    var nom_programa = $("#nom_programa").val();
    var agrupador = '';
    if ($("#agrupador2").length > 0 && $("#agrupador2")[0].disabled === false) {
        if (strNombreAgrupador2 != undefined && strNombreAgrupador2 != "" && strNombreAgrupador != "") {
            var primerItem = $("#agrupador option:selected").attr("tabla") + "." + strNombreAgrupador;
            var segundoItem = $("#agrupador2 option:selected").attr("tabla") + "." + strNombreAgrupador2;
            agrupador = [primerItem, segundoItem];
            dobleAgrupador = true;
        } else {
            if (strNombreAgrupador != "") {
                if ($("#agrupador option:selected").attr("tabla") !== undefined) {
                    agrupador = $("#agrupador option:selected").attr("tabla") + "." + strNombreAgrupador;

                } else {
                    agrupador = strNombreAgrupador;
                }




                dobleAgrupador = false;
            } else {
                agrupador = $("#agrupador2 option:selected").attr("tabla") + "." + strNombreAgrupador2;

                dobleAgrupador = false;
            }

        }
    } else {
        if (nom_programa == "inconsistencias_traslados") {

            agrupador = "traslados.consconditras";

        } else {

            if ($("#agrupador").length > 0 && $("#agrupador")[0].disabled === false) {
                if ($("#agrupador option:selected").attr("tabla") !== undefined) {
                    agrupador = $("#agrupador option:selected").attr("tabla") + "." + strNombreAgrupador;

                } else {
                    agrupador = strNombreAgrupador;
                }

                dobleAgrupador = false;
            } else {
                agrupador = $("#agrupador2 option:selected").attr("tabla") + "." + strNombreAgrupador2;

                if ($("#agrupador2").length > 0) {
                    agrupador = $("#agrupador2 option:selected").attr("tabla") + "." + strNombreAgrupador2;
                }

                dobleAgrupador = false;
            }
        }
    }


    return agrupador;
}

/*
 * Deshabilitar la primera opcion por defecto del
 * segundo agrupador
 * Incidencia #18286
 *
 */
function deshabilitaOpcion() {
    if ($("#agrupador2")) {
        $("#agrupador").click(function() {
            var valor = $("#agrupador").select2().find(":selected").val();
            if (valor !== "") {
                $('#agrupador2 option').attr('disabled', false);
                var ultima = ($("#agrupador2 option").size() - 1);
                $("#agrupador2 option").eq(ultima).attr('disabled', true);
                $('#agrupador2 option[value="' + valor + '"]').attr('disabled', true);
            }
            if (valor === "") {
                $("#agrupador2 option").attr('disabled', false);
            }
        });
        $("#agrupador2").click(function() {
            var valorAgrupador2 = $("#agrupador2").select2().find(":selected").val();
            if (valorAgrupador2 != '') {
                if ($("#agrupador").attr('disabled') == undefined && valorAgrupador2 != 'detallePantalla') {
                    $(".elementos-agrupadores:eq(2)").css('visibility', 'visible');
                    $("#ordenador").attr('disabled', false);
                    $('#agrupador option[value="' + valorAgrupador2 + '"]').attr('disabled', true);
                }
            } else {
                $(".elementos-agrupadores:eq(2)").css('visibility', 'hidden');
                $("#ordenador").attr('disabled', true);
                $("#agrupador option").attr('disabled', false);
            }
        });
    }
}

/**
 * Ver que tab se encuentra activo
 */
function tabActivo() {




    $("ul.ui-tabs-nav li a, ul.ui-tabs-nav li a span").on('click', function() {

        var activo = $("#tabs ul.ui-tabs-nav > li.ui-state-active").index();
        if (activo == 0) {

            if ($("#agrupador").select2().find(":selected").val() != "") {
                $(".elementos-agrupadores:eq(2)").css('visibility', 'visible');
                $("#ordenador").attr('disabled', false);
            }
        } else {
            if ($("#agrupador2").length > 0) {
                $("#agrupador").attr('disabled', true);
                $("#ordenador").attr('disabled', false);
                $(".elementos-agrupadores:eq(2)").css('visibility', 'hidden');
            }
        }
    });
}
/**
 * Realiza el proceso de combinacion de celdas
 */
function mergeFilas(idSalida, posicion) {
    var el = $("#" + idSalida + " tr td:nth-child(" + posicion + ")");
    var nuevoArray = new Array();
    var indiceArray = 0;
    var cantidad = el.length - 1; // -1 para no adicional de la fila el campo total
    var contador = 1;
    for (j = 0; j < cantidad; j++) {
        if (el[j].innerHTML == el[j + 1].innerHTML) {
            contador++;
        } else {
            nuevoArray['merge_' + indiceArray] = contador;
            indiceArray++;
            contador = 1;
        }
    }
    var ubicacion = 0;
    var temp = 0;
    for (var k = 0; k < indiceArray; k++) {
        temp = ubicacion + 1;
        $("#" + idSalida + " tr td:nth-child(" + posicion + ")").eq(ubicacion).attr("rowspan", nuevoArray['merge_' + k]).css({
            'vertical-align': 'middle',
            'text-align': 'center'
        });
        ubicacion = ubicacion + nuevoArray['merge_' + k];
        if (nuevoArray['merge_' + k] > 1) {
            for (var l = temp; l < ubicacion; l++) {
                $("#" + idSalida + " tr td:nth-child(" + posicion + "):eq(" + l + ")").hide();
            }
        }
    }
}
/**
 * Funcion para limpiar y resetear los select establecidos en la opcion de busqueda
 */
function activarSelect() {
    var valorAgrupador = $("#agrupador option:eq(0)").val();
    $("#agrupador").select2('val', valorAgrupador);
    $("#agrupador option").attr('disabled', false);

    var valorAgrupador2 = $("#agrupador2 option:eq(0)").val();
    $("#agrupador2").select2('val', valorAgrupador2);
    $("#agrupador2 option").attr('disabled', false);
    //$("#agrupador2 option").eq(1).attr('disabled',true);

    var valorOrdenado = $("#ordenador option:eq(0)").val();
    $("#ordenador").select2('val', valorOrdenado);
    $("#agrupador").attr('disabled', false);
    $("#agrupador2").attr('disabled', false);
    $(".elementos-agrupadores:eq(2)").css('visibility', 'hidden');
}

function convertirSelect2() {
    if ($("#nom_informe").length > 0) {
        $("#nom_informe").select2();
    }
    if ($("#informe_ano").length > 0) {
        $("#informe_ano").select2();
    }
    if ($("#informe_mes").length > 0) {
        $("#informe_mes").select2();
    }
}


/**
 * Función para eliminar los campos del detalle en pantalla
 * @author Fides Escalona
 * @param  int consecutivo // El identificador de los campos guardados
 *
 */

function eliminarCamposDetallePantalla(consecutivo) {

    var noti = "¿Está seguro que desea <b>eliminar</b> el campo seleccionado? ";
    //Limpio las letras y comas del consecutivo
    var consecutivoFinal = consecutivo.replace(/^\D+/g, '').replace(/,/g, '');

    confirmacionNoty(noti, 'warning', 'center', true).then(function(answer) {

        if (answer == 'yes' && consecutivoFinal > 0) {

            $.ajax({
                type: "POST",
                async: true,
                url: "index.php?rtr=informes&ctr=InformesControlador&acc=eliminarCamposGuardados",
                data: {
                    "consecutivo": consecutivoFinal
                },
                success: function(msg) {
                    var response = jQuery.parseJSON(msg);
                    notificacion('', response.msg, response.status, '2', 'bottomLeft', 4000);
                    recargarGrilla('lista_detalle_pantalla_campos');
                    $.unblockUI();
                },
                beforeSend: function() {
                    $.blockUI({
                        message: "Eliminando"
                    });
                },
                error: function(msg) {
                    $.unblockUI();
                    notificacion('', _('ocurrió un error en el proceso'), 'error', 2, 'bottomLeft', '6000');
                    return false;
                }
            });
        }
    });
}


/**
 * Función para validar si el usuario que está logueado es quien guardó
 * @author Fides Escalona
 * @param  usuarioLogin // El identificador de los campos guardados
 *
 */

function validaEliminar(usuarioLogin) {
    var ids = $("#Grid_lista_detalle_pantalla_campos").jqGrid('getDataIDs');
    for (var i = 0; i < ids.length; i++) {
        var val = $("#Grid_lista_detalle_pantalla_campos").jqGrid('getCell', ids[i], 'usuario');
        if (val !== usuarioLogin) {
            $("#Grid_lista_detalle_pantalla_campos").jqGrid('setCell', i, 'accion', null, 'ocultoCellGrid');
        }
    }
}


$(".generarDetalleInformeHref").live('click', function(e) {
    e.preventDefault();
    tabActual = 1;
    //se agrega la clase disabled al boton

    jQuery("#clean_tab").addClass('disabled');

    if ($.isFunction(window.crearJson)) {

        activeTab++;
        var idTabContent = "tabs-" + activeTab;
        var agrupadoresSeleccionados =
            $("#" + idTabContent + " input:checkbox:checked").map(function() {
                return $(this).val();
            }).get();
        //guarda la lista de agrupadores seleccionados en los checkbox

        jQuery("#listaCodigosAgrupador_" + activeTab).val(agrupadoresSeleccionados.toString());
        intNumeroTabs++;
        intContadorTabs++;
        var objParametros = crearObjetoParametros();
        //si hay un error en los parametros
        if (objParametros == '0') {
            $(this).removeClass('disabled');
            jQuery("#clean_tab").removeClass('disabled');
            return;
        }
        //crea el nombre del tab
        // Valida Si no existe seleccion  en ningun agrupador
        if ($("#agrupador").val() == "" && $("#agrupador2").val() == "") {
            var mensaje = _('debe seleccionar al menos un agrupador');
            alert(mensaje);
            $(this).removeClass('disabled');
            $("#clean_tab").removeClass('disabled');
            return false;
        }
        if ($("#agrupador2").length > 0) {
            var valorSelect2 = $("select[id=agrupador2] option:selected").text();
            valorSelect2 = valorSelect2.trim();
        } else {
            valorSelect2 = "Selecione Agrupador";
        }

        if (nom_programa == "inconsistencias_traslados") {

            strNombreAgrupador = "Traslados";
        } else {

            if ($("#agrupador").length > 0 && $("#agrupador")[0].disabled == false && valorSelect2 == "Selecione Agrupador") {
                strNombreAgrupador = jQuery("select[id=agrupador] option:selected").text();
            } else {
                if ($("#agrupador").length > 0 && ($("#agrupador")[0].disabled == false || $("#agrupador")[0].disabled == true) && $("#agrupador2")[0].disabled == false) {
                    var temp = jQuery("select[id=agrupador] option:selected").text();
                    if (temp == "Selecione Agrupador" || ($("#agrupador")[0].disabled == true && $("#agrupador2").val() == "detallePantalla"))
                        temp = '';
                    else
                        temp = jQuery("select[id=agrupador] option:selected").text() + '-';
                    strNombreAgrupador = temp + jQuery("select[id=agrupador2] option:selected").text();
                } else {
                    strNombreAgrupador = jQuery("select[id=agrupador2] option:selected").text();
                }
            }
        }
        var strTabName = "Informe Detalle";

        if (strNombreAgrupador !== "") {
            strTabName += " (" + strNombreAgrupador + ")";
        }

        var strTabNumber = "#tabs-" + intNumeroTabs;
        boolTabNameExists = false;

        $('#tabs ul li a').each(function(i) {
            if (this.href.indexOf(strTabNumber) >= 0) {
                boolTabNameExists = true;
            }
        });

        var idTab = "tabs-" + intContadorTabs;
        _tabs.tabs("add", "#" + idTab, strTabName);


        if (urlInforme.length > 0) {
            urlInforme = urlInformeH
            objParametros['gridCodAbogado'] = $(this).attr('cod_abogado');
            objParametros['p1'] = $(this).attr('p1');
            objParametros['p2'] = $(this).attr('p2');
            objParametros['p3'] = $(this).attr('p3');
            generarInforme(idTab, objParametros, urlInforme, $(this));
        } else {
            alert("Se debe configurar la Url del reporte", 3);
        }
        _tabs.tabs('select', $('#tabs ul:first li').size() - 1);
        $(".elementos-agrupadores:eq(2)").css('visibility', 'hidden');
    }
});</script>
    <script type="text/javascript">/**
 * noty - jQuery Notification Plugin v2.2.2
 * Contributors: https://github.com/needim/noty/graphs/contributors
 *
 * Examples and Documentation - http://needim.github.com/noty/
 *
 * Licensed under the MIT licenses:
 * http://www.opensource.org/licenses/mit-license.php
 *
 **/

if (typeof Object.create !== 'function') {
    Object.create = function (o) {
        function F() {
        }

        F.prototype = o;
        return new F();
    };
}

(function ($) {

    var NotyObject = {

        init:function (options) {

            // Mix in the passed in options with the default options
            this.options = $.extend({}, $.noty.defaults, options);

            this.options.layout = (this.options.custom) ? $.noty.layouts['inline'] : $.noty.layouts[this.options.layout];

			if ($.noty.themes[this.options.theme])
            	this.options.theme = $.noty.themes[this.options.theme];
			else
				options.themeClassName = this.options.theme;

            delete options.layout;
            delete options.theme;

            this.options = $.extend({}, this.options, this.options.layout.options);
            this.options.id = 'noty_' + (new Date().getTime() * Math.floor(Math.random() * 1000000));

            this.options = $.extend({}, this.options, options);

            // Build the noty dom initial structure
            this._build();

            // return this so we can chain/use the bridge with less code.
            return this;
        }, // end init

        _build:function () {

            // Generating noty bar
            var $bar = $('<div class="noty_bar noty_type_' + this.options.type + '"></div>').attr('id', this.options.id);
            $bar.append(this.options.template).find('.noty_text').html(this.options.text);

            this.$bar = (this.options.layout.parent.object !== null) ? $(this.options.layout.parent.object).css(this.options.layout.parent.css).append($bar) : $bar;

			if (this.options.themeClassName)
				this.$bar.addClass(this.options.themeClassName).addClass('noty_container_type_' + this.options.type);

            // Set buttons if available
            if (this.options.buttons) {

                // If we have button disable closeWith & timeout options
                this.options.closeWith = [];
                this.options.timeout = false;

                var $buttons = $('<div/>').addClass('noty_buttons');

                (this.options.layout.parent.object !== null) ? this.$bar.find('.noty_bar').append($buttons) : this.$bar.append($buttons);

                var self = this;

                $.each(this.options.buttons, function (i, button) {
                    var $button = $('<button/>').addClass((button.addClass) ? button.addClass : 'gray').html(button.text).attr('id', button.id ? button.id : 'button-' + i)
                        .appendTo(self.$bar.find('.noty_buttons'))
                        .bind('click', function () {
                            if ($.isFunction(button.onClick)) {
                                button.onClick.call($button, self);
                            }
                        });
                });
            }

            // For easy access
            this.$message = this.$bar.find('.noty_message');
            this.$closeButton = this.$bar.find('.noty_close');
            this.$buttons = this.$bar.find('.noty_buttons');

            $.noty.store[this.options.id] = this; // store noty for api

        }, // end _build

        show:function () {

            var self = this;

			(self.options.custom) ? self.options.custom.find(self.options.layout.container.selector).append(self.$bar) : $(self.options.layout.container.selector).append(self.$bar);

			if (self.options.theme && self.options.theme.style)
            	self.options.theme.style.apply(self);

            ($.type(self.options.layout.css) === 'function') ? this.options.layout.css.apply(self.$bar) : self.$bar.css(this.options.layout.css || {});

            self.$bar.addClass(self.options.layout.addClass);

            self.options.layout.container.style.apply($(self.options.layout.container.selector));

            self.showing = true;

			if (self.options.theme && self.options.theme.style)
            	self.options.theme.callback.onShow.apply(this);

            if ($.inArray('click', self.options.closeWith) > -1)
                self.$bar.css('cursor', 'pointer').one('click', function (evt) {
                    self.stopPropagation(evt);
                    if (self.options.callback.onCloseClick) {
                        self.options.callback.onCloseClick.apply(self);
                    }
                    self.close();
                });

            if ($.inArray('hover', self.options.closeWith) > -1)
                self.$bar.one('mouseenter', function () {
                    self.close();
                });

            if ($.inArray('button', self.options.closeWith) > -1)
                self.$closeButton.one('click', function (evt) {
                    self.stopPropagation(evt);
                    self.close();
                });

            if ($.inArray('button', self.options.closeWith) == -1)
                self.$closeButton.remove();

            if (self.options.callback.onShow)
                self.options.callback.onShow.apply(self);

            self.$bar.animate(
                self.options.animation.open,
                self.options.animation.speed,
                self.options.animation.easing,
                function () {
                    if (self.options.callback.afterShow) self.options.callback.afterShow.apply(self);
                    self.showing = false;
                    self.shown = true;
                });

            // If noty is have a timeout option
            if (self.options.timeout)
                self.$bar.delay(self.options.timeout).promise().done(function () {
                    self.close();
                });

            return this;

        }, // end show

        close:function () {

            if (this.closed) return;
            if (this.$bar && this.$bar.hasClass('i-am-closing-now')) return;

            var self = this;

            if (this.showing) {
              self.$bar.queue(
                function () {
                  self.close.apply(self);
                }
              )
              return;
            }

            if (!this.shown && !this.showing) { // If we are still waiting in the queue just delete from queue
                var queue = [];
                $.each($.noty.queue, function (i, n) {
                    if (n.options.id != self.options.id) {
                        queue.push(n);
                    }
                });
                $.noty.queue = queue;
                return;
            }

            self.$bar.addClass('i-am-closing-now');

            if (self.options.callback.onClose) {
                self.options.callback.onClose.apply(self);
            }

            self.$bar.clearQueue().stop().animate(
                self.options.animation.close,
                self.options.animation.speed,
                self.options.animation.easing,
                function () {
                    if (self.options.callback.afterClose) self.options.callback.afterClose.apply(self);
                })
                .promise().done(function () {

                    // Modal Cleaning
                    if (self.options.modal) {
                        $.notyRenderer.setModalCount(-1);
                        if ($.notyRenderer.getModalCount() == 0) $('.noty_modal').fadeOut('fast', function () {
                            $(this).remove();
                        });
                    }

                    // Layout Cleaning
                    $.notyRenderer.setLayoutCountFor(self, -1);
                    if ($.notyRenderer.getLayoutCountFor(self) == 0) $(self.options.layout.container.selector).remove();

                    // Make sure self.$bar has not been removed before attempting to remove it
                    if (typeof self.$bar !== 'undefined' && self.$bar !== null ) {
                        self.$bar.remove();
                        self.$bar = null;
                        self.closed = true;
                    }

                    delete $.noty.store[self.options.id]; // deleting noty from store

                    if(self.options.theme.callback && self.options.theme.callback.onClose) {
                        self.options.theme.callback.onClose.apply(self);
                    }

                    if (!self.options.dismissQueue) {
                        // Queue render
                        $.noty.ontap = true;

                        $.notyRenderer.render();
                    }

					if (self.options.maxVisible > 0 && self.options.dismissQueue) {
						$.notyRenderer.render();
					}
                })

        }, // end close

        setText:function (text) {
            if (!this.closed) {
                this.options.text = text;
                this.$bar.find('.noty_text').html(text);
            }
            return this;
        },

        setType:function (type) {
            if (!this.closed) {
                this.options.type = type;
                this.options.theme.style.apply(this);
                this.options.theme.callback.onShow.apply(this);
            }
            return this;
        },

        setTimeout:function (time) {
            if (!this.closed) {
                var self = this;
                this.options.timeout = time;
                self.$bar.delay(self.options.timeout).promise().done(function () {
                    self.close();
                });
            }
            return this;
        },

        stopPropagation:function (evt) {
            evt = evt || window.event;
            if (typeof evt.stopPropagation !== "undefined") {
                evt.stopPropagation();
            } else {
                evt.cancelBubble = true;
            }
        },

        closed:false,
        showing:false,
        shown:false

    }; // end NotyObject

    $.notyRenderer = {};

    $.notyRenderer.init = function (options) {

        // Renderer creates a new noty
        var notification = Object.create(NotyObject).init(options);

		if (notification.options.killer)
			$.noty.closeAll();

        (notification.options.force) ? $.noty.queue.unshift(notification) : $.noty.queue.push(notification);

        $.notyRenderer.render();

        return ($.noty.returns == 'object') ? notification : notification.options.id;
    };

    $.notyRenderer.render = function () {

        var instance = $.noty.queue[0];

        if ($.type(instance) === 'object') {
            if (instance.options.dismissQueue) {
				if (instance.options.maxVisible > 0) {
					if ($(instance.options.layout.container.selector + ' li').length < instance.options.maxVisible) {
						$.notyRenderer.show($.noty.queue.shift());
					} else {

					}
				} else {
					$.notyRenderer.show($.noty.queue.shift());
				}
            } else {
                if ($.noty.ontap) {
                    $.notyRenderer.show($.noty.queue.shift());
                    $.noty.ontap = false;
                }
            }
        } else {
            $.noty.ontap = true; // Queue is over
        }

    };

    $.notyRenderer.show = function (notification) {

        if (notification.options.modal) {
            $.notyRenderer.createModalFor(notification);
            $.notyRenderer.setModalCount(+1);
        }

        // Where is the container?
		if (notification.options.custom) {
			if (notification.options.custom.find(notification.options.layout.container.selector).length == 0) {
				notification.options.custom.append($(notification.options.layout.container.object).addClass('i-am-new'));
			} else {
				notification.options.custom.find(notification.options.layout.container.selector).removeClass('i-am-new');
			}
		} else {
			if ($(notification.options.layout.container.selector).length == 0) {
				$('body').append($(notification.options.layout.container.object).addClass('i-am-new'));
			} else {
				$(notification.options.layout.container.selector).removeClass('i-am-new');
			}
		}

        $.notyRenderer.setLayoutCountFor(notification, +1);

        notification.show();
    };

    $.notyRenderer.createModalFor = function (notification) {
        if ($('.noty_modal').length == 0) {
			var modal = $('<div/>').addClass('noty_modal').addClass(notification.options.theme).data('noty_modal_count', 0);

			if (notification.options.theme.modal && notification.options.theme.modal.css)
				modal.css(notification.options.theme.modal.css);

			modal.prependTo($('body')).fadeIn('fast');
		}
    };

    $.notyRenderer.getLayoutCountFor = function (notification) {
        return $(notification.options.layout.container.selector).data('noty_layout_count') || 0;
    };

    $.notyRenderer.setLayoutCountFor = function (notification, arg) {
        return $(notification.options.layout.container.selector).data('noty_layout_count', $.notyRenderer.getLayoutCountFor(notification) + arg);
    };

    $.notyRenderer.getModalCount = function () {
        return $('.noty_modal').data('noty_modal_count') || 0;
    };

    $.notyRenderer.setModalCount = function (arg) {
        return $('.noty_modal').data('noty_modal_count', $.notyRenderer.getModalCount() + arg);
    };

    // This is for custom container
    $.fn.noty = function (options) {
        options.custom = $(this);
        return $.notyRenderer.init(options);
    };

    $.noty = {};
    $.noty.queue = [];
    $.noty.ontap = true;
    $.noty.layouts = {};
    $.noty.themes = {};
    $.noty.returns = 'object';
    $.noty.store = {};

    $.noty.get = function (id) {
        return $.noty.store.hasOwnProperty(id) ? $.noty.store[id] : false;
    };

    $.noty.close = function (id) {
        return $.noty.get(id) ? $.noty.get(id).close() : false;
    };

    $.noty.setText = function (id, text) {
        return $.noty.get(id) ? $.noty.get(id).setText(text) : false;
    };

    $.noty.setType = function (id, type) {
        return $.noty.get(id) ? $.noty.get(id).setType(type) : false;
    };

    $.noty.clearQueue = function () {
        $.noty.queue = [];
    };

    $.noty.closeAll = function () {
        $.noty.clearQueue();
        $.each($.noty.store, function (id, noty) {
            noty.close();
        });
    };

    var windowAlert = window.alert;

    $.noty.consumeAlert = function (options) {
        window.alert = function (text) {
            if (options)
                options.text = text;
            else
                options = {text:text};

            $.notyRenderer.init(options);
        };
    };

    $.noty.stopConsumeAlert = function () {
        window.alert = windowAlert;
    };

    $.noty.defaults = {
        layout:'top',
        theme:'defaultTheme',
        type:'alert',
        text:'',
        dismissQueue:true,
        template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',
        animation:{
            open:{height:'toggle'},
            close:{height:'toggle'},
            easing:'swing',
            speed:500
        },
        timeout:false,
        force:false,
        modal:false,
        maxVisible:5,
		killer: false,
        closeWith:['click'],
        callback:{
            onShow:function () {
            },
            afterShow:function () {
            },
            onClose:function () {
            },
            afterClose:function () {
            },
            onCloseClick:function () {
            }
        },
        buttons:false
    };

    $(window).resize(function () {
        $.each($.noty.layouts, function (index, layout) {
            layout.container.style.apply($(layout.container.selector));
        });
    });

})(jQuery);

// Helpers
window.noty = function noty(options) {
    return jQuery.notyRenderer.init(options);
};
</script><script type="text/javascript">(function($) {

	$.noty.layouts.top = {
		name: 'top',
		options: {},
		container: {
			object: '<ul id="noty_top_layout_container" />',
			selector: 'ul#noty_top_layout_container',
			style: function() {
				$(this).css({
					top: 0,
					left: '5%',
					position: 'fixed',
					width: '90%',
					height: 'auto',
					margin: 0,
					padding: 0,
					listStyleType: 'none',
					zIndex: 9999999
				});
			}
		},
		parent: {
			object: '<li />',
			selector: 'li',
			css: {}
		},
		css: {
			display: 'none'
		},
		addClass: ''
	};

})(jQuery);</script><script type="text/javascript">(function($) {

	$.noty.layouts.topLeft = {
		name: 'topLeft',
		options: { // overrides options
			
		},
		container: {
			object: '<ul id="noty_topLeft_layout_container" />',
			selector: 'ul#noty_topLeft_layout_container',
			style: function() {
				$(this).css({
					top: 20,
					left: 20,
					position: 'fixed',
					width: '310px',
					height: 'auto',
					margin: 0,
					padding: 0,
					listStyleType: 'none',
					zIndex: 10000000
				});

				if (window.innerWidth < 600) {
					$(this).css({
						left: 5
					});
				}
			}
		},
		parent: {
			object: '<li />',
			selector: 'li',
			css: {}
		},
		css: {
			display: 'none',
			width: '310px'
		},
		addClass: ''
	};

})(jQuery);</script><script type="text/javascript">(function($) {

	$.noty.layouts.topCenter = {
		name: 'topCenter',
		options: { // overrides options

		},
		container: {
			object: '<ul id="noty_topCenter_layout_container" />',
			selector: 'ul#noty_topCenter_layout_container',
			style: function() {
				$(this).css({
					top: 20,
					left: 0,
					position: 'fixed',
					width: '310px',
					height: 'auto',
					margin: 0,
					padding: 0,
					listStyleType: 'none',
					zIndex: 10000000
				});

				$(this).css({
					left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px'
				});
			}
		},
		parent: {
			object: '<li />',
			selector: 'li',
			css: {}
		},
		css: {
			display: 'none',
			width: '310px'
		},
		addClass: ''
	};

})(jQuery);
</script><script type="text/javascript">(function($) {

    $.noty.layouts.topRight = {
        name: 'topRight',
        options: { // overrides options

        },
        container: {
            object: '<ul id="noty_topRight_layout_container" />',
            selector: 'ul#noty_topRight_layout_container',
            style: function() {
                $(this).css({
                    top: 20,
                    right: 20,
                    position: 'fixed',
                    width: '510px',
                    height: 'auto',
                    margin: 0,
                    padding: 0,
                    listStyleType: 'none',
                    zIndex: 10000000
                });

                if (window.innerWidth < 600) {
                    $(this).css({
                        right: 5
                    });
                }
            }
        },
        parent: {
            object: '<li />',
            selector: 'li',
            css: {}
        },
        css: {
            display: 'none',
            width: '510px'
        },
        addClass: ''
    };

})(jQuery);</script><script type="text/javascript">(function($) {

	$.noty.layouts.center = {
		name: 'center',
		options: { // overrides options
			
		},
		container: {
			object: '<ul id="noty_center_layout_container" />',
			selector: 'ul#noty_center_layout_container',
			style: function() {
				$(this).css({
					position: 'fixed',
					width: '310px',
					height: 'auto',
					margin: 0,
					padding: 0,
					listStyleType: 'none',
					zIndex: 10000000
				});

				// getting hidden height
				var dupe = $(this).clone().css({visibility:"hidden", display:"block", position:"absolute", top: 0, left: 0}).attr('id', 'dupe');
				$("body").append(dupe);
				dupe.find('.i-am-closing-now').remove();
				dupe.find('li').css('display', 'block');
				var actual_height = dupe.height();
				dupe.remove();

				if ($(this).hasClass('i-am-new')) {
					$(this).css({
						left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px',
						top: ($(window).height() - actual_height) / 2 + 'px'
					});
				} else {
					$(this).animate({
						left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px',
						top: ($(window).height() - actual_height) / 2 + 'px'
					}, 500);
				}
				
			}
		},
		parent: {
			object: '<li />',
			selector: 'li',
			css: {}
		},
		css: {
			display: 'none',
			width: '310px'
		},
		addClass: ''
	};

})(jQuery);</script><script type="text/javascript">(function($) {

	$.noty.layouts.centerLeft = {
		name: 'centerLeft',
		options: { // overrides options

		},
		container: {
			object: '<ul id="noty_centerLeft_layout_container" />',
			selector: 'ul#noty_centerLeft_layout_container',
			style: function() {
				$(this).css({
					left: 20,
					position: 'fixed',
					width: '310px',
					height: 'auto',
					margin: 0,
					padding: 0,
					listStyleType: 'none',
					zIndex: 10000000
				});

				// getting hidden height
				var dupe = $(this).clone().css({visibility:"hidden", display:"block", position:"absolute", top: 0, left: 0}).attr('id', 'dupe');
				$("body").append(dupe);
				dupe.find('.i-am-closing-now').remove();
				dupe.find('li').css('display', 'block');
				var actual_height = dupe.height();
				dupe.remove();

				if ($(this).hasClass('i-am-new')) {
					$(this).css({
						top: ($(window).height() - actual_height) / 2 + 'px'
					});
				} else {
					$(this).animate({
						top: ($(window).height() - actual_height) / 2 + 'px'
					}, 500);
				}

				if (window.innerWidth < 600) {
					$(this).css({
						left: 5
					});
				}

			}
		},
		parent: {
			object: '<li />',
			selector: 'li',
			css: {}
		},
		css: {
			display: 'none',
			width: '310px'
		},
		addClass: ''
	};

})(jQuery);
</script><script type="text/javascript">(function($) {

	$.noty.layouts.centerRight = {
		name: 'centerRight',
		options: { // overrides options

		},
		container: {
			object: '<ul id="noty_centerRight_layout_container" />',
			selector: 'ul#noty_centerRight_layout_container',
			style: function() {
				$(this).css({
					right: 20,
					position: 'fixed',
					width: '310px',
					height: 'auto',
					margin: 0,
					padding: 0,
					listStyleType: 'none',
					zIndex: 10000000
				});

				// getting hidden height
				var dupe = $(this).clone().css({visibility:"hidden", display:"block", position:"absolute", top: 0, left: 0}).attr('id', 'dupe');
				$("body").append(dupe);
				dupe.find('.i-am-closing-now').remove();
				dupe.find('li').css('display', 'block');
				var actual_height = dupe.height();
				dupe.remove();

				if ($(this).hasClass('i-am-new')) {
					$(this).css({
						top: ($(window).height() - actual_height) / 2 + 'px'
					});
				} else {
					$(this).animate({
						top: ($(window).height() - actual_height) / 2 + 'px'
					}, 500);
				}

				if (window.innerWidth < 600) {
					$(this).css({
						right: 5
					});
				}

			}
		},
		parent: {
			object: '<li />',
			selector: 'li',
			css: {}
		},
		css: {
			display: 'none',
			width: '310px'
		},
		addClass: ''
	};

})(jQuery);
</script><script type="text/javascript">(function($) {

    $.noty.layouts.bottom = {
        name: 'bottom',
        options: {},
        container: {
            object: '<ul id="noty_bottom_layout_container" />',
            selector: 'ul#noty_bottom_layout_container',
            style: function() {
                $(this).css({
                    bottom: 0,
                    left: '1%',
                    position: 'fixed',
                    width: '98%',
                    height: 'auto',
                    margin: 0,
                    padding: 0,
                    listStyleType: 'none',
                    zIndex: 9999999
                });
            }
        },
        parent: {
            object: '<li />',
            selector: 'li',
            css: {}
        },
        css: {
            display: 'none'
        },
        addClass: ''
    };

})(jQuery);</script><script type="text/javascript">(function($) {

    $.noty.layouts.bottomLeft = {
        name: 'bottomLeft',
        options: { // overrides options

        },
        container: {
            object: '<ul id="noty_bottomLeft_layout_container" />',
            selector: 'ul#noty_bottomLeft_layout_container',
            style: function() {
                $(this).css({
                    bottom: 32,
                    left: '1%',
                    position: 'fixed',
                    width: '100%',
                    height: 'auto',
                    margin: 0,
                    padding: 0,
                    listStyleType: 'none',
                    zIndex: 10000000
                });

                if (window.innerWidth < 600) {
                    $(this).css({
                        left: 5
                    });
                }
            }
        },
        parent: {
            object: '<li />',
            selector: 'li',
            css: {
                borderRadius: '0px',

            }
        },
        css: {
            display: 'none',
            width: '98%'
        },
        addClass: ''
    };

})(jQuery);</script><script type="text/javascript">(function($) {

	$.noty.layouts.bottomCenter = {
		name: 'bottomCenter',
		options: { // overrides options

		},
		container: {
			object: '<ul id="noty_bottomCenter_layout_container" />',
			selector: 'ul#noty_bottomCenter_layout_container',
			style: function() {
				$(this).css({
					bottom: 20,
					left: 0,
					position: 'fixed',
					width: '310px',
					height: 'auto',
					margin: 0,
					padding: 0,
					listStyleType: 'none',
					zIndex: 10000000
				});

				$(this).css({
					left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px'
				});
			}
		},
		parent: {
			object: '<li />',
			selector: 'li',
			css: {}
		},
		css: {
			display: 'none',
			width: '310px'
		},
		addClass: ''
	};

})(jQuery);
</script><script type="text/javascript">(function($) {

	$.noty.layouts.bottomRight = {
		name: 'bottomRight',
		options: { // overrides options
			
		},
		container: {
			object: '<ul id="noty_bottomRight_layout_container" />',
			selector: 'ul#noty_bottomRight_layout_container',
			style: function() {
				$(this).css({
					bottom: 20,
					right: 20,
					position: 'fixed',
					width: '310px',
					height: 'auto',
					margin: 0,
					padding: 0,
					listStyleType: 'none',
					zIndex: 10000000
				});

				if (window.innerWidth < 600) {
					$(this).css({
						right: 5
					});
				}
			}
		},
		parent: {
			object: '<li />',
			selector: 'li',
			css: {}
		},
		css: {
			display: 'none',
			width: '310px'
		},
		addClass: ''
	};

})(jQuery);</script><script type="text/javascript">(function($) {

    $.noty.themes.defaultTheme = {
        name: 'defaultTheme',
        helpers: {
            borderFix: function() {
                if (this.options.dismissQueue) {
                    var selector = this.options.layout.container.selector + ' ' + this.options.layout.parent.selector;
                    switch (this.options.layout.name) {
                        case 'top':
                            $(selector).css({
                                borderRadius: '0px 0px 0px 0px'
                            });
                            $(selector).last().css({
                                borderRadius: '0px'
                            });
                            break;
                        case 'topCenter':
                        case 'topLeft':
                        case 'topRight':
                        case 'bottomCenter':
                        case 'bottomLeft':
                        case 'bottomRight':
                        case 'center':
                        case 'centerLeft':
                        case 'centerRight':
                        case 'inline':
                            $(selector).css({
                                borderRadius: '0px 0px 0px 0px'
                            });
                            $(selector).first().css({
                                'border-top-left-radius': '0px',
                                'border-top-right-radius': '0px'
                            });
                            $(selector).last().css({
                                'border-bottom-left-radius': '0px',
                                'border-bottom-right-radius': '0px'
                            });
                            break;
                        case 'bottom':
                            $(selector).css({
                                borderRadius: '0px 0px 0px 0px'
                            });
                            $(selector).first().css({
                                borderRadius: '0px'
                            });
                            break;
                        default:
                            break;
                    }
                }
            }
        },
        modal: {
            css: {
                position: 'fixed',
                width: '100%',
                height: '100%',
                backgroundColor: '#000',
                zIndex: 10000,
                opacity: 0.6,
                display: 'none',
                left: 0,
                top: 0
            }
        },
        style: function() {

            this.$bar.css({
                overflow: 'hidden',
                background: "#4E8C41"
            });

            this.$message.css({
                fontSize: '14px',
                lineHeight: '13px',
                textAlign: 'center',
                heigh: '30px',
                width: 'auto',
                paddingTop: '7px',
                height: '23px',
                position: 'relative'
            });

            this.$closeButton.css({
                position: 'absolute',
                top: 4,
                right: 4,
                width: 10,
                height: 10,
                background: "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",
                display: 'none',
                cursor: 'pointer'
            });

            this.$buttons.css({
                padding: 5,
                textAlign: 'right',
                borderTop: '1px solid #ccc',
                backgroundColor: '#fff'
            });

            this.$buttons.find('button').css({
                marginLeft: 5
            });

            this.$buttons.find('button:first').css({
                marginLeft: 0
            });

            this.$bar.bind({
                mouseenter: function() {
                    $(this).find('.noty_close').stop().fadeTo('normal', 1);
                },
                mouseleave: function() {
                    $(this).find('.noty_close').stop().fadeTo('normal', 0);
                }
            });

            switch (this.options.layout.name) {
                case 'top':
                    this.$bar.css({
                        borderRadius: '0px',
                        borderBottom: '2px solid #eee',
                        borderLeft: '2px solid #eee',
                        borderRight: '2px solid #eee',
                        boxShadow: "0 2px 4px rgba(0, 0, 0, 0.1)"
                    });
                    break;
                case 'topCenter':
                case 'center':
                case 'bottomCenter':
                case 'inline':
                    this.$bar.css({
                        borderRadius: '0px',
                        border: '1px solid #eee',
                        boxShadow: "0 2px 4px rgba(0, 0, 0, 0.1)"
                    });
                    this.$message.css({
                        fontSize: '13px',
                        textAlign: 'center'
                    });
                    break;
                case 'topLeft':
                case 'topRight':
                case 'bottomLeft':
                case 'bottomRight':
                case 'centerLeft':
                case 'centerRight':
                    this.$bar.css({
                        borderRadius: '0px',
                        border: '1px solid #eee',
                        boxShadow: "0 2px 4px rgba(0, 0, 0, 0.1)"
                    });
                    this.$message.css({
                        fontSize: '13px',
                        textAlign: 'left'
                    });
                    break;
                case 'bottom':
                    this.$bar.css({
                        borderRadius: '0px',
                        borderTop: '2px solid #eee',
                        borderLeft: '2px solid #eee',
                        borderRight: '2px solid #eee',
                        boxShadow: "0 -2px 4px rgba(0, 0, 0, 0.1)"
                    });
                    break;
                default:
                    this.$bar.css({
                        border: '2px solid #eee',
                        boxShadow: "0 2px 4px rgba(0, 0, 0, 0.1)"
                    });
                    break;
            }

            switch (this.options.type) {
                case 'alert':
                case 'notification':
                    this.$bar.css({
                        backgroundColor: '#FFF',
                        borderColor: '#CCC',
                        color: '#444'
                    });
                    break;
                case 'warning':
                    this.$bar.css({
                        backgroundColor: '',
                        borderColor: '',
                        color: '#826200'
                    });
                    this.$buttons.css({
                        borderTop: '1px solid #FFC237'
                    });
                    break;
                case 'error':
                    this.$bar.css({
                        backgroundColor: 'red',
                        borderColor: '#cb534f',
                        color: '#FFF'
                    });
                    this.$message.css({
                        fontWeight: 'bold'
                    });
                    this.$buttons.css({
                        borderTop: '1px solid #cb534f'
                    });
                    break;
                case 'information':
                    this.$bar.css({
                        backgroundColor: '#57B7E2',
                        borderColor: '#FFFFFF',
                        color: '#FFF'
                    });
                    this.$buttons.css({
                        borderTop: '1px solid #FFFFFF'
                    });
                    break;
                case 'success':
                    this.$bar.css({
                        backgroundColor: '#4E8C41',
                        borderColor: '#4E8C41',
                        color: '#ffffff',
                        borderRadius: '0px'
                    });
                    this.$buttons.css({
                        borderTop: '1px solid #4E8C41'
                    });
                    break;
                default:
                    this.$bar.css({
                        backgroundColor: '#FFF',
                        borderColor: '#CCC',
                        color: '#444'
                    });
                    break;
            }
        },
        callback: {
            onShow: function() {
                $.noty.themes.defaultTheme.helpers.borderFix.apply(this);
            },
            onClose: function() {
                $.noty.themes.defaultTheme.helpers.borderFix.apply(this);
            }
        }
    };

})(jQuery);</script><script type="text/javascript">/*global Element */
(function( window, document ) {
	'use strict';

	var keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element, // IE6 throws without typeof check

		fn = (function() {
			var fnMap = [
				[
					'requestFullscreen',
					'exitFullscreen',
					'fullscreenchange',
					'fullscreen',
					'fullscreenElement',
					'fullscreenerror'
				],
				[
					'webkitRequestFullScreen',
					'webkitCancelFullScreen',
					'webkitfullscreenchange',
					'webkitIsFullScreen',
					'webkitCurrentFullScreenElement',
					'webkitfullscreenerror'

				],
				[
					'mozRequestFullScreen',
					'mozCancelFullScreen',
					'mozfullscreenchange',
					'mozFullScreen',
					'mozFullScreenElement',
					'mozfullscreenerror'
				]
			],
			i = 0,
			l = fnMap.length,
			ret = {},
			val,
			valLength;

			for ( ; i < l; i++ ) {
				val = fnMap[ i ];
				if ( val && val[1] in document ) {
					for ( i = 0, valLength = val.length; i < valLength; i++ ) {
						ret[ fnMap[0][ i ] ] = val[ i ];
					}
					return ret;
				}
			}
			return false;
		})(),

		screenfull = {
			isFullscreen: document[ fn.fullscreen ],
			element: document[ fn.fullscreenElement ],

			request: function( elem ) {
				var request = fn.requestFullscreen;

				elem = elem || document.documentElement;

				// Work around Safari 5.1 bug: reports support for
				// keyboard in fullscreen even though it doesn't.
				// Browser sniffing, since the alternative with
				// setTimeout is even worse
				if ( /5\.1[\.\d]* Safari/.test( navigator.userAgent ) ) {
					elem[ request ]();
				} else {
					elem[ request ]( keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT );
				}
			},

			exit: function() {
				document[ fn.exitFullscreen ]();
			},

			toggle: function( elem ) {
				if ( this.isFullscreen ) {
					this.exit();
				} else {
					this.request( elem );
				}
			},

			onchange: function() {},
			onerror: function() {}
		};

	if ( !fn ) {
		window.screenfull = null;
		return;
	}

	document.addEventListener( fn.fullscreenchange, function( e ) {
		screenfull.isFullscreen = document[ fn.fullscreen ];
		screenfull.element = document[ fn.fullscreenElement ];
		screenfull.onchange.call( screenfull, e );
	});

	document.addEventListener( fn.fullscreenerror, function( e ) {
		screenfull.onerror.call( screenfull, e );
	});

	window.screenfull = screenfull;

})( window, document );
</script></head>
    <body style="background: #ffffff;">
        <div id="principal">
            <span class="sombra" style="display:none" id="txtempresa"></span>
            <span style="display:none" id="txtempresacon"></span>
            <span style="display:none" id="txtempresaText"></span>
            <!-- MENU -->
            <div id="top-menu">
                <!-- SECCION BIENVENIDA -->
                <div id="top-menu-left-div-wrapper" style="">
                    <a id="link_info_user" class="logoAdminfoMenu" href="#" onclick="abrirInfoUsuario()"><img src="/vsmart/imagenes//menu/logo-adminfo-smart.png"></a>
                    <div id="modal_bv_info" style="display: none;"> </div>
                </div>
                <!-- FIN SECCION BIENVENIDA -->
                <!-- MENU -->
                <!-- Inicio Div Menu -->
                <div class="nav ui-dialog-titlebar" id="menuAdmon" style="display:block; padding-left:13px">
                    <!-- Inicio UL Menu -->
                    <ul id="navigation">
                                                                                                            <li class="top-nav"> <!-- Inicio Li Menu -->
                                    <a href="#" tabindex="1">
                                        <span class="menu-mid"><p><span class="resaltado">Adminfo</span></p></span>     
                                    </a>
                                                                        <ul class="sub"> <!-- Inicio UL SubMenu -->
                                        <li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=comunes&amp;ctr=TareaCtr&amp;acc=listarTareasPreJur&amp;compromisos=true" tabindex="21">Hacer Gestión</a></li>                                    </ul><!-- FIN UL SubMenu -->
                                                                    </li><!-- FIN Li Menu -->
                                                            <li class="top-nav"> <!-- Inicio Li Menu -->
                                    <a href="#" tabindex="2">
                                        <span class="menu-mid"><p><span class="resaltado">Informes</span></p></span>     
                                    </a>
                                                                        <ul class="sub"> <!-- Inicio UL SubMenu -->
                                        <li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformesControlador&amp;acc=&amp;nom_programa=informespagosagrupado" tabindex="22">Informe Pagos Agrupado</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformesControlador&amp;acc=&amp;nom_programa=informetraslado" tabindex="23">Informe De Traslados</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformesControlador&amp;acc=&amp;nom_programa=informesprejuridicos" tabindex="24">Informes Prejuridicos</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformesControlador&amp;acc=&amp;nom_programa=inf_direcciones_smart" tabindex="25">Informe Direcciones</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformesControlador&amp;acc=&amp;nom_programa=informesms" tabindex="26">Informes SMS</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformesControlador&amp;acc=&amp;nom_programa=informesreversos" tabindex="27">Informe Reversos</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformeTrasladosContraPagosmejor&amp;acc=&amp;nom_programa=inf_trasladoscontrapagos" tabindex="28">Efectividad En Recaudo</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformeGestion&amp;acc=index" tabindex="29">Indicadores</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformesControlador&amp;acc=&amp;nom_programa=infocompromi" tabindex="30">Informe De Compromisos</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=informeSeguimiento&amp;acc=&amp;nom_programa=informeseguimiento" tabindex="31">Resumen De Seguimiento</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformesControlador&amp;acc=&amp;nom_programa=informespagos" tabindex="32">Informe De Pagos</a></li>                                    </ul><!-- FIN UL SubMenu -->
                                                                    </li><!-- FIN Li Menu -->
                                                            <li class="top-nav"> <!-- Inicio Li Menu -->
                                    <a href="#" tabindex="3">
                                        <span class="menu-mid"><p><span class="resaltado">Informes Gráficos</span></p></span>     
                                    </a>
                                                                        <ul class="sub"> <!-- Inicio UL SubMenu -->
                                        <li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=GraficosGestionCtr&amp;acc=index" tabindex="33">Gráficos De Gestión</a></li><li><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=informes&amp;ctr=InformeGraficoAnalisisGestoresCtr&amp;acc=resumenMiGestion" tabindex="34">Informe Gráfico Análisis De Gestores</a></li>                                    </ul><!-- FIN UL SubMenu -->
                                                                    </li><!-- FIN Li Menu -->
                                                                        </ul><!-- FIN UL Menu -->
                </div>  
                <!-- FIN MENU -->
                <!-- OPCIONES MENU -->
                <div class="top-menu-bar-right">

                    <!-- Reloj -->
                    <div class="top-menu-bar right"></div>
                    <div class="top-menu-item right" tabindex="-1">
                        <span id="divReloj" class="relieve" onclick="$(&quot;#calendario2&quot;).toggle(0)">14:23:55</span>
                    </div>

                    <!-- Cerrar sesión -->
                    <div class="top-menu-bar right"></div>
                    <div class="top-menu-item right" tabindex="-1">
                        <a onclick="cerrarSesion()" href="#" tabindex="-1">
                            <div class="cluetip iconCerrarSesion icon-menu" data-hasqtip="0" oldtitle="Salir de Adminfo" title=""></div>
                        </a>
                    </div>

                    <!-- Cambiar empresa -->
                    <div class="top-menu-bar right"></div>
                    <div class="top-menu-item right" tabindex="-1">
                        <a onclick="cerrarSesion()" href="#" tabindex="-1">
                            <div class="cluetip iconoCerrarSesion icon-menu" data-hasqtip="1" oldtitle="Salir de Adminfo" title=""></div>
                        </a>
                    </div>

                    <!-- Perfil -->
                    <div class="top-menu-bar right"></div>
                    <div class="top-menu-item right" tabindex="-1">
                        <a href="#" tabindex="-1">
                            </a><div class="cluetip iconoCambiarPerfil icon-menu"><a href="#" tabindex="-1">
                                </a><div class="submenuInicio"><a href="#">

                                    </a><a href="#" onclick="AbrirVentanaModal('https://alianzas.adminfoweb.net/vsmart/index.php?rtr=mantenimiento&amp;ctr=Autenticacion&amp;acc=cambioClave&amp;salir=N' , 0 ,0, true,'Cambiar Clave', '', true)">
                                        <div id="opener" class="iconoCambiarPerfil iconoDesplegable" title="Cambiar de perfil"></div>
                                    </a>

                                    <a href="#" onclick="AbrirVentanaModal('https://alianzas.adminfoweb.net/vsmart/index.php?rtr=mantenimiento&amp;ctr=Autenticacion&amp;acc=cambioClave&amp;salir=N' , 0 ,0, true,'Cambiar Clave', '', true)">
                                        <div class="iconoCambiarClave iconoDesplegable" title="Cambiar mi Clave"></div>
                                    </a>

                                    <a href="https://alianzas.adminfoweb.net/vsmart/index.php??rtr=mantenimiento&amp;ctr=cambioempresactr&amp;acc=">
                                        <div class="iconoEmpresa iconoDesplegable" title="Cambiar de Empresa"></div>
                                    </a>

                                    
                                </div>
                            </div>
                        
                    </div> 

                    <!-- Notificaciones -->
                    <link href="https://alianzas.adminfoweb.net/vsmart/css/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css">
<div class="top-menu-bar right"></div>
<div class="top-menu-item right" tabindex="-1">
    <a id="linknotificacionfrontend" href="#" onclick="abrirNotificacionesAjax()" tabindex="-1">
        <div id="notificacionfrontend" class="cluetip iconoNotificaciones icon-menu" data-hasqtip="2" oldtitle="click aqui para ver notificaciones del sistema" title="">   
                </div>
    </a>
</div>  

<script>
/**
 * Carga la lista de notificacion usando ajax
 */
function abrirNotificacionesAjax()
{
	jQuery('#linknotificacionfrontend').off('click');	
	$.ajax({
		type: "POST",
		url: "?rtr=comunes&ctr=AlertasCtr&acc=getNotificacionesUsuario",
		dataType: 'json',			
		success: function(msg){ //Funcion que se ejecuta cuando recibe una respuesta del servidor
			if(msg != undefined && msg.length > 0) {
				$.each(msg, function( index, objNoti ) {
					var strFlag ='';					
					if(objNoti.fueVisto === 1 ) {
						strFlag ='<i class=\"fa fa-bullhorn\"></i> ';						
					}					
					widgetNoty(strFlag+' '+objNoti.texto,'information','topRight',false);				
				});	
				actualizarNotificacionesVistas();
				jQuery('#linknotificacionfrontend').on('click','abrirNotificacionesAjax');	
			} else {
				widgetNoty(_('no tiene notificaciones en el momento'),'Warning','topCenter',1000);
			}									
			mensajeModal('');						
		},
		beforeSend: function(){ //Funcion que se ejecuta cuando se envian los datos al servidor				
			mensajeModal(_('cargando')+' ...');
		},
		error: function(){ //Funcion que se ejecuta si ocurre un error en el AJAX
		}
	});
}
var arrRelaUsuario = [];
/**
 * Despliega la lista de notificaciones
 */
function abrirNotificaciones(){
	debugger;
	jQuery('#linknotificacionfrontend').off('click');
	actualizarNotificacionesVistas();
		jQuery('#linknotificacionfrontend').on('click','abrirNotificaciones');	
}
/**
 * Actualiza la lista de notificaciones a vistas por el usuario
 */
function actualizarNotificacionesVistas()
{
	jQuery("#notificacionfrontend").removeClass('fa-spin');
	jQuery("#notificacionfrontend").removeClass('fa-bell-o');
	jQuery("#notificacionfrontend").addClass('fa-bell');
	$('#cantNoti').remove();
	var notixusAct = [];
	$.each(arrRelaUsuario, function( index, arrRel ) {		
		notixusAct.push(arrRel['relacion']);		
	});
		
	if (notixusAct.length > 0) {	
    	$.ajax({
    		type: "POST",
    		url: "?rtr=comunes&ctr=AlertasCtr&acc=actualizarNotificacionesUsuario",
    		data: {'relUsuario':notixusAct},		
    		success: function(msg){ //Funcion que se ejecuta cuando recibe una respuesta del servidor						
    			mensajeModal('');						
    		},
    		beforeSend: function(){ //Funcion que se ejecuta cuando se envian los datos al servidor				
    			mensajeModal('');
    		},
    		error: function(){ //Funcion que se ejecuta si ocurre un error en el AJAX
    		}
    	});
	}
}
 </script>
<link href="https://alianzas.adminfoweb.net/vsmart/css/buttons.css" rel="stylesheet" type="text/css">
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/jquery.noty.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/top.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/top.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/topLeft.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/topCenter.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/topRight.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/center.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/centerLeft.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/centerRight.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/bottom.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/bottomLeft.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/bottomCenter.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/layouts/bottomRight.js?5f19e3a077bb2'); </script>
<script type="text/javascript"> require_once('https://alianzas.adminfoweb.net/vsmart/js/noty/themes/default.js?5f19e3a077bb2'); </script>
<script>
var tipoGlobal = 'information';
var posicionGlobal = 'top';
var timeoutGlobal = 3000;
var dismissQueueGlobal = true;
var botoneraGlobal = false;
var modalGlobal = false;
var closeWithGlobal = 'button';
$( document ).ready(function() {
});
function widgetNoty(mensaje,tipo,posicion,timeout,dismissQueue,modal,botonera,closeWith,callback) {
	
	if(typeof tipo === 'undefined'){
		tipo =  tipoGlobal;
	};
	if(typeof posicion === 'undefined'){
		posicion =  posicionGlobal;
	};
	if(typeof timeout === 'undefined'){
		timeout =  timeoutGlobal;
	};
	if(typeof dismissQueue === 'undefined'){
		dismissQueue =  dismissQueueGlobal;
	};
	if(typeof botonera === 'undefined'){
		botonera =  false;
	};
	if(typeof modal === 'undefined'){
		modal =  modalGlobal;
	};	
	if(typeof closeWith === 'undefined' || closeWith === ''){
		closeWith =  closeWithGlobal;
	};
	if ($.isArray(closeWith) == false) {
		closeWith = [closeWith];
	}  
	if(typeof callback === 'undefined' ){	
		callback = {	onShow: function() {},
	        			afterShow: function() {},
	        			onClose: function() {},
	        			afterClose: function() {},
	        			onCloseClick: function() {},
					}
	}
	
	var n = noty({
        layout: posicion,
        text: mensaje,
        type: tipo,
        dismissQueue: dismissQueue,
        modal: modal,
        timeout: timeout,
        buttons:botonera,
        closeWith: closeWith,
        callback: callback 
    }); 
}
</script>
 

                    <!-- Home/inicio -->
                    <div class="top-menu-bar right"></div>
                    <div class="top-menu-item right" tabindex="-1">
                        <a href="#" tabindex="-1">
                            </a><div class="cluetip iconoInicio icon-menu"><a href="#" tabindex="-1">
                                </a><div class="submenuInicio"><a href="#">

                                    </a><a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=mantenimiento&amp;ctr=inicio">
                                        <div class="iconoInicioDesplegable" title="Ir al inicio"></div>
                                    </a>
                                                                        <a href="https://alianzas.adminfoweb.net/vsmart/index.php?rtr=mantenimiento&amp;ctr=administracionbd&amp;acc=consultar">
                                        <div class="iconoCambiarModulo iconoDesplegable" title="Cambiar al módulo de mantenimento"></div>
                                    </a>
                                                                    </div>
                            </div>
                        
                    </div>
                    
                    <div class="top-menu-bar right"></div>
                </div>
                <div class="clear"></div>
                <!-- FIN OPCIONES MENU -->
            </div>
            <div id="calendario2" style="z-index: 9999; position: relative; float: right; margin-top: 37px;display: none" class="hasDatepicker"><div class="ui-datepicker-inline ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" style="display: block;"><div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all"><a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_1595532233021.datepicker._adjustDate('#calendario2', -1, 'M');" title="Anterior"><span class="ui-icon ui-icon-circle-triangle-w">Anterior</span></a><a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_1595532233021.datepicker._adjustDate('#calendario2', +1, 'M');" title="Siguiente"><span class="ui-icon ui-icon-circle-triangle-e">Siguiente</span></a><div class="ui-datepicker-title"><select class="ui-datepicker-month" onchange="DP_jQuery_1595532233021.datepicker._selectMonthYear('#calendario2', this, 'M');" onclick="DP_jQuery_1595532233021.datepicker._clickMonthYear('#calendario2');"><option value="0">Enero</option><option value="1">Febrero</option><option value="2">Marzo</option><option value="3">Abril</option><option value="4">Mayo</option><option value="5">Junio</option><option value="6" selected="selected">Julio</option><option value="7">Agosto</option><option value="8">Septiembre</option><option value="9">Octubre</option><option value="10">Noviembre</option><option value="11">Diciembre</option></select><select class="ui-datepicker-year" onchange="DP_jQuery_1595532233021.datepicker._selectMonthYear('#calendario2', this, 'Y');" onclick="DP_jQuery_1595532233021.datepicker._clickMonthYear('#calendario2');"><option value="2010">2010</option><option value="2011">2011</option><option value="2012">2012</option><option value="2013">2013</option><option value="2014">2014</option><option value="2015">2015</option><option value="2016">2016</option><option value="2017">2017</option><option value="2018">2018</option><option value="2019">2019</option><option value="2020" selected="selected">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option><option value="2025">2025</option><option value="2026">2026</option><option value="2027">2027</option><option value="2028">2028</option><option value="2029">2029</option><option value="2030">2030</option></select></div></div><table class="ui-datepicker-calendar"><thead><tr><th class="ui-datepicker-week-end"><span title="Domingo">Do</span></th><th><span title="Lunes">Lu</span></th><th><span title="Martes">Ma</span></th><th><span title="Miércoles">Mi</span></th><th><span title="Jueves">Ju</span></th><th><span title="Viernes">Vi</span></th><th class="ui-datepicker-week-end"><span title="Sábado">Sa</span></th></tr></thead><tbody><tr><td class=" ui-datepicker-week-end ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">1</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">2</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">3</a></td><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">4</a></td></tr><tr><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">5</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">6</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">7</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">8</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">9</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">10</a></td><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">11</a></td></tr><tr><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">12</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">13</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">14</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">15</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">16</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">17</a></td><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">18</a></td></tr><tr><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">19</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">20</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">21</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">22</a></td><td class=" ui-datepicker-days-cell-over  ui-datepicker-current-day ui-datepicker-today" onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default ui-state-highlight ui-state-active ui-state-hover" href="#">23</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">24</a></td><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">25</a></td></tr><tr><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">26</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">27</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">28</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">29</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">30</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#calendario2',6,2020, this);return false;"><a class="ui-state-default" href="#">31</a></td><td class=" ui-datepicker-week-end ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td></tr></tbody></table></div></div>
        </div>
        <div id="container">
            <div class="ui-layout-center">
                <div id="contenedor">
                    <div id="contenedor-header"></div>
                    <div class="hor-bar"></div>
                    <div id="contenedor-text">
                        
    <link rel="stylesheet" href="https://alianzas.adminfoweb.net/vsmart/css/font-awesome/css/font-awesome.min.css">
    <script type="text/javascript" src="/vsmart/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="/vsmart/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/vsmart/js/dataTables.fixedColumns.min.js"></script>
    <script type="text/javascript" src="/vsmart/js/buttons.html5.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/vsmart/css/buttons.dataTables.min.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/vsmart/css/jquery.dataTables.min.css" media="screen">


<!-- Contenedor de Informe -->
<span style="font-size: 12px; font-weight: bold; margin-left: 10px; color: #42474a;">
    INFORMES PREJURIDICOS</span>

<div class="demo" style="padding:0px;margin:0px">
    <div class="toolbar margen-agrupadores elementoFijo">
        <div class="elementos-agrupadores">
            <span> AGRUPAR POR&nbsp;&nbsp;</span>
            <div class="select2-container select2" id="s2id_agrupador" style="min-width: 200px;font-size:6.5pt;"><a href="javascript:void(0)" onclick="return false;" class="select2-choice" tabindex="-1">   <span class="select2-chosen">Seleccione Agrupador</span><abbr class="select2-search-choice-close"></abbr>   <span class="select2-arrow"><b></b></span></a><input class="select2-focusser select2-offscreen" type="text" id="s2id_autogen3" tabindex="0"><div class="select2-drop select2-display-none select2-with-searchbox">   <div class="select2-search">       <input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input">   </div>   <ul class="select2-results">   </ul></div></div><select id="agrupador" style="min-width: 200px;font-size:6.5pt;" class="select2 select2-offscreen" tabindex="-1">
                <option value="">Seleccione Agrupador</option>
                                        <option tabla="vinformesprejuridicos" tipo="integer" value="consconditras">
                            Consecutivo Traslado                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="fecha_corte">
                            Fecha Traslado                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="total_ges">
                            Dias Mora                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="tiene_codeudor">
                            Tiene Codeudor                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="descripcion_tel">
                            Desc. Gestión Telefonica                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="descripcion_causal">
                            Descripcion Causal                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="descripcion_codcob">
                            Código De Gestión                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="dias_sin_gestion">
                            Dias Sin Gestion                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="grabador">
                            Grabador                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="usuario">
                            Usuario Encargado                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="marca">
                            Marca                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="sucursal">
                            Sucursal                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="cod_abogado">
                            Cód. Responsable Cobro.                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="nombre_sucursal">
                            Descripción Sucursal                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="descalif">
                            Calificación Crédito                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="tipo_cartera">
                            Tipo De Cartera                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="agencia">
                            Agencia                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="zona">
                            Zona                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="estado">
                            Estado Obligacion                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="compromiso_activo">
                            Tiene Compromisos                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="concontrol">
                            Código Control                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="fecha_grab_ultima">
                            Fecha Ultima Gestión Prejuridíca                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="marca_alianzas">
                            Descripción Marca                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="descripcion_zona">
                            Descripción Zona                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="nomabogado">
                            Responsable De Cobro.                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="reliquido">
                            Reliquidado                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="fechoblig">
                            Fecha Inicio Obligacion                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="abogant">
                            Abogado Anterior                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="fecha_ultimo_codigo">
                            Fecha_Ultimo_Codigo                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="clase_gestion">
                            Clase Gestion                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="franjamora">
                            Franja Día                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="franjamorames">
                            Franja Mes                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="nombresucur">
                            Empresa                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="dias_inicio_credto">
                            Días Inicio Credito                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="tipo_carterahym">
                            Tipo Cartera Hym                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="empresas">
                            Casas De Cobranza                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="num" value="noctasvenc">
                            Nro Cuotas Vencidas                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="fecha_actualizacion">
                            Fecha Actualizacion                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="fecha_importacion">
                            Fecha Importacion                        </option>
                                        <option tabla="vinformesprejuridicos" tipo="text" value="fechultipago">
                            Fecha Ultimo Pago                        </option>
                                       <option value="detallePantalla">Detalle en Pantalla</option>
                            </select>
        </div>
        
        <div class="elementos-agrupadores">
            <a href="#" id="clean_tab" class="botonAzul boton-limpiar-agrupadores" style="padding-top: 7px !important; height: 17px !important;">
                <i class="fa fa-file-o" aria-hidden="true"></i>
                Limpiar lista
            </a>
            <a href="#" id="add_tab" class="add_tab botonAzul generarInforme botonInformes">
                <i class="fa fa-caret-right" aria-hidden="true"></i>
                Generar Informe
            </a>
        </div>
        <div style="clear: both"></div>
    </div>
    <!-- Tabs con los informes -->
    <div id="tabs" class="ui-tabs ui-widget ui-widget-content ui-corner-all">
    <ul style="margin-bottom: 15px !important; margin-top: 10px !important;" class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
            <!--  Se crea el tab inicial, que contiene los filtros -->
            <li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active">
                <a href="#tabs-1"><i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Criterios de Informe
                </a>
            </li>
    </ul>
    <div id="tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
            <fieldset style="border: none; padding: 0px; margin: 0px">
                <span class="toolbar" style="margin: 0px; width: 96%; text-align: right">
                </span>
                <span id="criteriosDiv" style="margin-top: 0px;">
                    	<div id="criterios" class="ui-widge ui-widget-content" style="width: 1338.68px;">
	<div class="contenido">
            
        <div id="divCriteriosBusquedaOnLine" class="divCriteriosBusquedaOnLine" style="display: none; text-transform: none;">
            <div class="opcionTituloResultado">
                <a title="Volver a la primera consulta" class="botonGris bordeBoton" onclick="firstCriteriosMult2('','')" href="#">
                    <span class="ui-icon ui-icon-arrowthickstop-1-w" style="float:left;margin-top:-2px;"></span>
                </a>
                <a title="atras" class="botonGris bordeBoton" onclick="prevCriteriosMult2('','')" href="#">
                    <span class="ui-icon ui-icon-arrowthick-1-w" style="float:left;margin-top:-2px;"></span>
                </a>

                <span id="idPagBusquedaCriteriosSup" style="display: inline-block; width: 120px; padding: 4px 10px; text-align: center; vertical-align: bottom;"></span>

                <a title="Siguiente" class="botonGris bordeBoton" onclick="nextCriteriosMult2('','')" href="#">
                    <span class="ui-icon ui-icon-arrowthick-1-e" style="float:left;margin-top:-2px;"></span>
                </a>
                    <a title="Ir a última consulta" class="botonGris bordeBoton" onclick="lastCriteriosMult2('','')" href="#">
                    <span class="ui-icon ui-icon-arrowthickstop-1-e" style="float:left;margin-top:-2px;"></span>
                </a>
                <button onclick="$('#divCriteriosBusquedaOnLine').hide(); event.preventDefault();" class="contenedorCriteriosRemove" style="float: right; color: black;"></button>
            </div>

            <div id="divCriteriosBusquedaOnLineStatusBar" class="opcionTituloResultado"></div>

            <div id="divCriteriosBusquedaOnLineResultados" class="divCriteriosBusquedaOnLineResultados"></div>

            <div class="opcionTituloResultado">
                <a title="Volver a la primera consulta" class="botonGris bordeBoton" onclick="firstCriteriosMult2('','')" href="#">
                        <span class="ui-icon ui-icon-arrowthickstop-1-w" style="float:left;margin-top:-2px;"></span>
                </a>
                <a title="atras" class="botonGris bordeBoton" onclick="prevCriteriosMult2('','')" href="#">
                    <span class="ui-icon ui-icon-arrowthick-1-w" style="float:left;margin-top:-2px;"></span>
                </a>

                <span id="idPagBusquedaCriteriosInf" style="display: inline-block; width: 120px; padding: 4px 10px; text-align: center; vertical-align: bottom;"></span>

                <a title="Siguiente" class="botonGris bordeBoton" onclick="nextCriteriosMult2('','')" href="#">
                    <span class="ui-icon ui-icon-arrowthick-1-e" style="float:left;margin-top:-2px;"></span>
                </a>
                <a title="Ir a última consulta" class="botonGris bordeBoton" onclick="lastCriteriosMult2('','')" href="#">
                    <span class="ui-icon ui-icon-arrowthickstop-1-e" style="float:left;margin-top:-2px;"></span>
                </a>
                <button onclick="$('#divCriteriosBusquedaOnLine').hide(); event.preventDefault();" class="contenedorCriteriosRemove" style="float: right; color: black;"></button>
            </div>
        </div>
            
		<span class="toolBarCriteriosSencillo" style="float:left;width:96%">
			<table>
				<tbody><tr>
					<td>COLUMNA </td>
					<td>
						<div class="select2-container" id="s2id_col" style="width: 260px"><a href="javascript:void(0)" onclick="return false;" class="select2-choice" tabindex="-1">   <span class="select2-chosen">

									Abogado Anterior								</span><abbr class="select2-search-choice-close"></abbr>   <span class="select2-arrow"><b></b></span></a><input class="select2-focusser select2-offscreen" type="text" id="s2id_autogen1" tabindex="1"><div class="select2-drop select2-display-none select2-with-searchbox">   <div class="select2-search">       <input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input">   </div>   <ul class="select2-results">   </ul></div></div><select style="width: 260px" id="col" tabindex="-1" onchange="validarSeleccionOperador($('#ope')); limpiarArrayDeResultadosDeBusqueda();" class="select2-criterios select2-offscreen">

					        
															<option tabla="vinformesprejuridicos" tipo="text" value="abogant" programa_asociado="" limite="" selected="selected">

									Abogado Anterior								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="agencia" programa_asociado="" limite="">

									Agencia								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="descalif" programa_asociado="" limite="">

									Calificación Crédito								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="empresas" programa_asociado="" limite="">

									Casas De Cobranza								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="clase_gestion" programa_asociado="" limite="">

									Clase Gestion								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="calif_credito" programa_asociado="" limite="">

									Código Calificación Crédito								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="concontrol" programa_asociado="" limite="">

									Código Control								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="descripcion_codcob" programa_asociado="" limite="">

									Código De Gestión								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="cod_abogado" programa_asociado="" limite="">

									Cód. Responsable Cobro.								</option>
															<option tabla="vinformesprejuridicos" tipo="integer" value="consdocdeu" programa_asociado="" limite="">

									Consecutivo								</option>
															<option tabla="vinformesprejuridicos" tipo="integer" value="consconditras" programa_asociado="" limite="">

									Consecutivo Traslado								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="descripcion_tel" programa_asociado="" limite="">

									Desc. Gestión Telefonica								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="descripcion_causal" programa_asociado="" limite="">

									Descripcion Causal								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="marca_alianzas" programa_asociado="" limite="">

									Descripción Marca								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="nombre_sucursal" programa_asociado="" limite="">

									Descripción Sucursal								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="descripcion_zona" programa_asociado="" limite="">

									Descripción Zona								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="dias_inicio_credto" programa_asociado="" limite="">

									Días Inicio Credito								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="total_ges" programa_asociado="" limite="">

									Dias Mora								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="dias_sin_gestion" programa_asociado="" limite="">

									Dias Sin Gestion								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="nombresucur" programa_asociado="" limite="">

									Empresa								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="estado" programa_asociado="" limite="" selected="selected">

									Estado Obligacion								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="fecha_actualizacion" programa_asociado="" limite="">

									Fecha Actualizacion								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="fecha_importacion" programa_asociado="" limite="">

									Fecha Importacion								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="fechoblig" programa_asociado="" limite="">

									Fecha Inicio Obligacion								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="fecha_corte" programa_asociado="" limite="">

									Fecha Traslado								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="fecha_grab_ultima" programa_asociado="" limite="">

									Fecha Ultima Gestión Prejuridíca								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="fecha_ultimo_codigo" programa_asociado="" limite="">

									Fecha_Ultimo_Codigo								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="fechultipago" programa_asociado="" limite="">

									Fecha Ultimo Pago								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="fechvenci" programa_asociado="" limite="">

									Fecha Vencimiento								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="franjamora" programa_asociado="" limite="">

									Franja Día								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="franjamorames" programa_asociado="" limite="">

									Franja Mes								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="grabador" programa_asociado="" limite="">

									Grabador								</option>
															<option tabla="vinformesprejuridicos" tipo="moneda" value="valorhonor" programa_asociado="" limite="">

									Honorarios								</option>
															<option tabla="vinformesprejuridicos" tipo="moneda" value="valintmora" programa_asociado="" limite="">

									Intereses								</option>
															<option tabla="vinformesprejuridicos" tipo="moneda" value="ivahonor" programa_asociado="" limite="">

									Iva Honorarios								</option>
															<option tabla="vinformesprejuridicos" tipo="moneda" value="ivaint" programa_asociado="" limite="">

									Iva Intereses								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="marca" programa_asociado="" limite="">

									Marca								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="max_total_ges" programa_asociado="" limite="">

									Maximos Días Mora								</option>
															<option tabla="vinformesprejuridicos" tipo="num" value="nit" programa_asociado="" limite="">

									Nit								</option>
															<option tabla="vinformesprejuridicos" tipo="num" value="noctasvenc" programa_asociado="" limite="">

									Nro Cuotas Vencidas								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="factura" programa_asociado="" limite="">

									Nro Factura								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="nrodoc" programa_asociado="" limite="">

									Nro Obligacion								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="reliquido" programa_asociado="" limite="">

									Reliquidado								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="nomabogado" programa_asociado="" limite="">

									Responsable De Cobro.								</option>
															<option tabla="vinformesprejuridicos" tipo="moneda" value="saldo_capital" programa_asociado="" limite="">

									Saldo Capital								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="sucursal" programa_asociado="" limite="">

									Sucursal								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="tiene_codeudor" programa_asociado="" limite="">

									Tiene Codeudor								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="compromiso_activo" programa_asociado="" limite="">

									Tiene Compromisos								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="tipo_carterahym" programa_asociado="" limite="">

									Tipo Cartera Hym								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="tipo_cartera" programa_asociado="" limite="">

									Tipo De Cartera								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="val_pagado" programa_asociado="" limite="">

									Valor Pagado								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="valor_ult_abono" programa_asociado="" limite="">

									Valor Ultimo Abono								</option>
															<option tabla="vinformesprejuridicos" tipo="numeric" value="valorvencido" programa_asociado="" limite="">

									Valor Vencido								</option>
															<option tabla="vinformesprejuridicos" tipo="text" value="zona" programa_asociado="" limite="">

									Zona								</option>
													</select>
					</td>
					<td>OPERADOR </td>
					<td>
						<div class="select2-container" id="s2id_ope" style="width: 240px; float: left;"><a href="javascript:void(0)" onclick="return false;" class="select2-choice" tabindex="-1">   <span class="select2-chosen">Igual Que</span><abbr class="select2-search-choice-close"></abbr>   <span class="select2-arrow"><b></b></span></a><input class="select2-focusser select2-offscreen" type="text" id="s2id_autogen2" tabindex="2"><div class="select2-drop select2-display-none select2-with-searchbox">   <div class="select2-search">       <input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input">   </div>   <ul class="select2-results">   </ul></div></div><select placeholder="Seleccione Un Operador" style="width: 240px; float: left;" id="ope" tabindex="-1" onchange="validarSeleccionOperador(this);" class="select2-criterios select2-offscreen">
							<option value="LIKE2" data-jqgrid="bw">Comience Por</option>
							<option value="<>" data-jqgrid="ne">Distinto De</option>
							<option value="IS NULL" data-jqgrid="nu">Es Nulo</option>
							<option value="LIKE1" data-jqgrid="ew">Finalice Por</option>
                                                        <option value="=" data-jqgrid="eq" selected="selected">Igual Que</option>
							<option value="IN" data-jqgrid="in">Incluya</option>
							<option value=">" data-jqgrid="gt">Mayor Que</option>
							<option value="<" data-jqgrid="lt">Menor Que</option>
							<option value=">=" data-jqgrid="ge">Mayor o Igual Que</option>
							<option value="<=" data-jqgrid="le">Menor o Igual Que</option>
                                                        <option value="NOT IN" data-jqgrid="ni">No Incluya</option>							
							<option value="LIKE" data-jqgrid="cn">Parecido A</option>
							<option value="BETWEEN" data-jqgrid="bt">Se Encuentre Entre</option>
						</select>
					</td>
					<td valign="middle">  VALOR </td>
					<td>
						<input type="text" style="width:150px; float: left; position: relative;" id="valor" onfocus="validarSeleccionOperador($('#ope'));" tabindex="3" maxlength="100500">
					</td>
					<td style="min-width: 220px;">
						<a href="javascript:;" id="btnAgregarCriterio" title="Agregar Criterio" tabindex="4" class="botonGris"><span class="ui-icon ui-icon-plus" style="float:left;margin-top:-2px;"></span></a>
						<a href="#" title="Abrir Calendario" tabindex="5" id="btnCalendario" style="display: none; height: 14px" class="botonGris">
						 	<input type="hidden" id="inputCalendario" class="hasDatepicker"><img class="ui-datepicker-trigger ui-icon ui-icon-calendar" src="" alt="..." title="Abrir Calendario">
						</a>
						<a href="#" title="Abrir Hora" tabindex="6" id="btnHora" style="display: none; height: 14px" class="botonGris">
						 	<input type="hidden" id="inputHora" class="hasDatepicker" value=""><button type="button" class="ui-datepicker-trigger ui-icon ui-icon-clock" title="Abrir Hora">...</button>
						</a>
						<a href="javascript:BuscarCampos('valor')" title="Listar Valores Campo" tabindex="6" class="botonGris"><span class="ui-icon ui-icon-note" style="float:left;margin-top:-2px;"></span></a>									
						<a href="#" title="Limpiar Criterios" tabindex="7" class="botonGris" id="limpiar_criterios"><span class="ui-icon ui-icon-document" style="float:left;margin-top:-2px;"></span></a>
						<a href="javascript:mostrarAyudaCampo()" title="Mostrar Ayuda del Campo" tabindex="7" class="botonGris"><span class="ui-icon ui-icon-help" style="float:left;margin-top:-2px;"></span></a>
					</td>
				</tr>
			</tbody></table>		
		</span>
	</div>
	<br style="clear: both">                
    <div class="divCritSelected">
        <span><h3 class="tituloCriterios">CRITERIOS SELECCIONADOS:</h3></span>
        <ul id="ulCriterios"><li class="toolbar" campo="estado" operador="=" data-jqgrid="eq" valor="A" tipo="text" tabla="vinformesprejuridicos" style="display: list-item;"><table style="width:100%"><tbody><tr><td width="100%">

									Estado Obligacion								 <span>Igual Que A</span></td><td><button class="eliminar" title="Remover" onclick="removerCriterio(this);"></button></td></tr></tbody></table></li></ul>
    </div>
	</div>


<input type="hidden" style="display: none" id="tabla" value="">
<input type="hidden" style="display: none" id="id" value="">
<input type="hidden" style="display: none" id="nom_programa" value="informesprejuridicos">
<input type="hidden" id="nombreInforme2" value="">

<script type="text/javascript">
$( document ).ready(function() {
	cargarCriterioEstadoInicial();	
	inicializarDatePickerInformes();
	validarSeleccionOperador($('#ope'));
});
	
try{	
	$(".select2-criterios").select2();	
	// Para evitar que agentes virtuales falle.
	$(".select2").select2();	
}catch( err ){		
}

$("#btnAgregarCriterio").click(function(){
    agregarCriterio('');
});

$("#limpiar_criterios").click(function(){
    var hayDatos = false;
    $('#ulCriterios li').each(function(index) {
        hayDatos = true;
    });
    
    if (hayDatos) {
        if (preguntaConfirmacion('¿'+_('esta seguro que desea borrar los criterios actuales')+'?')) {
            $('#ulCriterios li').fadeOut(200).remove();
        }
    }
});

$("#divCriteriosBusquedaOnLine").hide();

</script>
                </span>
            </fieldset>
            <div class="toolbar" id="toolBarCriterios">
        <div class="select2-container minwidth200" id="s2id_criteriosGuardados2" style="font-size:6.5pt"><a href="javascript:void(0)" onclick="return false;" class="select2-choice" tabindex="-1">   <span class="select2-chosen">Seleccione un criterio</span><abbr class="select2-search-choice-close"></abbr>   <span class="select2-arrow"><b></b></span></a><input class="select2-focusser select2-offscreen" type="text" id="s2id_autogen5" tabindex="0"><div class="select2-drop select2-display-none select2-with-searchbox">   <div class="select2-search">       <input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input">   </div>   <ul class="select2-results">   </ul></div></div><select class="minwidth200 select2-offscreen" onchange="agregarCriterioGuardado();" id="criteriosGuardados2" style="font-size:6.5pt" tabindex="-1">
            <option value="0">Seleccione un criterio</option>
                        <option value="a1c1bc346b87cde8f77f0ef25ccc2d39">DESFASADOS   (ldmonsalve)</option>
                        <option value="6d275343b60d4e79fd6a9586bfa8702a">sin getsion teresa   (axtoro)</option>
                        <option value="7bb4d1ccf3946ce27bf098e01ec2bba4">sin gestion ayc   (axtoro)</option>
                        <option value="987e53203fd3dd458cf9438bf2f8450d">PREJURIDICO PREVENTIVO   (ccastrillon)</option>
                        <option value="74f87f0765498bf39e50b52e4ff69c06">MOTORIZADOS APART, JARD Y ANDE   (ccastrillon)</option>
                    </select>
        <a href="#" class="botonAzul editarCriteriosGuardados botonInformes" id="editarCriteriosGuardados">
            <span><i class="fa fa-pencil" aria-hidden="true"></i>  Administrar Criterios</span>
        </a>
        <a href="#" class="botonGuardar abrirGuardarCriterios botonInformes" id="abrirGuardarCriterios">
            <span><i class="fa fa-floppy-o" aria-hidden="true"></i>  Guardar Criterios</span>
        </a>
        <a href="#" id="add_tab" class="add_tab botonAzul generarInforme botonInformes">
            <i class="fa fa-caret-right" aria-hidden="true"></i>
            Generar Informe
        </a>
        <input type="hidden" style="display:none" id="nom_programa" value="">
        <input type="hidden" style="display:none" id="filtroAux" value="">
    </div>
    </div>
    </div>

    <div id="criteriosGuardadosDiv" style="display:none;background:#ddd">
        <ul>
            <li id="63">DESFASADOS (ldmonsalve)</li><li id="696">MOTORIZADOS APART, JARD Y ANDE (ccastrillon)</li><li id="492">PREJURIDICO PREVENTIVO (ccastrillon)</li><li id="448">sin gestion ayc (axtoro)</li><li id="445">sin getsion teresa  (axtoro)</li>        </ul>
        <input type="hidden" name="tokencsrf_informes" value="TVRVNU5UVXpNakl5TVRFelRIRmtPVXhaT0ZCRWJVaHpNMm8zUmxsbGIyWjVjMkZ4VFc1Q05WWlA=" id="tokencsrf_informes">
    </div>
    <div id="box-criterios" style="display:none">
        <div>
            <div style="float:left;margin-top:5px;margin-right:27px">NOMBRE CRITERIO</div>
            <div style="float:left;width:60%">
                <input style="width:95%" type="text" maxlength="30" id="nombreInforme" value="">
            </div>
            <div style="clear:both"></div>
        </div>
        <br>
        <div>
            <div style="float:left;margin-top:5px;margin-right:20px">COMPARTIR CRITERIO</div>
            <div style="float:left;width:60%">
                <div class="select2-container" id="s2id_compartir" style="width:100%"><a href="javascript:void(0)" onclick="return false;" class="select2-choice" tabindex="-1">   <span class="select2-chosen">S</span><abbr class="select2-search-choice-close"></abbr>   <span class="select2-arrow"><b></b></span></a><input class="select2-focusser select2-offscreen" type="text" id="s2id_autogen4" tabindex="0"><div class="select2-drop select2-display-none select2-with-searchbox">   <div class="select2-search">       <input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input">   </div>   <ul class="select2-results">   </ul></div></div><select style="width:100%" id="compartir" tabindex="-1" class="select2-offscreen">
                    <option value="S">S</option>
                    <option value="N">N</option>
                </select>
            </div>
            <div style="clear:both"></div>
        </div>
        <div style="margin-top:20px;text-align:left;">
            <a href="#" class="botonGuardar" onclick="crearJson('index.php?rtr=mantenimiento&amp;ctr=creadorCRUDCtr&amp;acc=guardarDatosArray')">Guardar Criterio</a>
        </div>
    </div>
    <span class="send"></span>
</div>
<!-- End demo -->
<script type="text/javascript">

    $(document).ready(function () {

        setTableBody();
        $(window).resize(setTableBody);
        $('.contenedorTabla_ > table > tbody').scroll(function ()
        {
            $('.contenedorTabla_ > table > thead').offset({ left: -1*this.scrollLeft });
        });
    });

    function setTableBody()
    {
        $('.contenedorTabla_ > table > tbody').height($(".contenedorTabla_").height() - $('.contenedorTabla_ > table > thead').height());
    }

    var tabActual = 0;
    $(function() {
        $(".botonGridChart").live('click',function(e){
            e.preventDefault();
            var agrupadorTmp    = $("#agrupador").val();
            var textLabel   = $("#agrupador option[value='"+agrupadorTmp+"']").text();
            var tab_title   = $tab_title_input.val() || "Grafico " + intval(tab_counter-1) + " ("+textLabel+")" ;

            $tabs.tabs( "add", "#tabs-" + tab_counter, tab_title );
            $tabs.tabs('select', nrotabs+1);

            form = $('#'+$(this).attr('target'));

            generarChart('inf_'+tab_counter,form.find('input'),tab_title);

            tab_counter++;
            nrotabs++;
        });

        // addTab button: just opens the dialog
        $(".editarCriteriosGuardados").live('click',function() {
            //$("#criteriosGuardadosDiv").slideToggle('normal');
            AbrirVentanaModal('', 300, 400, false, 'Lista Criterios Guardados', 'criteriosGuardadosDiv', true);
        });

        $(".abrirGuardarCriterios").live('click',function(){
            AbrirVentanaModal('', 180, 400, false, 'Información de criterio', 'box-criterios', true);
        });

        $('.send').on('success',function(e){
            e.preventDefault();
            cerrarVentanaModal('box-criterios');
            var nom_programa = $("#nom_programa").val();

            cargar_pantalla_load("index.php?rtr=informes&ctr=InformesControlador&acc=reloadToolBar&nom_programa="+nom_programa, 'toolBarCriterios', true);
        });

        // close icon: removing the tab on click
        // note: closable tabs gonna be an option in the future - see http://dev.jqueryui.com/ticket/3924
        $( "#tabs span.ui-icon-close" ).live( "click", function() {
            var index = $( "li", $tabs ).index( $( this ).parent() );
            if(!preguntaConfirmacion('¿Desea Borrar  '+ $(this).parent().text()+'?'))
                    return;

            $tabs.tabs( "remove", index );
            nrotabs--;
        });
    });

    $("#tabs-1 #criterios").css('width', $(window).width() * 0.98);

    $('#agrupador2').on('change', function() {
        if (this.value == 'detallePantalla') {
            $("#agrupador").select2('enable', false); 
            $("#agrupador").select2('val', ''); 
        } else {
            $("#agrupador").select2('enable', true); 
        }
    });


    var bPermitirListadoTipoFechaInformes = false;
    var tabActual=0;
    //Url donde se genera el informe
    var urlInforme = 'index.php?rtr=informes&ctr=informesControlador&acc=generarInforme&mostrardetapre=&nombreInforme=INFORMES PREJURIDICOS';
    var nombreArchivoGenerar = '';
    var criteriosGuardados = new Array();
    $(document).ready(function(){

    //Agrega los criterios guardados al array, por cada criterio crea
    //un objeto CriterioDto js
            criteriosGuardados.push(
            new CriterioDto(
        "a1c1bc346b87cde8f77f0ef25ccc2d39",
        "Estado Obligacion",
        "vinformesprejuridicos",
        "estado",
        "A",
        "=",
        "ldmonsalve",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "a1c1bc346b87cde8f77f0ef25ccc2d39",
        "Dias Mora",
        "vinformesprejuridicos",
        "total_ges",
        "240",
        ">=",
        "ldmonsalve",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "a1c1bc346b87cde8f77f0ef25ccc2d39",
        "Dias Sin Gestion",
        "vinformesprejuridicos",
        "dias_sin_gestion",
        "30",
        ">=",
        "ldmonsalve",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "6d275343b60d4e79fd6a9586bfa8702a",
        "Estado Obligacion",
        "vinformesprejuridicos",
        "estado",
        "A",
        "=",
        "axtoro",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "6d275343b60d4e79fd6a9586bfa8702a",
        "Cód. Responsable Cobro.",
        "vinformesprejuridicos",
        "cod_abogado",
        "tealvarez",
        "=",
        "axtoro",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "6d275343b60d4e79fd6a9586bfa8702a",
        "Código De Gestión",
        "vinformesprejuridicos",
        "descripcion_codcob",
        "9999",
        "=",
        "axtoro",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "7bb4d1ccf3946ce27bf098e01ec2bba4",
        "Estado Obligacion",
        "vinformesprejuridicos",
        "estado",
        "A",
        "=",
        "axtoro",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "7bb4d1ccf3946ce27bf098e01ec2bba4",
        "Cód. Responsable Cobro.",
        "vinformesprejuridicos",
        "cod_abogado",
        "ccastrillon::jhmoreno",
        "BETWEEN",
        "axtoro",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "7bb4d1ccf3946ce27bf098e01ec2bba4",
        "Consecutivo Traslado",
        "vinformesprejuridicos",
        "consconditras",
        "67",
        "=",
        "axtoro",
        "S",
        "integer"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "987e53203fd3dd458cf9438bf2f8450d",
        "Estado Obligacion",
        "vinformesprejuridicos",
        "estado",
        "A",
        "=",
        "ccastrillon",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "987e53203fd3dd458cf9438bf2f8450d",
        "Responsable De Cobro.",
        "vinformesprejuridicos",
        "nomabogado",
        "CLAUDIA CRISTINA CASTRILLON",
        "=",
        "ccastrillon",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "987e53203fd3dd458cf9438bf2f8450d",
        "Consecutivo Traslado",
        "vinformesprejuridicos",
        "consconditras",
        "70",
        "=",
        "ccastrillon",
        "S",
        "integer"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "74f87f0765498bf39e50b52e4ff69c06",
        "Estado Obligacion",
        "vinformesprejuridicos",
        "estado",
        "A",
        "=",
        "ccastrillon",
        "S",
        "text"
    ));
            criteriosGuardados.push(
            new CriterioDto(
        "74f87f0765498bf39e50b52e4ff69c06",
        "Descripción Sucursal",
        "vinformesprejuridicos",
        "nombre_sucursal",
        "HYM APARTADO::HYM JARDIN::HYM ANDES",
        "BETWEEN",
        "ccastrillon",
        "S",
        "text"
    ));
        //cada crierios cargado se agrega a la vista de los
    //criterios en pantalla
        });

    $('#compartir').select2();
    $("#criteriosGuardados2").select2();

    /** Permitir que los gestores puedan utilizar tab y enter en la pantalla de gestión **/

           var i = 1;

            $("#navigation > li.top-nav > a").each(function () {
                $(this).attr('tabindex', i);
                i++;
            });


            var j = 21;

            $("ul.sub > li > a").each(function () {
                $(this).attr('tabindex', j);
                 j++;
             });


            $("#navigation > li > a").keydown(function (e) {
                 if (e.which === 13) {
                    $(this).siblings('ul.sub').attr('style', 'display: block !important;');
                    $('ul.sub > li:nth-child(1) > a').focus();
                 }
             });


            $('ul.sub > li:last-child').keydown(function (e) {
                if (e.which === 9) {
                    $(this).parent().attr('style', 'display: none;');
                }
             });

            $('ul.sub > li').keydown(function (e) {
                if (e.which === 27) {
                    $(this).parent().attr('style', 'display: none;');
                }
             });

            $('#navigation > li.top-nav').keydown(function (e) {
                if (e.which === 13) {
                    $(this).children('ul.sub').attr('style', 'display: block !important;');
                }
             });

            $('#navigation > li.top-nav > a').keydown(function (e) {
                if (e.which === 13) {
                    $(this).children('ul.sub').attr('style', 'display: block !important;');
                }
             });

            $('#navigation > li.top-nav > ul.sub > li').keydown(function (e) {
                if (e.which === 13) {
                    $(this).click();
                }
             });

            $('#navigation > li.top-nav > ul.sub > li > a').keydown(function (e) {
                if (e.which === 13) {
                    $(this).click();
                }
             });

            $('#navigation > li.top-nav').removeAttr('tabindex');

            /*** Desabilitar tab en menu superior derecho (cambair perfil, cerrar sesion, etc) ****/

            $('.top-menu-bar-right > .top-menu-item').each(function () {
                $(this).attr('tabindex', -1);
            });

            $('.top-menu-bar-right > .top-menu-item > a').each(function () {
                $(this).attr('tabindex', -1);
            });

            $('.top-menu-bar-right > .top-menu-item >  .submenuInicio > a').attr('tabindex', -1);
            $('.top-menu-bar-right > .top-menu-item >  .iconoInicio > a').attr('tabindex', -1);
            $('.top-menu-bar-right > .top-menu-item >  .iconoCambiarPerfil> a').attr('tabindex', -1);

            /*** Fin desabilitar tab en menu superior derecho (cambair perfil, cerrar sesion, etc) ****/

            /** Fin permitir que los gestores puedan utilizar tab y enter en la pantalla de gestión **/

</script>

<style>
    .margen-agrupadores{width:96%; margin: 0 auto;}
    .elementos-agrupadores{float: left; width:auto; margin-right: 10px !important; }
    .elementos-agrupadores a.generarInforme { float: left !important; margin-right: 10px !important;}
    .elementos-agrupadores a.boton-limpiar-agrupadores{ display: inline-block;}
    @media only screen and (max-width: 850px) {
        .elementos-agrupadores{float: left; width:50%;}
    }
    @media only screen and (max-width: 600px) {
        .elementos-agrupadores{float: left; width:100%;}
    }
    #dialog label, #dialog input { display:block; }
    #dialog label { margin-top: 0.5em; }
    #dialog input, #dialog textarea { width: 95%; }
    #tabs { margin: 0px 3px 0px 0px;
    }
    #tabs li .ui-icon-close { float: left; margin: 0.1em 0.2em 0 0; cursor: pointer; }
    #add_tab { cursor: pointer; }

    .contenedorTabla_ {
        height: auto !important;
        margin-left: auto !important;
        margin-right: auto !important;
        overflow: auto !important;
        width: fit-content !important;
        display:table;
        width: intrinsic; /* Safari/WebKit uses a non-standard name */ 
        width: -moz-max-content; /* Firefox/Gecko */ 
        width: -webkit-max-content;
    }

    .dataTables_scrollBody {
        min-height: 30px !important;
    }

    .dataTables_scrollHead {
        z-index: 1 !important;
    }

    .dataTables_wrapper .dataTables_filter {
        color: #42474a !important;
        float: left !important;
        font-family: 'Open Sans' !important;
        font-size: 10px;
        margin-bottom: 13px;
        margin-left: 15px !important;
        text-align: left !important;
        text-transform: uppercase;
    }

    .DTFC_LeftHeadWrapper {
        z-index: 1004 !important;
    }

    .DTFC_LeftBodyWrapper {
        margin-top: -15px !important;
        z-index: 999 !important;
    }

</style>                    </div>
                </div>
            </div>
            <div class="pane ui-layout-east">
                <div id="menu_derecho" style="display:none">
                                        <div id="divMenuDerecha"></div>
                </div>
                <div id="menu_derecho_inf" style="display:none">
                </div>
            </div>
        </div>
        <!-- CAMBIAR DE PERFIL -->
        
        
        <div id="divVentanaDirec"></div>
        <div id="divJs"></div>
        <script type="text/javascript">
            var agrupador = "";
            $(document).ready(function() {
            	$('.cluetip[title]').qtip({
            		position: {
            			my: 'top right',
            		    at: 'bottom left'
            		},
            		style: {
            		   tip: true,
            		   //widget: true,
            		   classes: 'qtip-default qtip qtip-dark qtip-shadow'
            	    }
            	});
            	
                $(".boton" ).button();
                $("#dialogperfil").dialog({
                    autoOpen: false,
                    show: "blind",
                    width: 500,
                    height: 400,
                    position: "center",
                    modal: true,
                    resizable: false
                });

                $("#opener").click(function() {        
                    $("#dialogperfil").dialog("open");
                    return false;
                });
                            });

            function abrirInfoUsuario() {
            	var mouseoverinfo = false;
            	$('#modal_bv_info').load('index.php?rtr=mantenimiento&ctr=Administracionbd&acc=vistaInfoUsuario');
            	
            	$('#modal_bv_info').modal({
            		modal: false,
            		position: [40,5],
            		opacity: 80,
            		focus: true,
            		onShow: function() {
            			setTimeout(function () {
            				if (!mouseoverinfo) $.modal.close(); 
            	        }, 4000);
            		},
            	});
            	
            	$('#modal_bv_info').hover(function(){ 
                    mouseoverinfo = true;  
                }, function() {
                	setTimeout(function () {
                		$.modal.close(); 
                    }, 1000);
                });
            }
      </script>
    
<div id="__messageQueue__container" class="messageContainer"></div><div id="ui-datepicker-div" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all" style="display: none;"><a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_1595532233021.datepicker._adjustDate('#inputHora', -1, 'M');" title="Anterior"><span class="ui-icon ui-icon-circle-triangle-w">Anterior</span></a><a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_1595532233021.datepicker._adjustDate('#inputHora', +1, 'M');" title="Siguiente"><span class="ui-icon ui-icon-circle-triangle-e">Siguiente</span></a><div class="ui-datepicker-title"><span class="ui-datepicker-month">Julio</span>&nbsp;<span class="ui-datepicker-year">2020</span></div></div><table class="ui-datepicker-calendar" style="display: none;"><thead><tr><th class="ui-datepicker-week-end"><span title="Domingo">Do</span></th><th><span title="Lunes">Lu</span></th><th><span title="Martes">Ma</span></th><th><span title="Miércoles">Mi</span></th><th><span title="Jueves">Ju</span></th><th><span title="Viernes">Vi</span></th><th class="ui-datepicker-week-end"><span title="Sábado">Sa</span></th></tr></thead><tbody><tr><td class=" ui-datepicker-week-end ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">1</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">2</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">3</a></td><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">4</a></td></tr><tr><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">5</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">6</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">7</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">8</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">9</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">10</a></td><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">11</a></td></tr><tr><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">12</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">13</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">14</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">15</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">16</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">17</a></td><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">18</a></td></tr><tr><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">19</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">20</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">21</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">22</a></td><td class=" ui-datepicker-days-cell-over  ui-datepicker-current-day ui-datepicker-today" onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default ui-state-highlight ui-state-active ui-state-hover" href="#">23</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">24</a></td><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">25</a></td></tr><tr><td class=" ui-datepicker-week-end " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">26</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">27</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">28</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">29</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">30</a></td><td class=" " onclick="DP_jQuery_1595532233021.datepicker._selectDay('#inputHora',6,2020, this);return false;"><a class="ui-state-default" href="#">31</a></td><td class=" ui-datepicker-week-end ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td></tr></tbody></table><div class="ui-timepicker-div" id="ui-timepicker-div-inputHora"><div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">Seleccione la Hora</div></div><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_inputHora">Hora</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_inputHora">00:00:00</dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_inputHora">Horas</dt><dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_inputHora" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"><a href="#" class="ui-slider-handle ui-state-default ui-corner-all" style="left: 0%;"></a></div></dd><dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_inputHora">Minutos</dt><dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_inputHora" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"><a href="#" class="ui-slider-handle ui-state-default ui-corner-all" style="left: 0%;"></a></div></dd><dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_inputHora">Segundos</dt><dd class="ui_tpicker_second"><div id="ui_tpicker_second_inputHora" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"><a href="#" class="ui-slider-handle ui-state-default ui-corner-all" style="left: 0%;"></a></div></dd><dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_inputHora" style="display:none;">Milisegundos</dt><dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_inputHora" style="display:none;" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"><a href="#" class="ui-slider-handle ui-state-default ui-corner-all" style="left: 0%;"></a></div></dd><dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_inputHora" style="display:none;">Zona Horaria</dt><dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_inputHora" style="display:none;"><select><option value="-1100">-1100</option><option value="-1000">-1000</option><option value="-0900">-0900</option><option value="-0800">-0800</option><option value="-0700">-0700</option><option value="-0600">-0600</option><option value="-0500">-0500</option><option value="-0400">-0400</option><option value="-0300">-0300</option><option value="-0200">-0200</option><option value="-0100">-0100</option><option value="+0000">+0000</option><option value="+0100">+0100</option><option value="+0200">+0200</option><option value="+0300">+0300</option><option value="+0400">+0400</option><option value="+0500">+0500</option><option value="+0600">+0600</option><option value="+0700">+0700</option><option value="+0800">+0800</option><option value="+0900">+0900</option><option value="+1000">+1000</option><option value="+1100">+1100</option><option value="+1200">+1200</option></select></dd></dl></div><div class="ui-datepicker-buttonpane ui-widget-content"><button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_1595532233021.datepicker._gotoToday('#inputHora');">Hoy</button><button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_1595532233021.datepicker._hideDatepicker();">Cerrar</button></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-divVentanaModal" style="display: none; z-index: 1000; outline: 0px; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-divVentanaModal">Administracion Base de Datos</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="divVentanaModal" class="ui-dialog-content ui-widget-content"></div><div class="ui-resizable-handle ui-resizable-n"></div><div class="ui-resizable-handle ui-resizable-e"></div><div class="ui-resizable-handle ui-resizable-s"></div><div class="ui-resizable-handle ui-resizable-w"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se" style="z-index: 1001;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 1002;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 1003;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 1004;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-dialogperfil" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-dialogperfil">SELECCIONAR PERFIL</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="dialogperfil" style="z-index: 2000000; width: 100%;" class="ui-dialog-content ui-widget-content">
            <div style="floar:left; height: 47px; width: 120px; display: inline-block;">
                <img class="logoEmpresaPerfil" src="/vsmart/imagenes/logos/solati.png">
                
            </div>
            <div style="display: inline block; float: right; width: 200px;">
                 <p class="tituloSeleccionarPerfil">SELECCIONAR PERFIL</p>
                <img class="logoAdminfoPerfil" src="/vsmart/imagenes//logos/logo-adminfo-color.png" alt="logo-adminfo-smart">
            </div>
            <table id="table_rol" style="width:490px;border-spacing:0;border-collapse:collapse;border:none; font-size: 12px;">
                <tbody>
                    <tr>
                        <td style="width:70px" rowspan="5"><img src="/vsmart/imagenes//64x64/perfil.jpg" <="" td="">
                    </td></tr>
                    <tr>
                        <td style="width:100px">Usuario</td>
                        <td>dfdiaz</td>
                    </tr>
                    <tr>
                        <td>Nombre</td>
                        <td>David Fernando Díaz Suárez</td>
                    </tr>
                    <tr>
                        <td>Identificación</td>
                        <td>14399033</td>
                    </tr>
                    <tr>
                        <td>Empresa</td>
                        <td>alianzas</td>
                    </tr>
                </tbody>    
            </table>
            <table id="table_rol" class="tabla_estilo" style="width:490px; border:none; border-spacing:0; border-collapse:collapse;">
                <thead>
                    <tr>
                        <th style="padding: 2px 4px; text-align:center; width:50px"><p>GRUPO</p></th>
                        <th style="padding: 2px 4px; text-align:left"> PERFIL</th>
                    </tr>
                </thead>
            </table>
            <div style="width:490px;margin:0px;padding:0px;height:200px;overflow:scroll;border: 1px solid #c6c5c5;">
                <table class="tablaPerfil" style="width:100%;border:none; border-spacing:0; border-collapse:collapse;">
                                <tbody><tr class="filaMargen"></tr>

                                    <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=1">1</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=1">Asesor</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=2">2</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=2">Administrador</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=3">3</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=3">Coordinador</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=4">4</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=4">Caja</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=5">5</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=5">Descuento</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=6">6</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=6">Coordinador Alianzas</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=7">7</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=7">Administrador Cobro Juridico</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=8">8</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=8">Abogado</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=9">9</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=9">Asesores HyM</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=10">10</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=10">Administrador HyM</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=11">11</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=11">Coordinador HyM</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=12">12</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=12">Franja 1-9</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=13">13</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=13">Franja 10-30</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=14">14</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=14">Franja 31-60</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=15">15</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=15">Franja 61-90</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=16">16</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=16">Franja 91-120</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                            <tr style="cursor:pointer" class="ui-widget-content jqgrow ui-row-ltr">
                        <td style="width:50px; padding: 4px; text-align:center; cursor:pointer;border-color: #ffffff;">
                                                            <a style="display:block;width:100%;text-decoration:none;border-color: #ffffff;" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=17">17</a>
                                                    </td>
                        <td style="padding: 4px; cursor:pointer;"><a style="display:block;width:100%;text-decoration:none" href="?rtr=mantenimiento&amp;ctr=inicio&amp;consgrupo=17">Franja Prejuridica</a></td>
                                            </tr>
                    <tr class="filaMargen"></tr>
                                        </tbody></table>
            </div>
        </div></div></body></html>